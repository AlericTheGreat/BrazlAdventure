<!DOCTYPE html>
<!-- saved from url=(0129)https://dl.dropboxusercontent.com/content_link_htmlify/xeDfrZlcFQJgvVQTBSb92K7mwKdyn2SynnRMnNldP1LqQC6md38bMdrMavYldaTR/file?dl=0 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <!--<base href="//www.dropbox.com" target="_top">--><base href="." target="_top">
  <style type="text/css">
html, body, pre {
    margin: 0;
    padding: 0;
}
body {
    font-size: 12px;
}
pre {
    white-space: pre-wrap;
    word-wrap: break-word;
}
#code .syntaxhighlighter {
    overflow: visible !important;
    margin: 0 !important;
}
.add-padding #code {
    padding: 10px;
}
</style>
  <link rel="stylesheet" href="./preview_html_rams.css">
  <script src="./jquery-1.10.2.min.js"></script>
  <script src="./frame_messenger_client.min.js"></script>
  <script src="./preview_html_rams.js"></script>
  <script type="text/javascript">
    var lastPostedHeight = -1;
    function postHeight() {
        var currentHeight = document.body.scrollHeight;
        if (currentHeight != lastPostedHeight) {
            lastPostedHeight = currentHeight;
            parent.postMessage(currentHeight, 'https://www.dropbox.com');
        }
    }
    function postHeightRepeat(n) {
        if (!n) return;

        postHeight();
        window.setTimeout(function() { postHeightRepeat(n-1) }, 250);
    }
    function onload() { 
            var elm = document.getElementById('code');
            SyntaxHighlighter.defaults['toolbar'] = false;
            SyntaxHighlighter.defaults['quick-code'] = false;
            SyntaxHighlighter.defaults['auto-links'] = false;
            SyntaxHighlighter.highlight(elm);
         }
  </script>
  
            <script type="text/javascript" src="./syntax.js"></script>
            <link href="./syntax.css" type="text/css" rel="stylesheet">
        
 </head>
 <body class="add-padding" onload="onload(); postHeightRepeat(20);" style="">
  <div id="code"><div id="highlighter_616824" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div><div class="line number117 index116 alt2">117</div><div class="line number118 index117 alt1">118</div><div class="line number119 index118 alt2">119</div><div class="line number120 index119 alt1">120</div><div class="line number121 index120 alt2">121</div><div class="line number122 index121 alt1">122</div><div class="line number123 index122 alt2">123</div><div class="line number124 index123 alt1">124</div><div class="line number125 index124 alt2">125</div><div class="line number126 index125 alt1">126</div><div class="line number127 index126 alt2">127</div><div class="line number128 index127 alt1">128</div><div class="line number129 index128 alt2">129</div><div class="line number130 index129 alt1">130</div><div class="line number131 index130 alt2">131</div><div class="line number132 index131 alt1">132</div><div class="line number133 index132 alt2">133</div><div class="line number134 index133 alt1">134</div><div class="line number135 index134 alt2">135</div><div class="line number136 index135 alt1">136</div><div class="line number137 index136 alt2">137</div><div class="line number138 index137 alt1">138</div><div class="line number139 index138 alt2">139</div><div class="line number140 index139 alt1">140</div><div class="line number141 index140 alt2">141</div><div class="line number142 index141 alt1">142</div><div class="line number143 index142 alt2">143</div><div class="line number144 index143 alt1">144</div><div class="line number145 index144 alt2">145</div><div class="line number146 index145 alt1">146</div><div class="line number147 index146 alt2">147</div><div class="line number148 index147 alt1">148</div><div class="line number149 index148 alt2">149</div><div class="line number150 index149 alt1">150</div><div class="line number151 index150 alt2">151</div><div class="line number152 index151 alt1">152</div><div class="line number153 index152 alt2">153</div><div class="line number154 index153 alt1">154</div><div class="line number155 index154 alt2">155</div><div class="line number156 index155 alt1">156</div><div class="line number157 index156 alt2">157</div><div class="line number158 index157 alt1">158</div><div class="line number159 index158 alt2">159</div><div class="line number160 index159 alt1">160</div><div class="line number161 index160 alt2">161</div><div class="line number162 index161 alt1">162</div><div class="line number163 index162 alt2">163</div><div class="line number164 index163 alt1">164</div><div class="line number165 index164 alt2">165</div><div class="line number166 index165 alt1">166</div><div class="line number167 index166 alt2">167</div><div class="line number168 index167 alt1">168</div><div class="line number169 index168 alt2">169</div><div class="line number170 index169 alt1">170</div><div class="line number171 index170 alt2">171</div><div class="line number172 index171 alt1">172</div><div class="line number173 index172 alt2">173</div><div class="line number174 index173 alt1">174</div><div class="line number175 index174 alt2">175</div><div class="line number176 index175 alt1">176</div><div class="line number177 index176 alt2">177</div><div class="line number178 index177 alt1">178</div><div class="line number179 index178 alt2">179</div><div class="line number180 index179 alt1">180</div><div class="line number181 index180 alt2">181</div><div class="line number182 index181 alt1">182</div><div class="line number183 index182 alt2">183</div><div class="line number184 index183 alt1">184</div><div class="line number185 index184 alt2">185</div><div class="line number186 index185 alt1">186</div><div class="line number187 index186 alt2">187</div><div class="line number188 index187 alt1">188</div><div class="line number189 index188 alt2">189</div><div class="line number190 index189 alt1">190</div><div class="line number191 index190 alt2">191</div><div class="line number192 index191 alt1">192</div><div class="line number193 index192 alt2">193</div><div class="line number194 index193 alt1">194</div><div class="line number195 index194 alt2">195</div><div class="line number196 index195 alt1">196</div><div class="line number197 index196 alt2">197</div><div class="line number198 index197 alt1">198</div><div class="line number199 index198 alt2">199</div><div class="line number200 index199 alt1">200</div><div class="line number201 index200 alt2">201</div><div class="line number202 index201 alt1">202</div><div class="line number203 index202 alt2">203</div><div class="line number204 index203 alt1">204</div><div class="line number205 index204 alt2">205</div><div class="line number206 index205 alt1">206</div><div class="line number207 index206 alt2">207</div><div class="line number208 index207 alt1">208</div><div class="line number209 index208 alt2">209</div><div class="line number210 index209 alt1">210</div><div class="line number211 index210 alt2">211</div><div class="line number212 index211 alt1">212</div><div class="line number213 index212 alt2">213</div><div class="line number214 index213 alt1">214</div><div class="line number215 index214 alt2">215</div><div class="line number216 index215 alt1">216</div><div class="line number217 index216 alt2">217</div><div class="line number218 index217 alt1">218</div><div class="line number219 index218 alt2">219</div><div class="line number220 index219 alt1">220</div><div class="line number221 index220 alt2">221</div><div class="line number222 index221 alt1">222</div><div class="line number223 index222 alt2">223</div><div class="line number224 index223 alt1">224</div><div class="line number225 index224 alt2">225</div><div class="line number226 index225 alt1">226</div><div class="line number227 index226 alt2">227</div><div class="line number228 index227 alt1">228</div><div class="line number229 index228 alt2">229</div><div class="line number230 index229 alt1">230</div><div class="line number231 index230 alt2">231</div><div class="line number232 index231 alt1">232</div><div class="line number233 index232 alt2">233</div><div class="line number234 index233 alt1">234</div><div class="line number235 index234 alt2">235</div><div class="line number236 index235 alt1">236</div><div class="line number237 index236 alt2">237</div><div class="line number238 index237 alt1">238</div><div class="line number239 index238 alt2">239</div><div class="line number240 index239 alt1">240</div><div class="line number241 index240 alt2">241</div><div class="line number242 index241 alt1">242</div><div class="line number243 index242 alt2">243</div><div class="line number244 index243 alt1">244</div><div class="line number245 index244 alt2">245</div><div class="line number246 index245 alt1">246</div><div class="line number247 index246 alt2">247</div><div class="line number248 index247 alt1">248</div><div class="line number249 index248 alt2">249</div><div class="line number250 index249 alt1">250</div><div class="line number251 index250 alt2">251</div><div class="line number252 index251 alt1">252</div><div class="line number253 index252 alt2">253</div><div class="line number254 index253 alt1">254</div><div class="line number255 index254 alt2">255</div><div class="line number256 index255 alt1">256</div><div class="line number257 index256 alt2">257</div><div class="line number258 index257 alt1">258</div><div class="line number259 index258 alt2">259</div><div class="line number260 index259 alt1">260</div><div class="line number261 index260 alt2">261</div><div class="line number262 index261 alt1">262</div><div class="line number263 index262 alt2">263</div><div class="line number264 index263 alt1">264</div><div class="line number265 index264 alt2">265</div><div class="line number266 index265 alt1">266</div><div class="line number267 index266 alt2">267</div><div class="line number268 index267 alt1">268</div><div class="line number269 index268 alt2">269</div><div class="line number270 index269 alt1">270</div><div class="line number271 index270 alt2">271</div><div class="line number272 index271 alt1">272</div><div class="line number273 index272 alt2">273</div><div class="line number274 index273 alt1">274</div><div class="line number275 index274 alt2">275</div><div class="line number276 index275 alt1">276</div><div class="line number277 index276 alt2">277</div><div class="line number278 index277 alt1">278</div><div class="line number279 index278 alt2">279</div><div class="line number280 index279 alt1">280</div><div class="line number281 index280 alt2">281</div><div class="line number282 index281 alt1">282</div><div class="line number283 index282 alt2">283</div><div class="line number284 index283 alt1">284</div><div class="line number285 index284 alt2">285</div><div class="line number286 index285 alt1">286</div><div class="line number287 index286 alt2">287</div><div class="line number288 index287 alt1">288</div><div class="line number289 index288 alt2">289</div><div class="line number290 index289 alt1">290</div><div class="line number291 index290 alt2">291</div><div class="line number292 index291 alt1">292</div><div class="line number293 index292 alt2">293</div><div class="line number294 index293 alt1">294</div><div class="line number295 index294 alt2">295</div><div class="line number296 index295 alt1">296</div><div class="line number297 index296 alt2">297</div><div class="line number298 index297 alt1">298</div><div class="line number299 index298 alt2">299</div><div class="line number300 index299 alt1">300</div><div class="line number301 index300 alt2">301</div><div class="line number302 index301 alt1">302</div><div class="line number303 index302 alt2">303</div><div class="line number304 index303 alt1">304</div><div class="line number305 index304 alt2">305</div><div class="line number306 index305 alt1">306</div><div class="line number307 index306 alt2">307</div><div class="line number308 index307 alt1">308</div><div class="line number309 index308 alt2">309</div><div class="line number310 index309 alt1">310</div><div class="line number311 index310 alt2">311</div><div class="line number312 index311 alt1">312</div><div class="line number313 index312 alt2">313</div><div class="line number314 index313 alt1">314</div><div class="line number315 index314 alt2">315</div><div class="line number316 index315 alt1">316</div><div class="line number317 index316 alt2">317</div><div class="line number318 index317 alt1">318</div><div class="line number319 index318 alt2">319</div><div class="line number320 index319 alt1">320</div><div class="line number321 index320 alt2">321</div><div class="line number322 index321 alt1">322</div><div class="line number323 index322 alt2">323</div><div class="line number324 index323 alt1">324</div><div class="line number325 index324 alt2">325</div><div class="line number326 index325 alt1">326</div><div class="line number327 index326 alt2">327</div><div class="line number328 index327 alt1">328</div><div class="line number329 index328 alt2">329</div><div class="line number330 index329 alt1">330</div><div class="line number331 index330 alt2">331</div><div class="line number332 index331 alt1">332</div><div class="line number333 index332 alt2">333</div><div class="line number334 index333 alt1">334</div><div class="line number335 index334 alt2">335</div><div class="line number336 index335 alt1">336</div><div class="line number337 index336 alt2">337</div><div class="line number338 index337 alt1">338</div><div class="line number339 index338 alt2">339</div><div class="line number340 index339 alt1">340</div><div class="line number341 index340 alt2">341</div><div class="line number342 index341 alt1">342</div><div class="line number343 index342 alt2">343</div><div class="line number344 index343 alt1">344</div><div class="line number345 index344 alt2">345</div><div class="line number346 index345 alt1">346</div><div class="line number347 index346 alt2">347</div><div class="line number348 index347 alt1">348</div><div class="line number349 index348 alt2">349</div><div class="line number350 index349 alt1">350</div><div class="line number351 index350 alt2">351</div><div class="line number352 index351 alt1">352</div><div class="line number353 index352 alt2">353</div><div class="line number354 index353 alt1">354</div><div class="line number355 index354 alt2">355</div><div class="line number356 index355 alt1">356</div><div class="line number357 index356 alt2">357</div><div class="line number358 index357 alt1">358</div><div class="line number359 index358 alt2">359</div><div class="line number360 index359 alt1">360</div><div class="line number361 index360 alt2">361</div><div class="line number362 index361 alt1">362</div><div class="line number363 index362 alt2">363</div><div class="line number364 index363 alt1">364</div><div class="line number365 index364 alt2">365</div><div class="line number366 index365 alt1">366</div><div class="line number367 index366 alt2">367</div><div class="line number368 index367 alt1">368</div><div class="line number369 index368 alt2">369</div><div class="line number370 index369 alt1">370</div><div class="line number371 index370 alt2">371</div><div class="line number372 index371 alt1">372</div><div class="line number373 index372 alt2">373</div><div class="line number374 index373 alt1">374</div><div class="line number375 index374 alt2">375</div><div class="line number376 index375 alt1">376</div><div class="line number377 index376 alt2">377</div><div class="line number378 index377 alt1">378</div><div class="line number379 index378 alt2">379</div><div class="line number380 index379 alt1">380</div><div class="line number381 index380 alt2">381</div><div class="line number382 index381 alt1">382</div><div class="line number383 index382 alt2">383</div><div class="line number384 index383 alt1">384</div><div class="line number385 index384 alt2">385</div><div class="line number386 index385 alt1">386</div><div class="line number387 index386 alt2">387</div><div class="line number388 index387 alt1">388</div><div class="line number389 index388 alt2">389</div><div class="line number390 index389 alt1">390</div><div class="line number391 index390 alt2">391</div><div class="line number392 index391 alt1">392</div><div class="line number393 index392 alt2">393</div><div class="line number394 index393 alt1">394</div><div class="line number395 index394 alt2">395</div><div class="line number396 index395 alt1">396</div><div class="line number397 index396 alt2">397</div><div class="line number398 index397 alt1">398</div><div class="line number399 index398 alt2">399</div><div class="line number400 index399 alt1">400</div><div class="line number401 index400 alt2">401</div><div class="line number402 index401 alt1">402</div><div class="line number403 index402 alt2">403</div><div class="line number404 index403 alt1">404</div><div class="line number405 index404 alt2">405</div><div class="line number406 index405 alt1">406</div><div class="line number407 index406 alt2">407</div><div class="line number408 index407 alt1">408</div><div class="line number409 index408 alt2">409</div><div class="line number410 index409 alt1">410</div><div class="line number411 index410 alt2">411</div><div class="line number412 index411 alt1">412</div><div class="line number413 index412 alt2">413</div><div class="line number414 index413 alt1">414</div><div class="line number415 index414 alt2">415</div><div class="line number416 index415 alt1">416</div><div class="line number417 index416 alt2">417</div><div class="line number418 index417 alt1">418</div><div class="line number419 index418 alt2">419</div><div class="line number420 index419 alt1">420</div><div class="line number421 index420 alt2">421</div><div class="line number422 index421 alt1">422</div><div class="line number423 index422 alt2">423</div><div class="line number424 index423 alt1">424</div><div class="line number425 index424 alt2">425</div><div class="line number426 index425 alt1">426</div><div class="line number427 index426 alt2">427</div><div class="line number428 index427 alt1">428</div><div class="line number429 index428 alt2">429</div><div class="line number430 index429 alt1">430</div><div class="line number431 index430 alt2">431</div><div class="line number432 index431 alt1">432</div><div class="line number433 index432 alt2">433</div><div class="line number434 index433 alt1">434</div><div class="line number435 index434 alt2">435</div><div class="line number436 index435 alt1">436</div><div class="line number437 index436 alt2">437</div><div class="line number438 index437 alt1">438</div><div class="line number439 index438 alt2">439</div><div class="line number440 index439 alt1">440</div><div class="line number441 index440 alt2">441</div><div class="line number442 index441 alt1">442</div><div class="line number443 index442 alt2">443</div><div class="line number444 index443 alt1">444</div><div class="line number445 index444 alt2">445</div><div class="line number446 index445 alt1">446</div><div class="line number447 index446 alt2">447</div><div class="line number448 index447 alt1">448</div><div class="line number449 index448 alt2">449</div><div class="line number450 index449 alt1">450</div><div class="line number451 index450 alt2">451</div><div class="line number452 index451 alt1">452</div><div class="line number453 index452 alt2">453</div><div class="line number454 index453 alt1">454</div><div class="line number455 index454 alt2">455</div><div class="line number456 index455 alt1">456</div><div class="line number457 index456 alt2">457</div><div class="line number458 index457 alt1">458</div><div class="line number459 index458 alt2">459</div><div class="line number460 index459 alt1">460</div><div class="line number461 index460 alt2">461</div><div class="line number462 index461 alt1">462</div><div class="line number463 index462 alt2">463</div><div class="line number464 index463 alt1">464</div><div class="line number465 index464 alt2">465</div><div class="line number466 index465 alt1">466</div><div class="line number467 index466 alt2">467</div><div class="line number468 index467 alt1">468</div><div class="line number469 index468 alt2">469</div><div class="line number470 index469 alt1">470</div><div class="line number471 index470 alt2">471</div><div class="line number472 index471 alt1">472</div><div class="line number473 index472 alt2">473</div><div class="line number474 index473 alt1">474</div><div class="line number475 index474 alt2">475</div><div class="line number476 index475 alt1">476</div><div class="line number477 index476 alt2">477</div><div class="line number478 index477 alt1">478</div><div class="line number479 index478 alt2">479</div><div class="line number480 index479 alt1">480</div><div class="line number481 index480 alt2">481</div><div class="line number482 index481 alt1">482</div><div class="line number483 index482 alt2">483</div><div class="line number484 index483 alt1">484</div><div class="line number485 index484 alt2">485</div><div class="line number486 index485 alt1">486</div><div class="line number487 index486 alt2">487</div><div class="line number488 index487 alt1">488</div><div class="line number489 index488 alt2">489</div><div class="line number490 index489 alt1">490</div><div class="line number491 index490 alt2">491</div><div class="line number492 index491 alt1">492</div><div class="line number493 index492 alt2">493</div><div class="line number494 index493 alt1">494</div><div class="line number495 index494 alt2">495</div><div class="line number496 index495 alt1">496</div><div class="line number497 index496 alt2">497</div><div class="line number498 index497 alt1">498</div><div class="line number499 index498 alt2">499</div><div class="line number500 index499 alt1">500</div><div class="line number501 index500 alt2">501</div><div class="line number502 index501 alt1">502</div><div class="line number503 index502 alt2">503</div><div class="line number504 index503 alt1">504</div><div class="line number505 index504 alt2">505</div><div class="line number506 index505 alt1">506</div><div class="line number507 index506 alt2">507</div><div class="line number508 index507 alt1">508</div><div class="line number509 index508 alt2">509</div><div class="line number510 index509 alt1">510</div><div class="line number511 index510 alt2">511</div><div class="line number512 index511 alt1">512</div><div class="line number513 index512 alt2">513</div><div class="line number514 index513 alt1">514</div><div class="line number515 index514 alt2">515</div><div class="line number516 index515 alt1">516</div><div class="line number517 index516 alt2">517</div><div class="line number518 index517 alt1">518</div><div class="line number519 index518 alt2">519</div><div class="line number520 index519 alt1">520</div><div class="line number521 index520 alt2">521</div><div class="line number522 index521 alt1">522</div><div class="line number523 index522 alt2">523</div><div class="line number524 index523 alt1">524</div><div class="line number525 index524 alt2">525</div><div class="line number526 index525 alt1">526</div><div class="line number527 index526 alt2">527</div><div class="line number528 index527 alt1">528</div><div class="line number529 index528 alt2">529</div><div class="line number530 index529 alt1">530</div><div class="line number531 index530 alt2">531</div><div class="line number532 index531 alt1">532</div><div class="line number533 index532 alt2">533</div><div class="line number534 index533 alt1">534</div><div class="line number535 index534 alt2">535</div><div class="line number536 index535 alt1">536</div><div class="line number537 index536 alt2">537</div><div class="line number538 index537 alt1">538</div><div class="line number539 index538 alt2">539</div><div class="line number540 index539 alt1">540</div><div class="line number541 index540 alt2">541</div><div class="line number542 index541 alt1">542</div><div class="line number543 index542 alt2">543</div><div class="line number544 index543 alt1">544</div><div class="line number545 index544 alt2">545</div><div class="line number546 index545 alt1">546</div><div class="line number547 index546 alt2">547</div><div class="line number548 index547 alt1">548</div><div class="line number549 index548 alt2">549</div><div class="line number550 index549 alt1">550</div><div class="line number551 index550 alt2">551</div><div class="line number552 index551 alt1">552</div><div class="line number553 index552 alt2">553</div><div class="line number554 index553 alt1">554</div><div class="line number555 index554 alt2">555</div><div class="line number556 index555 alt1">556</div><div class="line number557 index556 alt2">557</div><div class="line number558 index557 alt1">558</div><div class="line number559 index558 alt2">559</div><div class="line number560 index559 alt1">560</div><div class="line number561 index560 alt2">561</div><div class="line number562 index561 alt1">562</div><div class="line number563 index562 alt2">563</div><div class="line number564 index563 alt1">564</div><div class="line number565 index564 alt2">565</div><div class="line number566 index565 alt1">566</div><div class="line number567 index566 alt2">567</div><div class="line number568 index567 alt1">568</div><div class="line number569 index568 alt2">569</div><div class="line number570 index569 alt1">570</div><div class="line number571 index570 alt2">571</div><div class="line number572 index571 alt1">572</div><div class="line number573 index572 alt2">573</div><div class="line number574 index573 alt1">574</div><div class="line number575 index574 alt2">575</div><div class="line number576 index575 alt1">576</div><div class="line number577 index576 alt2">577</div><div class="line number578 index577 alt1">578</div><div class="line number579 index578 alt2">579</div><div class="line number580 index579 alt1">580</div><div class="line number581 index580 alt2">581</div><div class="line number582 index581 alt1">582</div><div class="line number583 index582 alt2">583</div><div class="line number584 index583 alt1">584</div><div class="line number585 index584 alt2">585</div><div class="line number586 index585 alt1">586</div><div class="line number587 index586 alt2">587</div><div class="line number588 index587 alt1">588</div><div class="line number589 index588 alt2">589</div><div class="line number590 index589 alt1">590</div><div class="line number591 index590 alt2">591</div><div class="line number592 index591 alt1">592</div><div class="line number593 index592 alt2">593</div><div class="line number594 index593 alt1">594</div><div class="line number595 index594 alt2">595</div><div class="line number596 index595 alt1">596</div><div class="line number597 index596 alt2">597</div><div class="line number598 index597 alt1">598</div><div class="line number599 index598 alt2">599</div><div class="line number600 index599 alt1">600</div><div class="line number601 index600 alt2">601</div><div class="line number602 index601 alt1">602</div><div class="line number603 index602 alt2">603</div><div class="line number604 index603 alt1">604</div><div class="line number605 index604 alt2">605</div><div class="line number606 index605 alt1">606</div><div class="line number607 index606 alt2">607</div><div class="line number608 index607 alt1">608</div><div class="line number609 index608 alt2">609</div><div class="line number610 index609 alt1">610</div><div class="line number611 index610 alt2">611</div><div class="line number612 index611 alt1">612</div><div class="line number613 index612 alt2">613</div><div class="line number614 index613 alt1">614</div><div class="line number615 index614 alt2">615</div><div class="line number616 index615 alt1">616</div><div class="line number617 index616 alt2">617</div><div class="line number618 index617 alt1">618</div><div class="line number619 index618 alt2">619</div><div class="line number620 index619 alt1">620</div><div class="line number621 index620 alt2">621</div><div class="line number622 index621 alt1">622</div><div class="line number623 index622 alt2">623</div><div class="line number624 index623 alt1">624</div><div class="line number625 index624 alt2">625</div><div class="line number626 index625 alt1">626</div><div class="line number627 index626 alt2">627</div><div class="line number628 index627 alt1">628</div><div class="line number629 index628 alt2">629</div><div class="line number630 index629 alt1">630</div><div class="line number631 index630 alt2">631</div><div class="line number632 index631 alt1">632</div><div class="line number633 index632 alt2">633</div><div class="line number634 index633 alt1">634</div><div class="line number635 index634 alt2">635</div><div class="line number636 index635 alt1">636</div><div class="line number637 index636 alt2">637</div><div class="line number638 index637 alt1">638</div><div class="line number639 index638 alt2">639</div><div class="line number640 index639 alt1">640</div><div class="line number641 index640 alt2">641</div><div class="line number642 index641 alt1">642</div><div class="line number643 index642 alt2">643</div><div class="line number644 index643 alt1">644</div><div class="line number645 index644 alt2">645</div><div class="line number646 index645 alt1">646</div><div class="line number647 index646 alt2">647</div><div class="line number648 index647 alt1">648</div><div class="line number649 index648 alt2">649</div><div class="line number650 index649 alt1">650</div><div class="line number651 index650 alt2">651</div><div class="line number652 index651 alt1">652</div><div class="line number653 index652 alt2">653</div><div class="line number654 index653 alt1">654</div><div class="line number655 index654 alt2">655</div><div class="line number656 index655 alt1">656</div><div class="line number657 index656 alt2">657</div><div class="line number658 index657 alt1">658</div><div class="line number659 index658 alt2">659</div><div class="line number660 index659 alt1">660</div><div class="line number661 index660 alt2">661</div><div class="line number662 index661 alt1">662</div><div class="line number663 index662 alt2">663</div><div class="line number664 index663 alt1">664</div><div class="line number665 index664 alt2">665</div><div class="line number666 index665 alt1">666</div><div class="line number667 index666 alt2">667</div><div class="line number668 index667 alt1">668</div><div class="line number669 index668 alt2">669</div><div class="line number670 index669 alt1">670</div><div class="line number671 index670 alt2">671</div><div class="line number672 index671 alt1">672</div><div class="line number673 index672 alt2">673</div><div class="line number674 index673 alt1">674</div><div class="line number675 index674 alt2">675</div><div class="line number676 index675 alt1">676</div><div class="line number677 index676 alt2">677</div><div class="line number678 index677 alt1">678</div><div class="line number679 index678 alt2">679</div><div class="line number680 index679 alt1">680</div><div class="line number681 index680 alt2">681</div><div class="line number682 index681 alt1">682</div><div class="line number683 index682 alt2">683</div><div class="line number684 index683 alt1">684</div><div class="line number685 index684 alt2">685</div><div class="line number686 index685 alt1">686</div><div class="line number687 index686 alt2">687</div><div class="line number688 index687 alt1">688</div><div class="line number689 index688 alt2">689</div><div class="line number690 index689 alt1">690</div><div class="line number691 index690 alt2">691</div><div class="line number692 index691 alt1">692</div><div class="line number693 index692 alt2">693</div><div class="line number694 index693 alt1">694</div><div class="line number695 index694 alt2">695</div><div class="line number696 index695 alt1">696</div><div class="line number697 index696 alt2">697</div><div class="line number698 index697 alt1">698</div><div class="line number699 index698 alt2">699</div><div class="line number700 index699 alt1">700</div><div class="line number701 index700 alt2">701</div><div class="line number702 index701 alt1">702</div><div class="line number703 index702 alt2">703</div><div class="line number704 index703 alt1">704</div><div class="line number705 index704 alt2">705</div><div class="line number706 index705 alt1">706</div><div class="line number707 index706 alt2">707</div><div class="line number708 index707 alt1">708</div><div class="line number709 index708 alt2">709</div><div class="line number710 index709 alt1">710</div><div class="line number711 index710 alt2">711</div><div class="line number712 index711 alt1">712</div><div class="line number713 index712 alt2">713</div><div class="line number714 index713 alt1">714</div><div class="line number715 index714 alt2">715</div><div class="line number716 index715 alt1">716</div><div class="line number717 index716 alt2">717</div><div class="line number718 index717 alt1">718</div><div class="line number719 index718 alt2">719</div><div class="line number720 index719 alt1">720</div><div class="line number721 index720 alt2">721</div><div class="line number722 index721 alt1">722</div><div class="line number723 index722 alt2">723</div><div class="line number724 index723 alt1">724</div><div class="line number725 index724 alt2">725</div><div class="line number726 index725 alt1">726</div><div class="line number727 index726 alt2">727</div><div class="line number728 index727 alt1">728</div><div class="line number729 index728 alt2">729</div><div class="line number730 index729 alt1">730</div><div class="line number731 index730 alt2">731</div><div class="line number732 index731 alt1">732</div><div class="line number733 index732 alt2">733</div><div class="line number734 index733 alt1">734</div><div class="line number735 index734 alt2">735</div><div class="line number736 index735 alt1">736</div><div class="line number737 index736 alt2">737</div><div class="line number738 index737 alt1">738</div><div class="line number739 index738 alt2">739</div><div class="line number740 index739 alt1">740</div><div class="line number741 index740 alt2">741</div><div class="line number742 index741 alt1">742</div><div class="line number743 index742 alt2">743</div><div class="line number744 index743 alt1">744</div><div class="line number745 index744 alt2">745</div><div class="line number746 index745 alt1">746</div><div class="line number747 index746 alt2">747</div><div class="line number748 index747 alt1">748</div><div class="line number749 index748 alt2">749</div><div class="line number750 index749 alt1">750</div><div class="line number751 index750 alt2">751</div><div class="line number752 index751 alt1">752</div><div class="line number753 index752 alt2">753</div><div class="line number754 index753 alt1">754</div><div class="line number755 index754 alt2">755</div><div class="line number756 index755 alt1">756</div><div class="line number757 index756 alt2">757</div><div class="line number758 index757 alt1">758</div><div class="line number759 index758 alt2">759</div><div class="line number760 index759 alt1">760</div><div class="line number761 index760 alt2">761</div><div class="line number762 index761 alt1">762</div><div class="line number763 index762 alt2">763</div><div class="line number764 index763 alt1">764</div><div class="line number765 index764 alt2">765</div><div class="line number766 index765 alt1">766</div><div class="line number767 index766 alt2">767</div><div class="line number768 index767 alt1">768</div><div class="line number769 index768 alt2">769</div><div class="line number770 index769 alt1">770</div><div class="line number771 index770 alt2">771</div><div class="line number772 index771 alt1">772</div><div class="line number773 index772 alt2">773</div><div class="line number774 index773 alt1">774</div><div class="line number775 index774 alt2">775</div><div class="line number776 index775 alt1">776</div><div class="line number777 index776 alt2">777</div><div class="line number778 index777 alt1">778</div><div class="line number779 index778 alt2">779</div><div class="line number780 index779 alt1">780</div><div class="line number781 index780 alt2">781</div><div class="line number782 index781 alt1">782</div><div class="line number783 index782 alt2">783</div><div class="line number784 index783 alt1">784</div><div class="line number785 index784 alt2">785</div><div class="line number786 index785 alt1">786</div><div class="line number787 index786 alt2">787</div><div class="line number788 index787 alt1">788</div><div class="line number789 index788 alt2">789</div><div class="line number790 index789 alt1">790</div><div class="line number791 index790 alt2">791</div><div class="line number792 index791 alt1">792</div><div class="line number793 index792 alt2">793</div><div class="line number794 index793 alt1">794</div><div class="line number795 index794 alt2">795</div><div class="line number796 index795 alt1">796</div><div class="line number797 index796 alt2">797</div><div class="line number798 index797 alt1">798</div><div class="line number799 index798 alt2">799</div><div class="line number800 index799 alt1">800</div><div class="line number801 index800 alt2">801</div><div class="line number802 index801 alt1">802</div><div class="line number803 index802 alt2">803</div><div class="line number804 index803 alt1">804</div><div class="line number805 index804 alt2">805</div><div class="line number806 index805 alt1">806</div><div class="line number807 index806 alt2">807</div><div class="line number808 index807 alt1">808</div><div class="line number809 index808 alt2">809</div><div class="line number810 index809 alt1">810</div><div class="line number811 index810 alt2">811</div><div class="line number812 index811 alt1">812</div><div class="line number813 index812 alt2">813</div><div class="line number814 index813 alt1">814</div><div class="line number815 index814 alt2">815</div><div class="line number816 index815 alt1">816</div><div class="line number817 index816 alt2">817</div><div class="line number818 index817 alt1">818</div><div class="line number819 index818 alt2">819</div><div class="line number820 index819 alt1">820</div><div class="line number821 index820 alt2">821</div><div class="line number822 index821 alt1">822</div><div class="line number823 index822 alt2">823</div><div class="line number824 index823 alt1">824</div><div class="line number825 index824 alt2">825</div><div class="line number826 index825 alt1">826</div><div class="line number827 index826 alt2">827</div><div class="line number828 index827 alt1">828</div><div class="line number829 index828 alt2">829</div><div class="line number830 index829 alt1">830</div><div class="line number831 index830 alt2">831</div><div class="line number832 index831 alt1">832</div><div class="line number833 index832 alt2">833</div><div class="line number834 index833 alt1">834</div><div class="line number835 index834 alt2">835</div><div class="line number836 index835 alt1">836</div><div class="line number837 index836 alt2">837</div><div class="line number838 index837 alt1">838</div><div class="line number839 index838 alt2">839</div><div class="line number840 index839 alt1">840</div><div class="line number841 index840 alt2">841</div><div class="line number842 index841 alt1">842</div><div class="line number843 index842 alt2">843</div><div class="line number844 index843 alt1">844</div><div class="line number845 index844 alt2">845</div><div class="line number846 index845 alt1">846</div><div class="line number847 index846 alt2">847</div><div class="line number848 index847 alt1">848</div><div class="line number849 index848 alt2">849</div><div class="line number850 index849 alt1">850</div><div class="line number851 index850 alt2">851</div><div class="line number852 index851 alt1">852</div><div class="line number853 index852 alt2">853</div><div class="line number854 index853 alt1">854</div><div class="line number855 index854 alt2">855</div><div class="line number856 index855 alt1">856</div><div class="line number857 index856 alt2">857</div><div class="line number858 index857 alt1">858</div><div class="line number859 index858 alt2">859</div><div class="line number860 index859 alt1">860</div><div class="line number861 index860 alt2">861</div><div class="line number862 index861 alt1">862</div><div class="line number863 index862 alt2">863</div><div class="line number864 index863 alt1">864</div><div class="line number865 index864 alt2">865</div><div class="line number866 index865 alt1">866</div><div class="line number867 index866 alt2">867</div><div class="line number868 index867 alt1">868</div><div class="line number869 index868 alt2">869</div><div class="line number870 index869 alt1">870</div><div class="line number871 index870 alt2">871</div><div class="line number872 index871 alt1">872</div><div class="line number873 index872 alt2">873</div><div class="line number874 index873 alt1">874</div><div class="line number875 index874 alt2">875</div><div class="line number876 index875 alt1">876</div><div class="line number877 index876 alt2">877</div><div class="line number878 index877 alt1">878</div><div class="line number879 index878 alt2">879</div><div class="line number880 index879 alt1">880</div><div class="line number881 index880 alt2">881</div><div class="line number882 index881 alt1">882</div><div class="line number883 index882 alt2">883</div><div class="line number884 index883 alt1">884</div><div class="line number885 index884 alt2">885</div><div class="line number886 index885 alt1">886</div><div class="line number887 index886 alt2">887</div><div class="line number888 index887 alt1">888</div><div class="line number889 index888 alt2">889</div><div class="line number890 index889 alt1">890</div><div class="line number891 index890 alt2">891</div><div class="line number892 index891 alt1">892</div><div class="line number893 index892 alt2">893</div><div class="line number894 index893 alt1">894</div><div class="line number895 index894 alt2">895</div><div class="line number896 index895 alt1">896</div><div class="line number897 index896 alt2">897</div><div class="line number898 index897 alt1">898</div><div class="line number899 index898 alt2">899</div><div class="line number900 index899 alt1">900</div><div class="line number901 index900 alt2">901</div><div class="line number902 index901 alt1">902</div><div class="line number903 index902 alt2">903</div><div class="line number904 index903 alt1">904</div><div class="line number905 index904 alt2">905</div><div class="line number906 index905 alt1">906</div><div class="line number907 index906 alt2">907</div><div class="line number908 index907 alt1">908</div><div class="line number909 index908 alt2">909</div><div class="line number910 index909 alt1">910</div><div class="line number911 index910 alt2">911</div><div class="line number912 index911 alt1">912</div><div class="line number913 index912 alt2">913</div><div class="line number914 index913 alt1">914</div><div class="line number915 index914 alt2">915</div><div class="line number916 index915 alt1">916</div><div class="line number917 index916 alt2">917</div><div class="line number918 index917 alt1">918</div><div class="line number919 index918 alt2">919</div><div class="line number920 index919 alt1">920</div><div class="line number921 index920 alt2">921</div><div class="line number922 index921 alt1">922</div><div class="line number923 index922 alt2">923</div><div class="line number924 index923 alt1">924</div><div class="line number925 index924 alt2">925</div><div class="line number926 index925 alt1">926</div><div class="line number927 index926 alt2">927</div><div class="line number928 index927 alt1">928</div><div class="line number929 index928 alt2">929</div><div class="line number930 index929 alt1">930</div><div class="line number931 index930 alt2">931</div><div class="line number932 index931 alt1">932</div><div class="line number933 index932 alt2">933</div><div class="line number934 index933 alt1">934</div><div class="line number935 index934 alt2">935</div><div class="line number936 index935 alt1">936</div><div class="line number937 index936 alt2">937</div><div class="line number938 index937 alt1">938</div><div class="line number939 index938 alt2">939</div><div class="line number940 index939 alt1">940</div><div class="line number941 index940 alt2">941</div><div class="line number942 index941 alt1">942</div><div class="line number943 index942 alt2">943</div><div class="line number944 index943 alt1">944</div><div class="line number945 index944 alt2">945</div><div class="line number946 index945 alt1">946</div><div class="line number947 index946 alt2">947</div><div class="line number948 index947 alt1">948</div><div class="line number949 index948 alt2">949</div><div class="line number950 index949 alt1">950</div><div class="line number951 index950 alt2">951</div><div class="line number952 index951 alt1">952</div><div class="line number953 index952 alt2">953</div><div class="line number954 index953 alt1">954</div><div class="line number955 index954 alt2">955</div><div class="line number956 index955 alt1">956</div><div class="line number957 index956 alt2">957</div><div class="line number958 index957 alt1">958</div><div class="line number959 index958 alt2">959</div><div class="line number960 index959 alt1">960</div><div class="line number961 index960 alt2">961</div><div class="line number962 index961 alt1">962</div><div class="line number963 index962 alt2">963</div><div class="line number964 index963 alt1">964</div><div class="line number965 index964 alt2">965</div><div class="line number966 index965 alt1">966</div><div class="line number967 index966 alt2">967</div><div class="line number968 index967 alt1">968</div><div class="line number969 index968 alt2">969</div><div class="line number970 index969 alt1">970</div><div class="line number971 index970 alt2">971</div><div class="line number972 index971 alt1">972</div><div class="line number973 index972 alt2">973</div><div class="line number974 index973 alt1">974</div><div class="line number975 index974 alt2">975</div><div class="line number976 index975 alt1">976</div><div class="line number977 index976 alt2">977</div><div class="line number978 index977 alt1">978</div><div class="line number979 index978 alt2">979</div><div class="line number980 index979 alt1">980</div><div class="line number981 index980 alt2">981</div><div class="line number982 index981 alt1">982</div><div class="line number983 index982 alt2">983</div><div class="line number984 index983 alt1">984</div><div class="line number985 index984 alt2">985</div><div class="line number986 index985 alt1">986</div><div class="line number987 index986 alt2">987</div><div class="line number988 index987 alt1">988</div><div class="line number989 index988 alt2">989</div><div class="line number990 index989 alt1">990</div><div class="line number991 index990 alt2">991</div><div class="line number992 index991 alt1">992</div><div class="line number993 index992 alt2">993</div><div class="line number994 index993 alt1">994</div><div class="line number995 index994 alt2">995</div><div class="line number996 index995 alt1">996</div><div class="line number997 index996 alt2">997</div><div class="line number998 index997 alt1">998</div><div class="line number999 index998 alt2">999</div><div class="line number1000 index999 alt1">1000</div><div class="line number1001 index1000 alt2">1001</div><div class="line number1002 index1001 alt1">1002</div><div class="line number1003 index1002 alt2">1003</div><div class="line number1004 index1003 alt1">1004</div><div class="line number1005 index1004 alt2">1005</div><div class="line number1006 index1005 alt1">1006</div><div class="line number1007 index1006 alt2">1007</div><div class="line number1008 index1007 alt1">1008</div><div class="line number1009 index1008 alt2">1009</div><div class="line number1010 index1009 alt1">1010</div><div class="line number1011 index1010 alt2">1011</div><div class="line number1012 index1011 alt1">1012</div><div class="line number1013 index1012 alt2">1013</div><div class="line number1014 index1013 alt1">1014</div><div class="line number1015 index1014 alt2">1015</div><div class="line number1016 index1015 alt1">1016</div><div class="line number1017 index1016 alt2">1017</div><div class="line number1018 index1017 alt1">1018</div><div class="line number1019 index1018 alt2">1019</div><div class="line number1020 index1019 alt1">1020</div><div class="line number1021 index1020 alt2">1021</div><div class="line number1022 index1021 alt1">1022</div><div class="line number1023 index1022 alt2">1023</div><div class="line number1024 index1023 alt1">1024</div><div class="line number1025 index1024 alt2">1025</div><div class="line number1026 index1025 alt1">1026</div><div class="line number1027 index1026 alt2">1027</div><div class="line number1028 index1027 alt1">1028</div><div class="line number1029 index1028 alt2">1029</div><div class="line number1030 index1029 alt1">1030</div><div class="line number1031 index1030 alt2">1031</div><div class="line number1032 index1031 alt1">1032</div><div class="line number1033 index1032 alt2">1033</div><div class="line number1034 index1033 alt1">1034</div><div class="line number1035 index1034 alt2">1035</div><div class="line number1036 index1035 alt1">1036</div><div class="line number1037 index1036 alt2">1037</div><div class="line number1038 index1037 alt1">1038</div><div class="line number1039 index1038 alt2">1039</div><div class="line number1040 index1039 alt1">1040</div><div class="line number1041 index1040 alt2">1041</div><div class="line number1042 index1041 alt1">1042</div><div class="line number1043 index1042 alt2">1043</div><div class="line number1044 index1043 alt1">1044</div><div class="line number1045 index1044 alt2">1045</div><div class="line number1046 index1045 alt1">1046</div><div class="line number1047 index1046 alt2">1047</div><div class="line number1048 index1047 alt1">1048</div><div class="line number1049 index1048 alt2">1049</div><div class="line number1050 index1049 alt1">1050</div><div class="line number1051 index1050 alt2">1051</div><div class="line number1052 index1051 alt1">1052</div><div class="line number1053 index1052 alt2">1053</div><div class="line number1054 index1053 alt1">1054</div><div class="line number1055 index1054 alt2">1055</div><div class="line number1056 index1055 alt1">1056</div><div class="line number1057 index1056 alt2">1057</div><div class="line number1058 index1057 alt1">1058</div><div class="line number1059 index1058 alt2">1059</div><div class="line number1060 index1059 alt1">1060</div><div class="line number1061 index1060 alt2">1061</div><div class="line number1062 index1061 alt1">1062</div><div class="line number1063 index1062 alt2">1063</div><div class="line number1064 index1063 alt1">1064</div><div class="line number1065 index1064 alt2">1065</div><div class="line number1066 index1065 alt1">1066</div><div class="line number1067 index1066 alt2">1067</div><div class="line number1068 index1067 alt1">1068</div><div class="line number1069 index1068 alt2">1069</div><div class="line number1070 index1069 alt1">1070</div><div class="line number1071 index1070 alt2">1071</div><div class="line number1072 index1071 alt1">1072</div><div class="line number1073 index1072 alt2">1073</div><div class="line number1074 index1073 alt1">1074</div><div class="line number1075 index1074 alt2">1075</div><div class="line number1076 index1075 alt1">1076</div><div class="line number1077 index1076 alt2">1077</div><div class="line number1078 index1077 alt1">1078</div><div class="line number1079 index1078 alt2">1079</div><div class="line number1080 index1079 alt1">1080</div><div class="line number1081 index1080 alt2">1081</div><div class="line number1082 index1081 alt1">1082</div><div class="line number1083 index1082 alt2">1083</div><div class="line number1084 index1083 alt1">1084</div><div class="line number1085 index1084 alt2">1085</div><div class="line number1086 index1085 alt1">1086</div><div class="line number1087 index1086 alt2">1087</div><div class="line number1088 index1087 alt1">1088</div><div class="line number1089 index1088 alt2">1089</div><div class="line number1090 index1089 alt1">1090</div><div class="line number1091 index1090 alt2">1091</div><div class="line number1092 index1091 alt1">1092</div><div class="line number1093 index1092 alt2">1093</div><div class="line number1094 index1093 alt1">1094</div><div class="line number1095 index1094 alt2">1095</div><div class="line number1096 index1095 alt1">1096</div><div class="line number1097 index1096 alt2">1097</div><div class="line number1098 index1097 alt1">1098</div><div class="line number1099 index1098 alt2">1099</div><div class="line number1100 index1099 alt1">1100</div><div class="line number1101 index1100 alt2">1101</div><div class="line number1102 index1101 alt1">1102</div><div class="line number1103 index1102 alt2">1103</div><div class="line number1104 index1103 alt1">1104</div><div class="line number1105 index1104 alt2">1105</div><div class="line number1106 index1105 alt1">1106</div><div class="line number1107 index1106 alt2">1107</div><div class="line number1108 index1107 alt1">1108</div><div class="line number1109 index1108 alt2">1109</div><div class="line number1110 index1109 alt1">1110</div><div class="line number1111 index1110 alt2">1111</div><div class="line number1112 index1111 alt1">1112</div><div class="line number1113 index1112 alt2">1113</div><div class="line number1114 index1113 alt1">1114</div><div class="line number1115 index1114 alt2">1115</div><div class="line number1116 index1115 alt1">1116</div><div class="line number1117 index1116 alt2">1117</div><div class="line number1118 index1117 alt1">1118</div><div class="line number1119 index1118 alt2">1119</div><div class="line number1120 index1119 alt1">1120</div><div class="line number1121 index1120 alt2">1121</div><div class="line number1122 index1121 alt1">1122</div><div class="line number1123 index1122 alt2">1123</div><div class="line number1124 index1123 alt1">1124</div><div class="line number1125 index1124 alt2">1125</div><div class="line number1126 index1125 alt1">1126</div><div class="line number1127 index1126 alt2">1127</div><div class="line number1128 index1127 alt1">1128</div><div class="line number1129 index1128 alt2">1129</div><div class="line number1130 index1129 alt1">1130</div><div class="line number1131 index1130 alt2">1131</div><div class="line number1132 index1131 alt1">1132</div><div class="line number1133 index1132 alt2">1133</div><div class="line number1134 index1133 alt1">1134</div><div class="line number1135 index1134 alt2">1135</div><div class="line number1136 index1135 alt1">1136</div><div class="line number1137 index1136 alt2">1137</div><div class="line number1138 index1137 alt1">1138</div><div class="line number1139 index1138 alt2">1139</div><div class="line number1140 index1139 alt1">1140</div><div class="line number1141 index1140 alt2">1141</div><div class="line number1142 index1141 alt1">1142</div><div class="line number1143 index1142 alt2">1143</div><div class="line number1144 index1143 alt1">1144</div><div class="line number1145 index1144 alt2">1145</div><div class="line number1146 index1145 alt1">1146</div><div class="line number1147 index1146 alt2">1147</div><div class="line number1148 index1147 alt1">1148</div><div class="line number1149 index1148 alt2">1149</div><div class="line number1150 index1149 alt1">1150</div><div class="line number1151 index1150 alt2">1151</div><div class="line number1152 index1151 alt1">1152</div><div class="line number1153 index1152 alt2">1153</div><div class="line number1154 index1153 alt1">1154</div><div class="line number1155 index1154 alt2">1155</div><div class="line number1156 index1155 alt1">1156</div><div class="line number1157 index1156 alt2">1157</div><div class="line number1158 index1157 alt1">1158</div><div class="line number1159 index1158 alt2">1159</div><div class="line number1160 index1159 alt1">1160</div><div class="line number1161 index1160 alt2">1161</div><div class="line number1162 index1161 alt1">1162</div><div class="line number1163 index1162 alt2">1163</div><div class="line number1164 index1163 alt1">1164</div><div class="line number1165 index1164 alt2">1165</div><div class="line number1166 index1165 alt1">1166</div><div class="line number1167 index1166 alt2">1167</div><div class="line number1168 index1167 alt1">1168</div><div class="line number1169 index1168 alt2">1169</div><div class="line number1170 index1169 alt1">1170</div><div class="line number1171 index1170 alt2">1171</div><div class="line number1172 index1171 alt1">1172</div><div class="line number1173 index1172 alt2">1173</div><div class="line number1174 index1173 alt1">1174</div><div class="line number1175 index1174 alt2">1175</div><div class="line number1176 index1175 alt1">1176</div><div class="line number1177 index1176 alt2">1177</div><div class="line number1178 index1177 alt1">1178</div><div class="line number1179 index1178 alt2">1179</div><div class="line number1180 index1179 alt1">1180</div><div class="line number1181 index1180 alt2">1181</div><div class="line number1182 index1181 alt1">1182</div><div class="line number1183 index1182 alt2">1183</div><div class="line number1184 index1183 alt1">1184</div><div class="line number1185 index1184 alt2">1185</div><div class="line number1186 index1185 alt1">1186</div><div class="line number1187 index1186 alt2">1187</div><div class="line number1188 index1187 alt1">1188</div><div class="line number1189 index1188 alt2">1189</div><div class="line number1190 index1189 alt1">1190</div><div class="line number1191 index1190 alt2">1191</div><div class="line number1192 index1191 alt1">1192</div><div class="line number1193 index1192 alt2">1193</div><div class="line number1194 index1193 alt1">1194</div><div class="line number1195 index1194 alt2">1195</div><div class="line number1196 index1195 alt1">1196</div><div class="line number1197 index1196 alt2">1197</div><div class="line number1198 index1197 alt1">1198</div><div class="line number1199 index1198 alt2">1199</div><div class="line number1200 index1199 alt1">1200</div><div class="line number1201 index1200 alt2">1201</div><div class="line number1202 index1201 alt1">1202</div><div class="line number1203 index1202 alt2">1203</div><div class="line number1204 index1203 alt1">1204</div><div class="line number1205 index1204 alt2">1205</div><div class="line number1206 index1205 alt1">1206</div><div class="line number1207 index1206 alt2">1207</div><div class="line number1208 index1207 alt1">1208</div><div class="line number1209 index1208 alt2">1209</div><div class="line number1210 index1209 alt1">1210</div><div class="line number1211 index1210 alt2">1211</div><div class="line number1212 index1211 alt1">1212</div><div class="line number1213 index1212 alt2">1213</div><div class="line number1214 index1213 alt1">1214</div><div class="line number1215 index1214 alt2">1215</div><div class="line number1216 index1215 alt1">1216</div><div class="line number1217 index1216 alt2">1217</div><div class="line number1218 index1217 alt1">1218</div><div class="line number1219 index1218 alt2">1219</div><div class="line number1220 index1219 alt1">1220</div><div class="line number1221 index1220 alt2">1221</div><div class="line number1222 index1221 alt1">1222</div><div class="line number1223 index1222 alt2">1223</div><div class="line number1224 index1223 alt1">1224</div><div class="line number1225 index1224 alt2">1225</div><div class="line number1226 index1225 alt1">1226</div><div class="line number1227 index1226 alt2">1227</div><div class="line number1228 index1227 alt1">1228</div><div class="line number1229 index1228 alt2">1229</div><div class="line number1230 index1229 alt1">1230</div><div class="line number1231 index1230 alt2">1231</div><div class="line number1232 index1231 alt1">1232</div><div class="line number1233 index1232 alt2">1233</div><div class="line number1234 index1233 alt1">1234</div><div class="line number1235 index1234 alt2">1235</div><div class="line number1236 index1235 alt1">1236</div><div class="line number1237 index1236 alt2">1237</div><div class="line number1238 index1237 alt1">1238</div><div class="line number1239 index1238 alt2">1239</div><div class="line number1240 index1239 alt1">1240</div><div class="line number1241 index1240 alt2">1241</div><div class="line number1242 index1241 alt1">1242</div><div class="line number1243 index1242 alt2">1243</div><div class="line number1244 index1243 alt1">1244</div><div class="line number1245 index1244 alt2">1245</div><div class="line number1246 index1245 alt1">1246</div><div class="line number1247 index1246 alt2">1247</div><div class="line number1248 index1247 alt1">1248</div><div class="line number1249 index1248 alt2">1249</div><div class="line number1250 index1249 alt1">1250</div><div class="line number1251 index1250 alt2">1251</div><div class="line number1252 index1251 alt1">1252</div><div class="line number1253 index1252 alt2">1253</div><div class="line number1254 index1253 alt1">1254</div><div class="line number1255 index1254 alt2">1255</div><div class="line number1256 index1255 alt1">1256</div><div class="line number1257 index1256 alt2">1257</div><div class="line number1258 index1257 alt1">1258</div><div class="line number1259 index1258 alt2">1259</div><div class="line number1260 index1259 alt1">1260</div><div class="line number1261 index1260 alt2">1261</div><div class="line number1262 index1261 alt1">1262</div><div class="line number1263 index1262 alt2">1263</div><div class="line number1264 index1263 alt1">1264</div><div class="line number1265 index1264 alt2">1265</div><div class="line number1266 index1265 alt1">1266</div><div class="line number1267 index1266 alt2">1267</div><div class="line number1268 index1267 alt1">1268</div><div class="line number1269 index1268 alt2">1269</div><div class="line number1270 index1269 alt1">1270</div><div class="line number1271 index1270 alt2">1271</div><div class="line number1272 index1271 alt1">1272</div><div class="line number1273 index1272 alt2">1273</div><div class="line number1274 index1273 alt1">1274</div><div class="line number1275 index1274 alt2">1275</div><div class="line number1276 index1275 alt1">1276</div><div class="line number1277 index1276 alt2">1277</div><div class="line number1278 index1277 alt1">1278</div><div class="line number1279 index1278 alt2">1279</div><div class="line number1280 index1279 alt1">1280</div><div class="line number1281 index1280 alt2">1281</div><div class="line number1282 index1281 alt1">1282</div><div class="line number1283 index1282 alt2">1283</div><div class="line number1284 index1283 alt1">1284</div><div class="line number1285 index1284 alt2">1285</div><div class="line number1286 index1285 alt1">1286</div><div class="line number1287 index1286 alt2">1287</div><div class="line number1288 index1287 alt1">1288</div><div class="line number1289 index1288 alt2">1289</div><div class="line number1290 index1289 alt1">1290</div><div class="line number1291 index1290 alt2">1291</div><div class="line number1292 index1291 alt1">1292</div><div class="line number1293 index1292 alt2">1293</div><div class="line number1294 index1293 alt1">1294</div><div class="line number1295 index1294 alt2">1295</div><div class="line number1296 index1295 alt1">1296</div><div class="line number1297 index1296 alt2">1297</div><div class="line number1298 index1297 alt1">1298</div><div class="line number1299 index1298 alt2">1299</div><div class="line number1300 index1299 alt1">1300</div><div class="line number1301 index1300 alt2">1301</div><div class="line number1302 index1301 alt1">1302</div><div class="line number1303 index1302 alt2">1303</div><div class="line number1304 index1303 alt1">1304</div><div class="line number1305 index1304 alt2">1305</div><div class="line number1306 index1305 alt1">1306</div><div class="line number1307 index1306 alt2">1307</div><div class="line number1308 index1307 alt1">1308</div><div class="line number1309 index1308 alt2">1309</div><div class="line number1310 index1309 alt1">1310</div><div class="line number1311 index1310 alt2">1311</div><div class="line number1312 index1311 alt1">1312</div><div class="line number1313 index1312 alt2">1313</div><div class="line number1314 index1313 alt1">1314</div><div class="line number1315 index1314 alt2">1315</div><div class="line number1316 index1315 alt1">1316</div><div class="line number1317 index1316 alt2">1317</div><div class="line number1318 index1317 alt1">1318</div><div class="line number1319 index1318 alt2">1319</div><div class="line number1320 index1319 alt1">1320</div><div class="line number1321 index1320 alt2">1321</div><div class="line number1322 index1321 alt1">1322</div><div class="line number1323 index1322 alt2">1323</div><div class="line number1324 index1323 alt1">1324</div><div class="line number1325 index1324 alt2">1325</div><div class="line number1326 index1325 alt1">1326</div><div class="line number1327 index1326 alt2">1327</div><div class="line number1328 index1327 alt1">1328</div><div class="line number1329 index1328 alt2">1329</div><div class="line number1330 index1329 alt1">1330</div><div class="line number1331 index1330 alt2">1331</div><div class="line number1332 index1331 alt1">1332</div><div class="line number1333 index1332 alt2">1333</div><div class="line number1334 index1333 alt1">1334</div><div class="line number1335 index1334 alt2">1335</div><div class="line number1336 index1335 alt1">1336</div><div class="line number1337 index1336 alt2">1337</div><div class="line number1338 index1337 alt1">1338</div><div class="line number1339 index1338 alt2">1339</div><div class="line number1340 index1339 alt1">1340</div><div class="line number1341 index1340 alt2">1341</div><div class="line number1342 index1341 alt1">1342</div><div class="line number1343 index1342 alt2">1343</div><div class="line number1344 index1343 alt1">1344</div><div class="line number1345 index1344 alt2">1345</div><div class="line number1346 index1345 alt1">1346</div><div class="line number1347 index1346 alt2">1347</div><div class="line number1348 index1347 alt1">1348</div><div class="line number1349 index1348 alt2">1349</div><div class="line number1350 index1349 alt1">1350</div><div class="line number1351 index1350 alt2">1351</div><div class="line number1352 index1351 alt1">1352</div><div class="line number1353 index1352 alt2">1353</div><div class="line number1354 index1353 alt1">1354</div><div class="line number1355 index1354 alt2">1355</div><div class="line number1356 index1355 alt1">1356</div><div class="line number1357 index1356 alt2">1357</div><div class="line number1358 index1357 alt1">1358</div><div class="line number1359 index1358 alt2">1359</div><div class="line number1360 index1359 alt1">1360</div><div class="line number1361 index1360 alt2">1361</div><div class="line number1362 index1361 alt1">1362</div><div class="line number1363 index1362 alt2">1363</div><div class="line number1364 index1363 alt1">1364</div><div class="line number1365 index1364 alt2">1365</div><div class="line number1366 index1365 alt1">1366</div><div class="line number1367 index1366 alt2">1367</div><div class="line number1368 index1367 alt1">1368</div><div class="line number1369 index1368 alt2">1369</div><div class="line number1370 index1369 alt1">1370</div><div class="line number1371 index1370 alt2">1371</div><div class="line number1372 index1371 alt1">1372</div><div class="line number1373 index1372 alt2">1373</div><div class="line number1374 index1373 alt1">1374</div><div class="line number1375 index1374 alt2">1375</div><div class="line number1376 index1375 alt1">1376</div><div class="line number1377 index1376 alt2">1377</div><div class="line number1378 index1377 alt1">1378</div><div class="line number1379 index1378 alt2">1379</div><div class="line number1380 index1379 alt1">1380</div><div class="line number1381 index1380 alt2">1381</div><div class="line number1382 index1381 alt1">1382</div><div class="line number1383 index1382 alt2">1383</div><div class="line number1384 index1383 alt1">1384</div><div class="line number1385 index1384 alt2">1385</div><div class="line number1386 index1385 alt1">1386</div><div class="line number1387 index1386 alt2">1387</div><div class="line number1388 index1387 alt1">1388</div><div class="line number1389 index1388 alt2">1389</div><div class="line number1390 index1389 alt1">1390</div><div class="line number1391 index1390 alt2">1391</div><div class="line number1392 index1391 alt1">1392</div><div class="line number1393 index1392 alt2">1393</div><div class="line number1394 index1393 alt1">1394</div><div class="line number1395 index1394 alt2">1395</div><div class="line number1396 index1395 alt1">1396</div><div class="line number1397 index1396 alt2">1397</div><div class="line number1398 index1397 alt1">1398</div><div class="line number1399 index1398 alt2">1399</div><div class="line number1400 index1399 alt1">1400</div><div class="line number1401 index1400 alt2">1401</div><div class="line number1402 index1401 alt1">1402</div><div class="line number1403 index1402 alt2">1403</div><div class="line number1404 index1403 alt1">1404</div><div class="line number1405 index1404 alt2">1405</div><div class="line number1406 index1405 alt1">1406</div><div class="line number1407 index1406 alt2">1407</div><div class="line number1408 index1407 alt1">1408</div><div class="line number1409 index1408 alt2">1409</div><div class="line number1410 index1409 alt1">1410</div><div class="line number1411 index1410 alt2">1411</div><div class="line number1412 index1411 alt1">1412</div><div class="line number1413 index1412 alt2">1413</div><div class="line number1414 index1413 alt1">1414</div><div class="line number1415 index1414 alt2">1415</div><div class="line number1416 index1415 alt1">1416</div><div class="line number1417 index1416 alt2">1417</div><div class="line number1418 index1417 alt1">1418</div><div class="line number1419 index1418 alt2">1419</div><div class="line number1420 index1419 alt1">1420</div><div class="line number1421 index1420 alt2">1421</div><div class="line number1422 index1421 alt1">1422</div><div class="line number1423 index1422 alt2">1423</div><div class="line number1424 index1423 alt1">1424</div><div class="line number1425 index1424 alt2">1425</div><div class="line number1426 index1425 alt1">1426</div><div class="line number1427 index1426 alt2">1427</div><div class="line number1428 index1427 alt1">1428</div><div class="line number1429 index1428 alt2">1429</div><div class="line number1430 index1429 alt1">1430</div><div class="line number1431 index1430 alt2">1431</div><div class="line number1432 index1431 alt1">1432</div><div class="line number1433 index1432 alt2">1433</div><div class="line number1434 index1433 alt1">1434</div><div class="line number1435 index1434 alt2">1435</div><div class="line number1436 index1435 alt1">1436</div><div class="line number1437 index1436 alt2">1437</div><div class="line number1438 index1437 alt1">1438</div><div class="line number1439 index1438 alt2">1439</div><div class="line number1440 index1439 alt1">1440</div><div class="line number1441 index1440 alt2">1441</div><div class="line number1442 index1441 alt1">1442</div><div class="line number1443 index1442 alt2">1443</div><div class="line number1444 index1443 alt1">1444</div><div class="line number1445 index1444 alt2">1445</div><div class="line number1446 index1445 alt1">1446</div><div class="line number1447 index1446 alt2">1447</div><div class="line number1448 index1447 alt1">1448</div><div class="line number1449 index1448 alt2">1449</div><div class="line number1450 index1449 alt1">1450</div><div class="line number1451 index1450 alt2">1451</div><div class="line number1452 index1451 alt1">1452</div><div class="line number1453 index1452 alt2">1453</div><div class="line number1454 index1453 alt1">1454</div><div class="line number1455 index1454 alt2">1455</div><div class="line number1456 index1455 alt1">1456</div><div class="line number1457 index1456 alt2">1457</div><div class="line number1458 index1457 alt1">1458</div><div class="line number1459 index1458 alt2">1459</div><div class="line number1460 index1459 alt1">1460</div><div class="line number1461 index1460 alt2">1461</div><div class="line number1462 index1461 alt1">1462</div><div class="line number1463 index1462 alt2">1463</div><div class="line number1464 index1463 alt1">1464</div><div class="line number1465 index1464 alt2">1465</div><div class="line number1466 index1465 alt1">1466</div><div class="line number1467 index1466 alt2">1467</div><div class="line number1468 index1467 alt1">1468</div><div class="line number1469 index1468 alt2">1469</div><div class="line number1470 index1469 alt1">1470</div><div class="line number1471 index1470 alt2">1471</div><div class="line number1472 index1471 alt1">1472</div><div class="line number1473 index1472 alt2">1473</div><div class="line number1474 index1473 alt1">1474</div><div class="line number1475 index1474 alt2">1475</div><div class="line number1476 index1475 alt1">1476</div><div class="line number1477 index1476 alt2">1477</div><div class="line number1478 index1477 alt1">1478</div><div class="line number1479 index1478 alt2">1479</div><div class="line number1480 index1479 alt1">1480</div><div class="line number1481 index1480 alt2">1481</div><div class="line number1482 index1481 alt1">1482</div><div class="line number1483 index1482 alt2">1483</div><div class="line number1484 index1483 alt1">1484</div><div class="line number1485 index1484 alt2">1485</div><div class="line number1486 index1485 alt1">1486</div><div class="line number1487 index1486 alt2">1487</div><div class="line number1488 index1487 alt1">1488</div><div class="line number1489 index1488 alt2">1489</div><div class="line number1490 index1489 alt1">1490</div><div class="line number1491 index1490 alt2">1491</div><div class="line number1492 index1491 alt1">1492</div><div class="line number1493 index1492 alt2">1493</div><div class="line number1494 index1493 alt1">1494</div><div class="line number1495 index1494 alt2">1495</div><div class="line number1496 index1495 alt1">1496</div><div class="line number1497 index1496 alt2">1497</div><div class="line number1498 index1497 alt1">1498</div><div class="line number1499 index1498 alt2">1499</div><div class="line number1500 index1499 alt1">1500</div><div class="line number1501 index1500 alt2">1501</div><div class="line number1502 index1501 alt1">1502</div><div class="line number1503 index1502 alt2">1503</div><div class="line number1504 index1503 alt1">1504</div><div class="line number1505 index1504 alt2">1505</div><div class="line number1506 index1505 alt1">1506</div><div class="line number1507 index1506 alt2">1507</div><div class="line number1508 index1507 alt1">1508</div><div class="line number1509 index1508 alt2">1509</div><div class="line number1510 index1509 alt1">1510</div><div class="line number1511 index1510 alt2">1511</div><div class="line number1512 index1511 alt1">1512</div><div class="line number1513 index1512 alt2">1513</div><div class="line number1514 index1513 alt1">1514</div><div class="line number1515 index1514 alt2">1515</div><div class="line number1516 index1515 alt1">1516</div><div class="line number1517 index1516 alt2">1517</div><div class="line number1518 index1517 alt1">1518</div><div class="line number1519 index1518 alt2">1519</div><div class="line number1520 index1519 alt1">1520</div><div class="line number1521 index1520 alt2">1521</div><div class="line number1522 index1521 alt1">1522</div><div class="line number1523 index1522 alt2">1523</div><div class="line number1524 index1523 alt1">1524</div><div class="line number1525 index1524 alt2">1525</div><div class="line number1526 index1525 alt1">1526</div><div class="line number1527 index1526 alt2">1527</div><div class="line number1528 index1527 alt1">1528</div><div class="line number1529 index1528 alt2">1529</div><div class="line number1530 index1529 alt1">1530</div><div class="line number1531 index1530 alt2">1531</div><div class="line number1532 index1531 alt1">1532</div><div class="line number1533 index1532 alt2">1533</div><div class="line number1534 index1533 alt1">1534</div><div class="line number1535 index1534 alt2">1535</div><div class="line number1536 index1535 alt1">1536</div><div class="line number1537 index1536 alt2">1537</div><div class="line number1538 index1537 alt1">1538</div><div class="line number1539 index1538 alt2">1539</div><div class="line number1540 index1539 alt1">1540</div><div class="line number1541 index1540 alt2">1541</div><div class="line number1542 index1541 alt1">1542</div><div class="line number1543 index1542 alt2">1543</div><div class="line number1544 index1543 alt1">1544</div><div class="line number1545 index1544 alt2">1545</div><div class="line number1546 index1545 alt1">1546</div><div class="line number1547 index1546 alt2">1547</div><div class="line number1548 index1547 alt1">1548</div><div class="line number1549 index1548 alt2">1549</div><div class="line number1550 index1549 alt1">1550</div><div class="line number1551 index1550 alt2">1551</div><div class="line number1552 index1551 alt1">1552</div><div class="line number1553 index1552 alt2">1553</div><div class="line number1554 index1553 alt1">1554</div><div class="line number1555 index1554 alt2">1555</div><div class="line number1556 index1555 alt1">1556</div><div class="line number1557 index1556 alt2">1557</div><div class="line number1558 index1557 alt1">1558</div><div class="line number1559 index1558 alt2">1559</div><div class="line number1560 index1559 alt1">1560</div><div class="line number1561 index1560 alt2">1561</div><div class="line number1562 index1561 alt1">1562</div><div class="line number1563 index1562 alt2">1563</div><div class="line number1564 index1563 alt1">1564</div><div class="line number1565 index1564 alt2">1565</div><div class="line number1566 index1565 alt1">1566</div><div class="line number1567 index1566 alt2">1567</div><div class="line number1568 index1567 alt1">1568</div><div class="line number1569 index1568 alt2">1569</div><div class="line number1570 index1569 alt1">1570</div><div class="line number1571 index1570 alt2">1571</div><div class="line number1572 index1571 alt1">1572</div><div class="line number1573 index1572 alt2">1573</div><div class="line number1574 index1573 alt1">1574</div><div class="line number1575 index1574 alt2">1575</div><div class="line number1576 index1575 alt1">1576</div><div class="line number1577 index1576 alt2">1577</div><div class="line number1578 index1577 alt1">1578</div><div class="line number1579 index1578 alt2">1579</div><div class="line number1580 index1579 alt1">1580</div><div class="line number1581 index1580 alt2">1581</div><div class="line number1582 index1581 alt1">1582</div><div class="line number1583 index1582 alt2">1583</div><div class="line number1584 index1583 alt1">1584</div><div class="line number1585 index1584 alt2">1585</div><div class="line number1586 index1585 alt1">1586</div><div class="line number1587 index1586 alt2">1587</div><div class="line number1588 index1587 alt1">1588</div><div class="line number1589 index1588 alt2">1589</div><div class="line number1590 index1589 alt1">1590</div><div class="line number1591 index1590 alt2">1591</div><div class="line number1592 index1591 alt1">1592</div><div class="line number1593 index1592 alt2">1593</div><div class="line number1594 index1593 alt1">1594</div><div class="line number1595 index1594 alt2">1595</div><div class="line number1596 index1595 alt1">1596</div><div class="line number1597 index1596 alt2">1597</div><div class="line number1598 index1597 alt1">1598</div><div class="line number1599 index1598 alt2">1599</div><div class="line number1600 index1599 alt1">1600</div><div class="line number1601 index1600 alt2">1601</div><div class="line number1602 index1601 alt1">1602</div><div class="line number1603 index1602 alt2">1603</div><div class="line number1604 index1603 alt1">1604</div><div class="line number1605 index1604 alt2">1605</div><div class="line number1606 index1605 alt1">1606</div><div class="line number1607 index1606 alt2">1607</div><div class="line number1608 index1607 alt1">1608</div><div class="line number1609 index1608 alt2">1609</div><div class="line number1610 index1609 alt1">1610</div><div class="line number1611 index1610 alt2">1611</div><div class="line number1612 index1611 alt1">1612</div><div class="line number1613 index1612 alt2">1613</div><div class="line number1614 index1613 alt1">1614</div><div class="line number1615 index1614 alt2">1615</div><div class="line number1616 index1615 alt1">1616</div><div class="line number1617 index1616 alt2">1617</div><div class="line number1618 index1617 alt1">1618</div><div class="line number1619 index1618 alt2">1619</div><div class="line number1620 index1619 alt1">1620</div><div class="line number1621 index1620 alt2">1621</div><div class="line number1622 index1621 alt1">1622</div><div class="line number1623 index1622 alt2">1623</div><div class="line number1624 index1623 alt1">1624</div><div class="line number1625 index1624 alt2">1625</div><div class="line number1626 index1625 alt1">1626</div><div class="line number1627 index1626 alt2">1627</div><div class="line number1628 index1627 alt1">1628</div><div class="line number1629 index1628 alt2">1629</div><div class="line number1630 index1629 alt1">1630</div><div class="line number1631 index1630 alt2">1631</div><div class="line number1632 index1631 alt1">1632</div><div class="line number1633 index1632 alt2">1633</div><div class="line number1634 index1633 alt1">1634</div><div class="line number1635 index1634 alt2">1635</div><div class="line number1636 index1635 alt1">1636</div><div class="line number1637 index1636 alt2">1637</div><div class="line number1638 index1637 alt1">1638</div><div class="line number1639 index1638 alt2">1639</div><div class="line number1640 index1639 alt1">1640</div><div class="line number1641 index1640 alt2">1641</div><div class="line number1642 index1641 alt1">1642</div><div class="line number1643 index1642 alt2">1643</div><div class="line number1644 index1643 alt1">1644</div><div class="line number1645 index1644 alt2">1645</div><div class="line number1646 index1645 alt1">1646</div><div class="line number1647 index1646 alt2">1647</div><div class="line number1648 index1647 alt1">1648</div><div class="line number1649 index1648 alt2">1649</div><div class="line number1650 index1649 alt1">1650</div><div class="line number1651 index1650 alt2">1651</div><div class="line number1652 index1651 alt1">1652</div><div class="line number1653 index1652 alt2">1653</div><div class="line number1654 index1653 alt1">1654</div><div class="line number1655 index1654 alt2">1655</div><div class="line number1656 index1655 alt1">1656</div><div class="line number1657 index1656 alt2">1657</div><div class="line number1658 index1657 alt1">1658</div><div class="line number1659 index1658 alt2">1659</div><div class="line number1660 index1659 alt1">1660</div><div class="line number1661 index1660 alt2">1661</div><div class="line number1662 index1661 alt1">1662</div><div class="line number1663 index1662 alt2">1663</div><div class="line number1664 index1663 alt1">1664</div><div class="line number1665 index1664 alt2">1665</div><div class="line number1666 index1665 alt1">1666</div><div class="line number1667 index1666 alt2">1667</div><div class="line number1668 index1667 alt1">1668</div><div class="line number1669 index1668 alt2">1669</div><div class="line number1670 index1669 alt1">1670</div><div class="line number1671 index1670 alt2">1671</div><div class="line number1672 index1671 alt1">1672</div><div class="line number1673 index1672 alt2">1673</div><div class="line number1674 index1673 alt1">1674</div><div class="line number1675 index1674 alt2">1675</div><div class="line number1676 index1675 alt1">1676</div><div class="line number1677 index1676 alt2">1677</div><div class="line number1678 index1677 alt1">1678</div><div class="line number1679 index1678 alt2">1679</div><div class="line number1680 index1679 alt1">1680</div><div class="line number1681 index1680 alt2">1681</div><div class="line number1682 index1681 alt1">1682</div><div class="line number1683 index1682 alt2">1683</div><div class="line number1684 index1683 alt1">1684</div><div class="line number1685 index1684 alt2">1685</div><div class="line number1686 index1685 alt1">1686</div><div class="line number1687 index1686 alt2">1687</div><div class="line number1688 index1687 alt1">1688</div><div class="line number1689 index1688 alt2">1689</div><div class="line number1690 index1689 alt1">1690</div><div class="line number1691 index1690 alt2">1691</div><div class="line number1692 index1691 alt1">1692</div><div class="line number1693 index1692 alt2">1693</div><div class="line number1694 index1693 alt1">1694</div><div class="line number1695 index1694 alt2">1695</div><div class="line number1696 index1695 alt1">1696</div><div class="line number1697 index1696 alt2">1697</div><div class="line number1698 index1697 alt1">1698</div><div class="line number1699 index1698 alt2">1699</div><div class="line number1700 index1699 alt1">1700</div><div class="line number1701 index1700 alt2">1701</div><div class="line number1702 index1701 alt1">1702</div><div class="line number1703 index1702 alt2">1703</div><div class="line number1704 index1703 alt1">1704</div><div class="line number1705 index1704 alt2">1705</div><div class="line number1706 index1705 alt1">1706</div><div class="line number1707 index1706 alt2">1707</div><div class="line number1708 index1707 alt1">1708</div><div class="line number1709 index1708 alt2">1709</div><div class="line number1710 index1709 alt1">1710</div><div class="line number1711 index1710 alt2">1711</div><div class="line number1712 index1711 alt1">1712</div><div class="line number1713 index1712 alt2">1713</div><div class="line number1714 index1713 alt1">1714</div><div class="line number1715 index1714 alt2">1715</div><div class="line number1716 index1715 alt1">1716</div><div class="line number1717 index1716 alt2">1717</div><div class="line number1718 index1717 alt1">1718</div><div class="line number1719 index1718 alt2">1719</div><div class="line number1720 index1719 alt1">1720</div><div class="line number1721 index1720 alt2">1721</div><div class="line number1722 index1721 alt1">1722</div><div class="line number1723 index1722 alt2">1723</div><div class="line number1724 index1723 alt1">1724</div><div class="line number1725 index1724 alt2">1725</div><div class="line number1726 index1725 alt1">1726</div><div class="line number1727 index1726 alt2">1727</div><div class="line number1728 index1727 alt1">1728</div><div class="line number1729 index1728 alt2">1729</div><div class="line number1730 index1729 alt1">1730</div><div class="line number1731 index1730 alt2">1731</div><div class="line number1732 index1731 alt1">1732</div><div class="line number1733 index1732 alt2">1733</div><div class="line number1734 index1733 alt1">1734</div><div class="line number1735 index1734 alt2">1735</div><div class="line number1736 index1735 alt1">1736</div><div class="line number1737 index1736 alt2">1737</div><div class="line number1738 index1737 alt1">1738</div><div class="line number1739 index1738 alt2">1739</div><div class="line number1740 index1739 alt1">1740</div><div class="line number1741 index1740 alt2">1741</div><div class="line number1742 index1741 alt1">1742</div><div class="line number1743 index1742 alt2">1743</div><div class="line number1744 index1743 alt1">1744</div><div class="line number1745 index1744 alt2">1745</div><div class="line number1746 index1745 alt1">1746</div><div class="line number1747 index1746 alt2">1747</div><div class="line number1748 index1747 alt1">1748</div><div class="line number1749 index1748 alt2">1749</div><div class="line number1750 index1749 alt1">1750</div><div class="line number1751 index1750 alt2">1751</div><div class="line number1752 index1751 alt1">1752</div><div class="line number1753 index1752 alt2">1753</div><div class="line number1754 index1753 alt1">1754</div><div class="line number1755 index1754 alt2">1755</div><div class="line number1756 index1755 alt1">1756</div><div class="line number1757 index1756 alt2">1757</div><div class="line number1758 index1757 alt1">1758</div><div class="line number1759 index1758 alt2">1759</div><div class="line number1760 index1759 alt1">1760</div><div class="line number1761 index1760 alt2">1761</div><div class="line number1762 index1761 alt1">1762</div><div class="line number1763 index1762 alt2">1763</div><div class="line number1764 index1763 alt1">1764</div><div class="line number1765 index1764 alt2">1765</div><div class="line number1766 index1765 alt1">1766</div><div class="line number1767 index1766 alt2">1767</div><div class="line number1768 index1767 alt1">1768</div><div class="line number1769 index1768 alt2">1769</div><div class="line number1770 index1769 alt1">1770</div><div class="line number1771 index1770 alt2">1771</div><div class="line number1772 index1771 alt1">1772</div><div class="line number1773 index1772 alt2">1773</div><div class="line number1774 index1773 alt1">1774</div><div class="line number1775 index1774 alt2">1775</div><div class="line number1776 index1775 alt1">1776</div><div class="line number1777 index1776 alt2">1777</div><div class="line number1778 index1777 alt1">1778</div><div class="line number1779 index1778 alt2">1779</div><div class="line number1780 index1779 alt1">1780</div><div class="line number1781 index1780 alt2">1781</div><div class="line number1782 index1781 alt1">1782</div><div class="line number1783 index1782 alt2">1783</div><div class="line number1784 index1783 alt1">1784</div><div class="line number1785 index1784 alt2">1785</div><div class="line number1786 index1785 alt1">1786</div><div class="line number1787 index1786 alt2">1787</div><div class="line number1788 index1787 alt1">1788</div><div class="line number1789 index1788 alt2">1789</div><div class="line number1790 index1789 alt1">1790</div><div class="line number1791 index1790 alt2">1791</div><div class="line number1792 index1791 alt1">1792</div><div class="line number1793 index1792 alt2">1793</div><div class="line number1794 index1793 alt1">1794</div><div class="line number1795 index1794 alt2">1795</div><div class="line number1796 index1795 alt1">1796</div><div class="line number1797 index1796 alt2">1797</div><div class="line number1798 index1797 alt1">1798</div><div class="line number1799 index1798 alt2">1799</div><div class="line number1800 index1799 alt1">1800</div><div class="line number1801 index1800 alt2">1801</div><div class="line number1802 index1801 alt1">1802</div><div class="line number1803 index1802 alt2">1803</div><div class="line number1804 index1803 alt1">1804</div><div class="line number1805 index1804 alt2">1805</div><div class="line number1806 index1805 alt1">1806</div><div class="line number1807 index1806 alt2">1807</div><div class="line number1808 index1807 alt1">1808</div><div class="line number1809 index1808 alt2">1809</div><div class="line number1810 index1809 alt1">1810</div><div class="line number1811 index1810 alt2">1811</div><div class="line number1812 index1811 alt1">1812</div><div class="line number1813 index1812 alt2">1813</div><div class="line number1814 index1813 alt1">1814</div><div class="line number1815 index1814 alt2">1815</div><div class="line number1816 index1815 alt1">1816</div><div class="line number1817 index1816 alt2">1817</div><div class="line number1818 index1817 alt1">1818</div><div class="line number1819 index1818 alt2">1819</div><div class="line number1820 index1819 alt1">1820</div><div class="line number1821 index1820 alt2">1821</div><div class="line number1822 index1821 alt1">1822</div><div class="line number1823 index1822 alt2">1823</div><div class="line number1824 index1823 alt1">1824</div><div class="line number1825 index1824 alt2">1825</div><div class="line number1826 index1825 alt1">1826</div><div class="line number1827 index1826 alt2">1827</div><div class="line number1828 index1827 alt1">1828</div><div class="line number1829 index1828 alt2">1829</div><div class="line number1830 index1829 alt1">1830</div><div class="line number1831 index1830 alt2">1831</div><div class="line number1832 index1831 alt1">1832</div><div class="line number1833 index1832 alt2">1833</div><div class="line number1834 index1833 alt1">1834</div><div class="line number1835 index1834 alt2">1835</div><div class="line number1836 index1835 alt1">1836</div><div class="line number1837 index1836 alt2">1837</div><div class="line number1838 index1837 alt1">1838</div><div class="line number1839 index1838 alt2">1839</div><div class="line number1840 index1839 alt1">1840</div><div class="line number1841 index1840 alt2">1841</div><div class="line number1842 index1841 alt1">1842</div><div class="line number1843 index1842 alt2">1843</div><div class="line number1844 index1843 alt1">1844</div><div class="line number1845 index1844 alt2">1845</div><div class="line number1846 index1845 alt1">1846</div><div class="line number1847 index1846 alt2">1847</div><div class="line number1848 index1847 alt1">1848</div><div class="line number1849 index1848 alt2">1849</div><div class="line number1850 index1849 alt1">1850</div><div class="line number1851 index1850 alt2">1851</div><div class="line number1852 index1851 alt1">1852</div><div class="line number1853 index1852 alt2">1853</div><div class="line number1854 index1853 alt1">1854</div><div class="line number1855 index1854 alt2">1855</div><div class="line number1856 index1855 alt1">1856</div><div class="line number1857 index1856 alt2">1857</div><div class="line number1858 index1857 alt1">1858</div><div class="line number1859 index1858 alt2">1859</div><div class="line number1860 index1859 alt1">1860</div><div class="line number1861 index1860 alt2">1861</div><div class="line number1862 index1861 alt1">1862</div><div class="line number1863 index1862 alt2">1863</div><div class="line number1864 index1863 alt1">1864</div><div class="line number1865 index1864 alt2">1865</div><div class="line number1866 index1865 alt1">1866</div><div class="line number1867 index1866 alt2">1867</div><div class="line number1868 index1867 alt1">1868</div><div class="line number1869 index1868 alt2">1869</div><div class="line number1870 index1869 alt1">1870</div><div class="line number1871 index1870 alt2">1871</div><div class="line number1872 index1871 alt1">1872</div><div class="line number1873 index1872 alt2">1873</div><div class="line number1874 index1873 alt1">1874</div><div class="line number1875 index1874 alt2">1875</div><div class="line number1876 index1875 alt1">1876</div><div class="line number1877 index1876 alt2">1877</div><div class="line number1878 index1877 alt1">1878</div><div class="line number1879 index1878 alt2">1879</div><div class="line number1880 index1879 alt1">1880</div><div class="line number1881 index1880 alt2">1881</div><div class="line number1882 index1881 alt1">1882</div><div class="line number1883 index1882 alt2">1883</div><div class="line number1884 index1883 alt1">1884</div><div class="line number1885 index1884 alt2">1885</div><div class="line number1886 index1885 alt1">1886</div><div class="line number1887 index1886 alt2">1887</div><div class="line number1888 index1887 alt1">1888</div><div class="line number1889 index1888 alt2">1889</div><div class="line number1890 index1889 alt1">1890</div><div class="line number1891 index1890 alt2">1891</div><div class="line number1892 index1891 alt1">1892</div><div class="line number1893 index1892 alt2">1893</div><div class="line number1894 index1893 alt1">1894</div><div class="line number1895 index1894 alt2">1895</div><div class="line number1896 index1895 alt1">1896</div><div class="line number1897 index1896 alt2">1897</div><div class="line number1898 index1897 alt1">1898</div><div class="line number1899 index1898 alt2">1899</div><div class="line number1900 index1899 alt1">1900</div><div class="line number1901 index1900 alt2">1901</div><div class="line number1902 index1901 alt1">1902</div><div class="line number1903 index1902 alt2">1903</div><div class="line number1904 index1903 alt1">1904</div><div class="line number1905 index1904 alt2">1905</div><div class="line number1906 index1905 alt1">1906</div><div class="line number1907 index1906 alt2">1907</div><div class="line number1908 index1907 alt1">1908</div><div class="line number1909 index1908 alt2">1909</div><div class="line number1910 index1909 alt1">1910</div><div class="line number1911 index1910 alt2">1911</div><div class="line number1912 index1911 alt1">1912</div><div class="line number1913 index1912 alt2">1913</div><div class="line number1914 index1913 alt1">1914</div><div class="line number1915 index1914 alt2">1915</div><div class="line number1916 index1915 alt1">1916</div><div class="line number1917 index1916 alt2">1917</div><div class="line number1918 index1917 alt1">1918</div><div class="line number1919 index1918 alt2">1919</div><div class="line number1920 index1919 alt1">1920</div><div class="line number1921 index1920 alt2">1921</div><div class="line number1922 index1921 alt1">1922</div><div class="line number1923 index1922 alt2">1923</div><div class="line number1924 index1923 alt1">1924</div><div class="line number1925 index1924 alt2">1925</div><div class="line number1926 index1925 alt1">1926</div><div class="line number1927 index1926 alt2">1927</div><div class="line number1928 index1927 alt1">1928</div><div class="line number1929 index1928 alt2">1929</div><div class="line number1930 index1929 alt1">1930</div><div class="line number1931 index1930 alt2">1931</div><div class="line number1932 index1931 alt1">1932</div><div class="line number1933 index1932 alt2">1933</div><div class="line number1934 index1933 alt1">1934</div><div class="line number1935 index1934 alt2">1935</div><div class="line number1936 index1935 alt1">1936</div><div class="line number1937 index1936 alt2">1937</div><div class="line number1938 index1937 alt1">1938</div><div class="line number1939 index1938 alt2">1939</div><div class="line number1940 index1939 alt1">1940</div><div class="line number1941 index1940 alt2">1941</div><div class="line number1942 index1941 alt1">1942</div><div class="line number1943 index1942 alt2">1943</div><div class="line number1944 index1943 alt1">1944</div><div class="line number1945 index1944 alt2">1945</div><div class="line number1946 index1945 alt1">1946</div><div class="line number1947 index1946 alt2">1947</div><div class="line number1948 index1947 alt1">1948</div><div class="line number1949 index1948 alt2">1949</div><div class="line number1950 index1949 alt1">1950</div><div class="line number1951 index1950 alt2">1951</div><div class="line number1952 index1951 alt1">1952</div><div class="line number1953 index1952 alt2">1953</div><div class="line number1954 index1953 alt1">1954</div><div class="line number1955 index1954 alt2">1955</div><div class="line number1956 index1955 alt1">1956</div><div class="line number1957 index1956 alt2">1957</div><div class="line number1958 index1957 alt1">1958</div><div class="line number1959 index1958 alt2">1959</div><div class="line number1960 index1959 alt1">1960</div><div class="line number1961 index1960 alt2">1961</div><div class="line number1962 index1961 alt1">1962</div><div class="line number1963 index1962 alt2">1963</div><div class="line number1964 index1963 alt1">1964</div><div class="line number1965 index1964 alt2">1965</div><div class="line number1966 index1965 alt1">1966</div><div class="line number1967 index1966 alt2">1967</div><div class="line number1968 index1967 alt1">1968</div><div class="line number1969 index1968 alt2">1969</div><div class="line number1970 index1969 alt1">1970</div><div class="line number1971 index1970 alt2">1971</div><div class="line number1972 index1971 alt1">1972</div><div class="line number1973 index1972 alt2">1973</div><div class="line number1974 index1973 alt1">1974</div><div class="line number1975 index1974 alt2">1975</div><div class="line number1976 index1975 alt1">1976</div><div class="line number1977 index1976 alt2">1977</div><div class="line number1978 index1977 alt1">1978</div><div class="line number1979 index1978 alt2">1979</div><div class="line number1980 index1979 alt1">1980</div><div class="line number1981 index1980 alt2">1981</div><div class="line number1982 index1981 alt1">1982</div><div class="line number1983 index1982 alt2">1983</div><div class="line number1984 index1983 alt1">1984</div><div class="line number1985 index1984 alt2">1985</div><div class="line number1986 index1985 alt1">1986</div><div class="line number1987 index1986 alt2">1987</div><div class="line number1988 index1987 alt1">1988</div><div class="line number1989 index1988 alt2">1989</div><div class="line number1990 index1989 alt1">1990</div><div class="line number1991 index1990 alt2">1991</div><div class="line number1992 index1991 alt1">1992</div><div class="line number1993 index1992 alt2">1993</div><div class="line number1994 index1993 alt1">1994</div><div class="line number1995 index1994 alt2">1995</div><div class="line number1996 index1995 alt1">1996</div><div class="line number1997 index1996 alt2">1997</div><div class="line number1998 index1997 alt1">1998</div><div class="line number1999 index1998 alt2">1999</div><div class="line number2000 index1999 alt1">2000</div><div class="line number2001 index2000 alt2">2001</div><div class="line number2002 index2001 alt1">2002</div><div class="line number2003 index2002 alt2">2003</div><div class="line number2004 index2003 alt1">2004</div><div class="line number2005 index2004 alt2">2005</div><div class="line number2006 index2005 alt1">2006</div><div class="line number2007 index2006 alt2">2007</div><div class="line number2008 index2007 alt1">2008</div><div class="line number2009 index2008 alt2">2009</div><div class="line number2010 index2009 alt1">2010</div><div class="line number2011 index2010 alt2">2011</div><div class="line number2012 index2011 alt1">2012</div><div class="line number2013 index2012 alt2">2013</div><div class="line number2014 index2013 alt1">2014</div><div class="line number2015 index2014 alt2">2015</div><div class="line number2016 index2015 alt1">2016</div><div class="line number2017 index2016 alt2">2017</div><div class="line number2018 index2017 alt1">2018</div><div class="line number2019 index2018 alt2">2019</div><div class="line number2020 index2019 alt1">2020</div><div class="line number2021 index2020 alt2">2021</div><div class="line number2022 index2021 alt1">2022</div><div class="line number2023 index2022 alt2">2023</div><div class="line number2024 index2023 alt1">2024</div><div class="line number2025 index2024 alt2">2025</div><div class="line number2026 index2025 alt1">2026</div><div class="line number2027 index2026 alt2">2027</div><div class="line number2028 index2027 alt1">2028</div><div class="line number2029 index2028 alt2">2029</div><div class="line number2030 index2029 alt1">2030</div><div class="line number2031 index2030 alt2">2031</div><div class="line number2032 index2031 alt1">2032</div><div class="line number2033 index2032 alt2">2033</div><div class="line number2034 index2033 alt1">2034</div><div class="line number2035 index2034 alt2">2035</div><div class="line number2036 index2035 alt1">2036</div><div class="line number2037 index2036 alt2">2037</div><div class="line number2038 index2037 alt1">2038</div><div class="line number2039 index2038 alt2">2039</div><div class="line number2040 index2039 alt1">2040</div><div class="line number2041 index2040 alt2">2041</div><div class="line number2042 index2041 alt1">2042</div><div class="line number2043 index2042 alt2">2043</div><div class="line number2044 index2043 alt1">2044</div><div class="line number2045 index2044 alt2">2045</div><div class="line number2046 index2045 alt1">2046</div><div class="line number2047 index2046 alt2">2047</div><div class="line number2048 index2047 alt1">2048</div><div class="line number2049 index2048 alt2">2049</div><div class="line number2050 index2049 alt1">2050</div><div class="line number2051 index2050 alt2">2051</div><div class="line number2052 index2051 alt1">2052</div><div class="line number2053 index2052 alt2">2053</div><div class="line number2054 index2053 alt1">2054</div><div class="line number2055 index2054 alt2">2055</div><div class="line number2056 index2055 alt1">2056</div><div class="line number2057 index2056 alt2">2057</div><div class="line number2058 index2057 alt1">2058</div><div class="line number2059 index2058 alt2">2059</div><div class="line number2060 index2059 alt1">2060</div><div class="line number2061 index2060 alt2">2061</div><div class="line number2062 index2061 alt1">2062</div><div class="line number2063 index2062 alt2">2063</div><div class="line number2064 index2063 alt1">2064</div><div class="line number2065 index2064 alt2">2065</div><div class="line number2066 index2065 alt1">2066</div><div class="line number2067 index2066 alt2">2067</div><div class="line number2068 index2067 alt1">2068</div><div class="line number2069 index2068 alt2">2069</div><div class="line number2070 index2069 alt1">2070</div><div class="line number2071 index2070 alt2">2071</div><div class="line number2072 index2071 alt1">2072</div><div class="line number2073 index2072 alt2">2073</div><div class="line number2074 index2073 alt1">2074</div><div class="line number2075 index2074 alt2">2075</div><div class="line number2076 index2075 alt1">2076</div><div class="line number2077 index2076 alt2">2077</div><div class="line number2078 index2077 alt1">2078</div><div class="line number2079 index2078 alt2">2079</div><div class="line number2080 index2079 alt1">2080</div><div class="line number2081 index2080 alt2">2081</div><div class="line number2082 index2081 alt1">2082</div><div class="line number2083 index2082 alt2">2083</div><div class="line number2084 index2083 alt1">2084</div><div class="line number2085 index2084 alt2">2085</div><div class="line number2086 index2085 alt1">2086</div><div class="line number2087 index2086 alt2">2087</div><div class="line number2088 index2087 alt1">2088</div><div class="line number2089 index2088 alt2">2089</div><div class="line number2090 index2089 alt1">2090</div><div class="line number2091 index2090 alt2">2091</div><div class="line number2092 index2091 alt1">2092</div><div class="line number2093 index2092 alt2">2093</div><div class="line number2094 index2093 alt1">2094</div><div class="line number2095 index2094 alt2">2095</div><div class="line number2096 index2095 alt1">2096</div><div class="line number2097 index2096 alt2">2097</div><div class="line number2098 index2097 alt1">2098</div><div class="line number2099 index2098 alt2">2099</div><div class="line number2100 index2099 alt1">2100</div><div class="line number2101 index2100 alt2">2101</div><div class="line number2102 index2101 alt1">2102</div><div class="line number2103 index2102 alt2">2103</div><div class="line number2104 index2103 alt1">2104</div><div class="line number2105 index2104 alt2">2105</div><div class="line number2106 index2105 alt1">2106</div><div class="line number2107 index2106 alt2">2107</div><div class="line number2108 index2107 alt1">2108</div><div class="line number2109 index2108 alt2">2109</div><div class="line number2110 index2109 alt1">2110</div><div class="line number2111 index2110 alt2">2111</div><div class="line number2112 index2111 alt1">2112</div><div class="line number2113 index2112 alt2">2113</div><div class="line number2114 index2113 alt1">2114</div><div class="line number2115 index2114 alt2">2115</div><div class="line number2116 index2115 alt1">2116</div><div class="line number2117 index2116 alt2">2117</div><div class="line number2118 index2117 alt1">2118</div><div class="line number2119 index2118 alt2">2119</div><div class="line number2120 index2119 alt1">2120</div><div class="line number2121 index2120 alt2">2121</div><div class="line number2122 index2121 alt1">2122</div><div class="line number2123 index2122 alt2">2123</div><div class="line number2124 index2123 alt1">2124</div><div class="line number2125 index2124 alt2">2125</div><div class="line number2126 index2125 alt1">2126</div><div class="line number2127 index2126 alt2">2127</div><div class="line number2128 index2127 alt1">2128</div><div class="line number2129 index2128 alt2">2129</div><div class="line number2130 index2129 alt1">2130</div><div class="line number2131 index2130 alt2">2131</div><div class="line number2132 index2131 alt1">2132</div><div class="line number2133 index2132 alt2">2133</div><div class="line number2134 index2133 alt1">2134</div><div class="line number2135 index2134 alt2">2135</div><div class="line number2136 index2135 alt1">2136</div><div class="line number2137 index2136 alt2">2137</div><div class="line number2138 index2137 alt1">2138</div><div class="line number2139 index2138 alt2">2139</div><div class="line number2140 index2139 alt1">2140</div><div class="line number2141 index2140 alt2">2141</div><div class="line number2142 index2141 alt1">2142</div><div class="line number2143 index2142 alt2">2143</div><div class="line number2144 index2143 alt1">2144</div><div class="line number2145 index2144 alt2">2145</div><div class="line number2146 index2145 alt1">2146</div><div class="line number2147 index2146 alt2">2147</div><div class="line number2148 index2147 alt1">2148</div><div class="line number2149 index2148 alt2">2149</div><div class="line number2150 index2149 alt1">2150</div><div class="line number2151 index2150 alt2">2151</div><div class="line number2152 index2151 alt1">2152</div><div class="line number2153 index2152 alt2">2153</div><div class="line number2154 index2153 alt1">2154</div><div class="line number2155 index2154 alt2">2155</div><div class="line number2156 index2155 alt1">2156</div><div class="line number2157 index2156 alt2">2157</div><div class="line number2158 index2157 alt1">2158</div><div class="line number2159 index2158 alt2">2159</div><div class="line number2160 index2159 alt1">2160</div><div class="line number2161 index2160 alt2">2161</div><div class="line number2162 index2161 alt1">2162</div><div class="line number2163 index2162 alt2">2163</div><div class="line number2164 index2163 alt1">2164</div><div class="line number2165 index2164 alt2">2165</div><div class="line number2166 index2165 alt1">2166</div><div class="line number2167 index2166 alt2">2167</div><div class="line number2168 index2167 alt1">2168</div><div class="line number2169 index2168 alt2">2169</div><div class="line number2170 index2169 alt1">2170</div><div class="line number2171 index2170 alt2">2171</div><div class="line number2172 index2171 alt1">2172</div><div class="line number2173 index2172 alt2">2173</div><div class="line number2174 index2173 alt1">2174</div><div class="line number2175 index2174 alt2">2175</div><div class="line number2176 index2175 alt1">2176</div><div class="line number2177 index2176 alt2">2177</div><div class="line number2178 index2177 alt1">2178</div><div class="line number2179 index2178 alt2">2179</div><div class="line number2180 index2179 alt1">2180</div><div class="line number2181 index2180 alt2">2181</div><div class="line number2182 index2181 alt1">2182</div><div class="line number2183 index2182 alt2">2183</div><div class="line number2184 index2183 alt1">2184</div><div class="line number2185 index2184 alt2">2185</div><div class="line number2186 index2185 alt1">2186</div><div class="line number2187 index2186 alt2">2187</div><div class="line number2188 index2187 alt1">2188</div><div class="line number2189 index2188 alt2">2189</div><div class="line number2190 index2189 alt1">2190</div><div class="line number2191 index2190 alt2">2191</div><div class="line number2192 index2191 alt1">2192</div><div class="line number2193 index2192 alt2">2193</div><div class="line number2194 index2193 alt1">2194</div><div class="line number2195 index2194 alt2">2195</div><div class="line number2196 index2195 alt1">2196</div><div class="line number2197 index2196 alt2">2197</div><div class="line number2198 index2197 alt1">2198</div><div class="line number2199 index2198 alt2">2199</div><div class="line number2200 index2199 alt1">2200</div><div class="line number2201 index2200 alt2">2201</div><div class="line number2202 index2201 alt1">2202</div><div class="line number2203 index2202 alt2">2203</div><div class="line number2204 index2203 alt1">2204</div><div class="line number2205 index2204 alt2">2205</div><div class="line number2206 index2205 alt1">2206</div><div class="line number2207 index2206 alt2">2207</div><div class="line number2208 index2207 alt1">2208</div><div class="line number2209 index2208 alt2">2209</div><div class="line number2210 index2209 alt1">2210</div><div class="line number2211 index2210 alt2">2211</div><div class="line number2212 index2211 alt1">2212</div><div class="line number2213 index2212 alt2">2213</div><div class="line number2214 index2213 alt1">2214</div><div class="line number2215 index2214 alt2">2215</div><div class="line number2216 index2215 alt1">2216</div><div class="line number2217 index2216 alt2">2217</div><div class="line number2218 index2217 alt1">2218</div><div class="line number2219 index2218 alt2">2219</div><div class="line number2220 index2219 alt1">2220</div><div class="line number2221 index2220 alt2">2221</div><div class="line number2222 index2221 alt1">2222</div><div class="line number2223 index2222 alt2">2223</div><div class="line number2224 index2223 alt1">2224</div><div class="line number2225 index2224 alt2">2225</div><div class="line number2226 index2225 alt1">2226</div><div class="line number2227 index2226 alt2">2227</div><div class="line number2228 index2227 alt1">2228</div><div class="line number2229 index2228 alt2">2229</div><div class="line number2230 index2229 alt1">2230</div><div class="line number2231 index2230 alt2">2231</div><div class="line number2232 index2231 alt1">2232</div><div class="line number2233 index2232 alt2">2233</div><div class="line number2234 index2233 alt1">2234</div><div class="line number2235 index2234 alt2">2235</div><div class="line number2236 index2235 alt1">2236</div><div class="line number2237 index2236 alt2">2237</div><div class="line number2238 index2237 alt1">2238</div><div class="line number2239 index2238 alt2">2239</div><div class="line number2240 index2239 alt1">2240</div><div class="line number2241 index2240 alt2">2241</div><div class="line number2242 index2241 alt1">2242</div><div class="line number2243 index2242 alt2">2243</div><div class="line number2244 index2243 alt1">2244</div><div class="line number2245 index2244 alt2">2245</div><div class="line number2246 index2245 alt1">2246</div><div class="line number2247 index2246 alt2">2247</div><div class="line number2248 index2247 alt1">2248</div><div class="line number2249 index2248 alt2">2249</div><div class="line number2250 index2249 alt1">2250</div><div class="line number2251 index2250 alt2">2251</div><div class="line number2252 index2251 alt1">2252</div><div class="line number2253 index2252 alt2">2253</div><div class="line number2254 index2253 alt1">2254</div><div class="line number2255 index2254 alt2">2255</div><div class="line number2256 index2255 alt1">2256</div><div class="line number2257 index2256 alt2">2257</div><div class="line number2258 index2257 alt1">2258</div><div class="line number2259 index2258 alt2">2259</div><div class="line number2260 index2259 alt1">2260</div><div class="line number2261 index2260 alt2">2261</div><div class="line number2262 index2261 alt1">2262</div><div class="line number2263 index2262 alt2">2263</div><div class="line number2264 index2263 alt1">2264</div><div class="line number2265 index2264 alt2">2265</div><div class="line number2266 index2265 alt1">2266</div><div class="line number2267 index2266 alt2">2267</div><div class="line number2268 index2267 alt1">2268</div><div class="line number2269 index2268 alt2">2269</div><div class="line number2270 index2269 alt1">2270</div><div class="line number2271 index2270 alt2">2271</div><div class="line number2272 index2271 alt1">2272</div><div class="line number2273 index2272 alt2">2273</div><div class="line number2274 index2273 alt1">2274</div><div class="line number2275 index2274 alt2">2275</div><div class="line number2276 index2275 alt1">2276</div><div class="line number2277 index2276 alt2">2277</div><div class="line number2278 index2277 alt1">2278</div><div class="line number2279 index2278 alt2">2279</div><div class="line number2280 index2279 alt1">2280</div><div class="line number2281 index2280 alt2">2281</div><div class="line number2282 index2281 alt1">2282</div><div class="line number2283 index2282 alt2">2283</div><div class="line number2284 index2283 alt1">2284</div><div class="line number2285 index2284 alt2">2285</div><div class="line number2286 index2285 alt1">2286</div><div class="line number2287 index2286 alt2">2287</div><div class="line number2288 index2287 alt1">2288</div><div class="line number2289 index2288 alt2">2289</div><div class="line number2290 index2289 alt1">2290</div><div class="line number2291 index2290 alt2">2291</div><div class="line number2292 index2291 alt1">2292</div><div class="line number2293 index2292 alt2">2293</div><div class="line number2294 index2293 alt1">2294</div><div class="line number2295 index2294 alt2">2295</div><div class="line number2296 index2295 alt1">2296</div><div class="line number2297 index2296 alt2">2297</div><div class="line number2298 index2297 alt1">2298</div><div class="line number2299 index2298 alt2">2299</div><div class="line number2300 index2299 alt1">2300</div><div class="line number2301 index2300 alt2">2301</div><div class="line number2302 index2301 alt1">2302</div><div class="line number2303 index2302 alt2">2303</div><div class="line number2304 index2303 alt1">2304</div><div class="line number2305 index2304 alt2">2305</div><div class="line number2306 index2305 alt1">2306</div><div class="line number2307 index2306 alt2">2307</div><div class="line number2308 index2307 alt1">2308</div><div class="line number2309 index2308 alt2">2309</div><div class="line number2310 index2309 alt1">2310</div><div class="line number2311 index2310 alt2">2311</div><div class="line number2312 index2311 alt1">2312</div><div class="line number2313 index2312 alt2">2313</div><div class="line number2314 index2313 alt1">2314</div><div class="line number2315 index2314 alt2">2315</div><div class="line number2316 index2315 alt1">2316</div><div class="line number2317 index2316 alt2">2317</div><div class="line number2318 index2317 alt1">2318</div><div class="line number2319 index2318 alt2">2319</div><div class="line number2320 index2319 alt1">2320</div><div class="line number2321 index2320 alt2">2321</div><div class="line number2322 index2321 alt1">2322</div><div class="line number2323 index2322 alt2">2323</div><div class="line number2324 index2323 alt1">2324</div><div class="line number2325 index2324 alt2">2325</div><div class="line number2326 index2325 alt1">2326</div><div class="line number2327 index2326 alt2">2327</div><div class="line number2328 index2327 alt1">2328</div><div class="line number2329 index2328 alt2">2329</div><div class="line number2330 index2329 alt1">2330</div><div class="line number2331 index2330 alt2">2331</div><div class="line number2332 index2331 alt1">2332</div><div class="line number2333 index2332 alt2">2333</div><div class="line number2334 index2333 alt1">2334</div><div class="line number2335 index2334 alt2">2335</div><div class="line number2336 index2335 alt1">2336</div><div class="line number2337 index2336 alt2">2337</div><div class="line number2338 index2337 alt1">2338</div><div class="line number2339 index2338 alt2">2339</div><div class="line number2340 index2339 alt1">2340</div><div class="line number2341 index2340 alt2">2341</div><div class="line number2342 index2341 alt1">2342</div><div class="line number2343 index2342 alt2">2343</div><div class="line number2344 index2343 alt1">2344</div><div class="line number2345 index2344 alt2">2345</div><div class="line number2346 index2345 alt1">2346</div><div class="line number2347 index2346 alt2">2347</div><div class="line number2348 index2347 alt1">2348</div><div class="line number2349 index2348 alt2">2349</div><div class="line number2350 index2349 alt1">2350</div><div class="line number2351 index2350 alt2">2351</div><div class="line number2352 index2351 alt1">2352</div><div class="line number2353 index2352 alt2">2353</div><div class="line number2354 index2353 alt1">2354</div><div class="line number2355 index2354 alt2">2355</div><div class="line number2356 index2355 alt1">2356</div><div class="line number2357 index2356 alt2">2357</div><div class="line number2358 index2357 alt1">2358</div><div class="line number2359 index2358 alt2">2359</div><div class="line number2360 index2359 alt1">2360</div><div class="line number2361 index2360 alt2">2361</div><div class="line number2362 index2361 alt1">2362</div><div class="line number2363 index2362 alt2">2363</div><div class="line number2364 index2363 alt1">2364</div><div class="line number2365 index2364 alt2">2365</div><div class="line number2366 index2365 alt1">2366</div><div class="line number2367 index2366 alt2">2367</div><div class="line number2368 index2367 alt1">2368</div><div class="line number2369 index2368 alt2">2369</div><div class="line number2370 index2369 alt1">2370</div><div class="line number2371 index2370 alt2">2371</div><div class="line number2372 index2371 alt1">2372</div><div class="line number2373 index2372 alt2">2373</div><div class="line number2374 index2373 alt1">2374</div><div class="line number2375 index2374 alt2">2375</div><div class="line number2376 index2375 alt1">2376</div><div class="line number2377 index2376 alt2">2377</div><div class="line number2378 index2377 alt1">2378</div><div class="line number2379 index2378 alt2">2379</div><div class="line number2380 index2379 alt1">2380</div><div class="line number2381 index2380 alt2">2381</div><div class="line number2382 index2381 alt1">2382</div><div class="line number2383 index2382 alt2">2383</div><div class="line number2384 index2383 alt1">2384</div><div class="line number2385 index2384 alt2">2385</div><div class="line number2386 index2385 alt1">2386</div><div class="line number2387 index2386 alt2">2387</div><div class="line number2388 index2387 alt1">2388</div><div class="line number2389 index2388 alt2">2389</div><div class="line number2390 index2389 alt1">2390</div><div class="line number2391 index2390 alt2">2391</div><div class="line number2392 index2391 alt1">2392</div><div class="line number2393 index2392 alt2">2393</div><div class="line number2394 index2393 alt1">2394</div><div class="line number2395 index2394 alt2">2395</div><div class="line number2396 index2395 alt1">2396</div><div class="line number2397 index2396 alt2">2397</div><div class="line number2398 index2397 alt1">2398</div><div class="line number2399 index2398 alt2">2399</div><div class="line number2400 index2399 alt1">2400</div><div class="line number2401 index2400 alt2">2401</div><div class="line number2402 index2401 alt1">2402</div><div class="line number2403 index2402 alt2">2403</div><div class="line number2404 index2403 alt1">2404</div><div class="line number2405 index2404 alt2">2405</div><div class="line number2406 index2405 alt1">2406</div><div class="line number2407 index2406 alt2">2407</div><div class="line number2408 index2407 alt1">2408</div><div class="line number2409 index2408 alt2">2409</div><div class="line number2410 index2409 alt1">2410</div><div class="line number2411 index2410 alt2">2411</div><div class="line number2412 index2411 alt1">2412</div><div class="line number2413 index2412 alt2">2413</div><div class="line number2414 index2413 alt1">2414</div><div class="line number2415 index2414 alt2">2415</div><div class="line number2416 index2415 alt1">2416</div><div class="line number2417 index2416 alt2">2417</div><div class="line number2418 index2417 alt1">2418</div><div class="line number2419 index2418 alt2">2419</div><div class="line number2420 index2419 alt1">2420</div><div class="line number2421 index2420 alt2">2421</div><div class="line number2422 index2421 alt1">2422</div><div class="line number2423 index2422 alt2">2423</div><div class="line number2424 index2423 alt1">2424</div><div class="line number2425 index2424 alt2">2425</div><div class="line number2426 index2425 alt1">2426</div><div class="line number2427 index2426 alt2">2427</div><div class="line number2428 index2427 alt1">2428</div><div class="line number2429 index2428 alt2">2429</div><div class="line number2430 index2429 alt1">2430</div><div class="line number2431 index2430 alt2">2431</div><div class="line number2432 index2431 alt1">2432</div><div class="line number2433 index2432 alt2">2433</div><div class="line number2434 index2433 alt1">2434</div><div class="line number2435 index2434 alt2">2435</div><div class="line number2436 index2435 alt1">2436</div><div class="line number2437 index2436 alt2">2437</div><div class="line number2438 index2437 alt1">2438</div><div class="line number2439 index2438 alt2">2439</div><div class="line number2440 index2439 alt1">2440</div><div class="line number2441 index2440 alt2">2441</div><div class="line number2442 index2441 alt1">2442</div><div class="line number2443 index2442 alt2">2443</div><div class="line number2444 index2443 alt1">2444</div><div class="line number2445 index2444 alt2">2445</div><div class="line number2446 index2445 alt1">2446</div><div class="line number2447 index2446 alt2">2447</div><div class="line number2448 index2447 alt1">2448</div><div class="line number2449 index2448 alt2">2449</div><div class="line number2450 index2449 alt1">2450</div><div class="line number2451 index2450 alt2">2451</div><div class="line number2452 index2451 alt1">2452</div><div class="line number2453 index2452 alt2">2453</div><div class="line number2454 index2453 alt1">2454</div><div class="line number2455 index2454 alt2">2455</div><div class="line number2456 index2455 alt1">2456</div><div class="line number2457 index2456 alt2">2457</div><div class="line number2458 index2457 alt1">2458</div><div class="line number2459 index2458 alt2">2459</div><div class="line number2460 index2459 alt1">2460</div><div class="line number2461 index2460 alt2">2461</div><div class="line number2462 index2461 alt1">2462</div><div class="line number2463 index2462 alt2">2463</div><div class="line number2464 index2463 alt1">2464</div><div class="line number2465 index2464 alt2">2465</div><div class="line number2466 index2465 alt1">2466</div><div class="line number2467 index2466 alt2">2467</div><div class="line number2468 index2467 alt1">2468</div><div class="line number2469 index2468 alt2">2469</div><div class="line number2470 index2469 alt1">2470</div><div class="line number2471 index2470 alt2">2471</div><div class="line number2472 index2471 alt1">2472</div><div class="line number2473 index2472 alt2">2473</div><div class="line number2474 index2473 alt1">2474</div><div class="line number2475 index2474 alt2">2475</div><div class="line number2476 index2475 alt1">2476</div><div class="line number2477 index2476 alt2">2477</div><div class="line number2478 index2477 alt1">2478</div><div class="line number2479 index2478 alt2">2479</div><div class="line number2480 index2479 alt1">2480</div><div class="line number2481 index2480 alt2">2481</div><div class="line number2482 index2481 alt1">2482</div><div class="line number2483 index2482 alt2">2483</div><div class="line number2484 index2483 alt1">2484</div><div class="line number2485 index2484 alt2">2485</div><div class="line number2486 index2485 alt1">2486</div><div class="line number2487 index2486 alt2">2487</div><div class="line number2488 index2487 alt1">2488</div><div class="line number2489 index2488 alt2">2489</div><div class="line number2490 index2489 alt1">2490</div><div class="line number2491 index2490 alt2">2491</div><div class="line number2492 index2491 alt1">2492</div><div class="line number2493 index2492 alt2">2493</div><div class="line number2494 index2493 alt1">2494</div><div class="line number2495 index2494 alt2">2495</div><div class="line number2496 index2495 alt1">2496</div><div class="line number2497 index2496 alt2">2497</div><div class="line number2498 index2497 alt1">2498</div><div class="line number2499 index2498 alt2">2499</div><div class="line number2500 index2499 alt1">2500</div><div class="line number2501 index2500 alt2">2501</div><div class="line number2502 index2501 alt1">2502</div><div class="line number2503 index2502 alt2">2503</div><div class="line number2504 index2503 alt1">2504</div><div class="line number2505 index2504 alt2">2505</div><div class="line number2506 index2505 alt1">2506</div><div class="line number2507 index2506 alt2">2507</div><div class="line number2508 index2507 alt1">2508</div><div class="line number2509 index2508 alt2">2509</div><div class="line number2510 index2509 alt1">2510</div><div class="line number2511 index2510 alt2">2511</div><div class="line number2512 index2511 alt1">2512</div><div class="line number2513 index2512 alt2">2513</div><div class="line number2514 index2513 alt1">2514</div><div class="line number2515 index2514 alt2">2515</div><div class="line number2516 index2515 alt1">2516</div><div class="line number2517 index2516 alt2">2517</div><div class="line number2518 index2517 alt1">2518</div><div class="line number2519 index2518 alt2">2519</div><div class="line number2520 index2519 alt1">2520</div><div class="line number2521 index2520 alt2">2521</div><div class="line number2522 index2521 alt1">2522</div><div class="line number2523 index2522 alt2">2523</div><div class="line number2524 index2523 alt1">2524</div><div class="line number2525 index2524 alt2">2525</div><div class="line number2526 index2525 alt1">2526</div><div class="line number2527 index2526 alt2">2527</div><div class="line number2528 index2527 alt1">2528</div><div class="line number2529 index2528 alt2">2529</div><div class="line number2530 index2529 alt1">2530</div><div class="line number2531 index2530 alt2">2531</div><div class="line number2532 index2531 alt1">2532</div><div class="line number2533 index2532 alt2">2533</div><div class="line number2534 index2533 alt1">2534</div><div class="line number2535 index2534 alt2">2535</div><div class="line number2536 index2535 alt1">2536</div><div class="line number2537 index2536 alt2">2537</div><div class="line number2538 index2537 alt1">2538</div><div class="line number2539 index2538 alt2">2539</div><div class="line number2540 index2539 alt1">2540</div><div class="line number2541 index2540 alt2">2541</div><div class="line number2542 index2541 alt1">2542</div><div class="line number2543 index2542 alt2">2543</div><div class="line number2544 index2543 alt1">2544</div><div class="line number2545 index2544 alt2">2545</div><div class="line number2546 index2545 alt1">2546</div><div class="line number2547 index2546 alt2">2547</div><div class="line number2548 index2547 alt1">2548</div><div class="line number2549 index2548 alt2">2549</div><div class="line number2550 index2549 alt1">2550</div><div class="line number2551 index2550 alt2">2551</div><div class="line number2552 index2551 alt1">2552</div><div class="line number2553 index2552 alt2">2553</div><div class="line number2554 index2553 alt1">2554</div><div class="line number2555 index2554 alt2">2555</div><div class="line number2556 index2555 alt1">2556</div><div class="line number2557 index2556 alt2">2557</div><div class="line number2558 index2557 alt1">2558</div><div class="line number2559 index2558 alt2">2559</div><div class="line number2560 index2559 alt1">2560</div><div class="line number2561 index2560 alt2">2561</div><div class="line number2562 index2561 alt1">2562</div><div class="line number2563 index2562 alt2">2563</div><div class="line number2564 index2563 alt1">2564</div><div class="line number2565 index2564 alt2">2565</div><div class="line number2566 index2565 alt1">2566</div><div class="line number2567 index2566 alt2">2567</div><div class="line number2568 index2567 alt1">2568</div><div class="line number2569 index2568 alt2">2569</div><div class="line number2570 index2569 alt1">2570</div><div class="line number2571 index2570 alt2">2571</div><div class="line number2572 index2571 alt1">2572</div><div class="line number2573 index2572 alt2">2573</div><div class="line number2574 index2573 alt1">2574</div><div class="line number2575 index2574 alt2">2575</div><div class="line number2576 index2575 alt1">2576</div><div class="line number2577 index2576 alt2">2577</div><div class="line number2578 index2577 alt1">2578</div><div class="line number2579 index2578 alt2">2579</div><div class="line number2580 index2579 alt1">2580</div><div class="line number2581 index2580 alt2">2581</div><div class="line number2582 index2581 alt1">2582</div><div class="line number2583 index2582 alt2">2583</div><div class="line number2584 index2583 alt1">2584</div><div class="line number2585 index2584 alt2">2585</div><div class="line number2586 index2585 alt1">2586</div><div class="line number2587 index2586 alt2">2587</div><div class="line number2588 index2587 alt1">2588</div><div class="line number2589 index2588 alt2">2589</div><div class="line number2590 index2589 alt1">2590</div><div class="line number2591 index2590 alt2">2591</div><div class="line number2592 index2591 alt1">2592</div><div class="line number2593 index2592 alt2">2593</div><div class="line number2594 index2593 alt1">2594</div><div class="line number2595 index2594 alt2">2595</div><div class="line number2596 index2595 alt1">2596</div><div class="line number2597 index2596 alt2">2597</div><div class="line number2598 index2597 alt1">2598</div><div class="line number2599 index2598 alt2">2599</div><div class="line number2600 index2599 alt1">2600</div><div class="line number2601 index2600 alt2">2601</div><div class="line number2602 index2601 alt1">2602</div><div class="line number2603 index2602 alt2">2603</div><div class="line number2604 index2603 alt1">2604</div><div class="line number2605 index2604 alt2">2605</div><div class="line number2606 index2605 alt1">2606</div><div class="line number2607 index2606 alt2">2607</div><div class="line number2608 index2607 alt1">2608</div><div class="line number2609 index2608 alt2">2609</div><div class="line number2610 index2609 alt1">2610</div><div class="line number2611 index2610 alt2">2611</div><div class="line number2612 index2611 alt1">2612</div><div class="line number2613 index2612 alt2">2613</div><div class="line number2614 index2613 alt1">2614</div><div class="line number2615 index2614 alt2">2615</div><div class="line number2616 index2615 alt1">2616</div><div class="line number2617 index2616 alt2">2617</div><div class="line number2618 index2617 alt1">2618</div><div class="line number2619 index2618 alt2">2619</div><div class="line number2620 index2619 alt1">2620</div><div class="line number2621 index2620 alt2">2621</div><div class="line number2622 index2621 alt1">2622</div><div class="line number2623 index2622 alt2">2623</div><div class="line number2624 index2623 alt1">2624</div><div class="line number2625 index2624 alt2">2625</div><div class="line number2626 index2625 alt1">2626</div><div class="line number2627 index2626 alt2">2627</div><div class="line number2628 index2627 alt1">2628</div><div class="line number2629 index2628 alt2">2629</div><div class="line number2630 index2629 alt1">2630</div><div class="line number2631 index2630 alt2">2631</div><div class="line number2632 index2631 alt1">2632</div><div class="line number2633 index2632 alt2">2633</div><div class="line number2634 index2633 alt1">2634</div><div class="line number2635 index2634 alt2">2635</div><div class="line number2636 index2635 alt1">2636</div><div class="line number2637 index2636 alt2">2637</div><div class="line number2638 index2637 alt1">2638</div><div class="line number2639 index2638 alt2">2639</div><div class="line number2640 index2639 alt1">2640</div><div class="line number2641 index2640 alt2">2641</div><div class="line number2642 index2641 alt1">2642</div><div class="line number2643 index2642 alt2">2643</div><div class="line number2644 index2643 alt1">2644</div><div class="line number2645 index2644 alt2">2645</div><div class="line number2646 index2645 alt1">2646</div><div class="line number2647 index2646 alt2">2647</div><div class="line number2648 index2647 alt1">2648</div><div class="line number2649 index2648 alt2">2649</div><div class="line number2650 index2649 alt1">2650</div><div class="line number2651 index2650 alt2">2651</div><div class="line number2652 index2651 alt1">2652</div><div class="line number2653 index2652 alt2">2653</div><div class="line number2654 index2653 alt1">2654</div><div class="line number2655 index2654 alt2">2655</div><div class="line number2656 index2655 alt1">2656</div><div class="line number2657 index2656 alt2">2657</div><div class="line number2658 index2657 alt1">2658</div><div class="line number2659 index2658 alt2">2659</div><div class="line number2660 index2659 alt1">2660</div><div class="line number2661 index2660 alt2">2661</div><div class="line number2662 index2661 alt1">2662</div><div class="line number2663 index2662 alt2">2663</div><div class="line number2664 index2663 alt1">2664</div><div class="line number2665 index2664 alt2">2665</div><div class="line number2666 index2665 alt1">2666</div><div class="line number2667 index2666 alt2">2667</div><div class="line number2668 index2667 alt1">2668</div><div class="line number2669 index2668 alt2">2669</div><div class="line number2670 index2669 alt1">2670</div><div class="line number2671 index2670 alt2">2671</div><div class="line number2672 index2671 alt1">2672</div><div class="line number2673 index2672 alt2">2673</div><div class="line number2674 index2673 alt1">2674</div><div class="line number2675 index2674 alt2">2675</div><div class="line number2676 index2675 alt1">2676</div><div class="line number2677 index2676 alt2">2677</div><div class="line number2678 index2677 alt1">2678</div><div class="line number2679 index2678 alt2">2679</div><div class="line number2680 index2679 alt1">2680</div><div class="line number2681 index2680 alt2">2681</div><div class="line number2682 index2681 alt1">2682</div><div class="line number2683 index2682 alt2">2683</div><div class="line number2684 index2683 alt1">2684</div><div class="line number2685 index2684 alt2">2685</div><div class="line number2686 index2685 alt1">2686</div><div class="line number2687 index2686 alt2">2687</div><div class="line number2688 index2687 alt1">2688</div><div class="line number2689 index2688 alt2">2689</div><div class="line number2690 index2689 alt1">2690</div><div class="line number2691 index2690 alt2">2691</div><div class="line number2692 index2691 alt1">2692</div><div class="line number2693 index2692 alt2">2693</div><div class="line number2694 index2693 alt1">2694</div><div class="line number2695 index2694 alt2">2695</div><div class="line number2696 index2695 alt1">2696</div><div class="line number2697 index2696 alt2">2697</div><div class="line number2698 index2697 alt1">2698</div><div class="line number2699 index2698 alt2">2699</div><div class="line number2700 index2699 alt1">2700</div><div class="line number2701 index2700 alt2">2701</div><div class="line number2702 index2701 alt1">2702</div><div class="line number2703 index2702 alt2">2703</div><div class="line number2704 index2703 alt1">2704</div><div class="line number2705 index2704 alt2">2705</div><div class="line number2706 index2705 alt1">2706</div><div class="line number2707 index2706 alt2">2707</div><div class="line number2708 index2707 alt1">2708</div><div class="line number2709 index2708 alt2">2709</div><div class="line number2710 index2709 alt1">2710</div><div class="line number2711 index2710 alt2">2711</div><div class="line number2712 index2711 alt1">2712</div><div class="line number2713 index2712 alt2">2713</div><div class="line number2714 index2713 alt1">2714</div><div class="line number2715 index2714 alt2">2715</div><div class="line number2716 index2715 alt1">2716</div><div class="line number2717 index2716 alt2">2717</div><div class="line number2718 index2717 alt1">2718</div><div class="line number2719 index2718 alt2">2719</div><div class="line number2720 index2719 alt1">2720</div><div class="line number2721 index2720 alt2">2721</div><div class="line number2722 index2721 alt1">2722</div><div class="line number2723 index2722 alt2">2723</div><div class="line number2724 index2723 alt1">2724</div><div class="line number2725 index2724 alt2">2725</div><div class="line number2726 index2725 alt1">2726</div><div class="line number2727 index2726 alt2">2727</div><div class="line number2728 index2727 alt1">2728</div><div class="line number2729 index2728 alt2">2729</div><div class="line number2730 index2729 alt1">2730</div><div class="line number2731 index2730 alt2">2731</div><div class="line number2732 index2731 alt1">2732</div><div class="line number2733 index2732 alt2">2733</div><div class="line number2734 index2733 alt1">2734</div><div class="line number2735 index2734 alt2">2735</div><div class="line number2736 index2735 alt1">2736</div><div class="line number2737 index2736 alt2">2737</div><div class="line number2738 index2737 alt1">2738</div><div class="line number2739 index2738 alt2">2739</div><div class="line number2740 index2739 alt1">2740</div><div class="line number2741 index2740 alt2">2741</div><div class="line number2742 index2741 alt1">2742</div><div class="line number2743 index2742 alt2">2743</div><div class="line number2744 index2743 alt1">2744</div><div class="line number2745 index2744 alt2">2745</div><div class="line number2746 index2745 alt1">2746</div><div class="line number2747 index2746 alt2">2747</div><div class="line number2748 index2747 alt1">2748</div><div class="line number2749 index2748 alt2">2749</div><div class="line number2750 index2749 alt1">2750</div><div class="line number2751 index2750 alt2">2751</div><div class="line number2752 index2751 alt1">2752</div><div class="line number2753 index2752 alt2">2753</div><div class="line number2754 index2753 alt1">2754</div><div class="line number2755 index2754 alt2">2755</div><div class="line number2756 index2755 alt1">2756</div><div class="line number2757 index2756 alt2">2757</div><div class="line number2758 index2757 alt1">2758</div><div class="line number2759 index2758 alt2">2759</div><div class="line number2760 index2759 alt1">2760</div><div class="line number2761 index2760 alt2">2761</div><div class="line number2762 index2761 alt1">2762</div><div class="line number2763 index2762 alt2">2763</div><div class="line number2764 index2763 alt1">2764</div><div class="line number2765 index2764 alt2">2765</div><div class="line number2766 index2765 alt1">2766</div><div class="line number2767 index2766 alt2">2767</div><div class="line number2768 index2767 alt1">2768</div><div class="line number2769 index2768 alt2">2769</div><div class="line number2770 index2769 alt1">2770</div><div class="line number2771 index2770 alt2">2771</div><div class="line number2772 index2771 alt1">2772</div><div class="line number2773 index2772 alt2">2773</div><div class="line number2774 index2773 alt1">2774</div><div class="line number2775 index2774 alt2">2775</div><div class="line number2776 index2775 alt1">2776</div><div class="line number2777 index2776 alt2">2777</div><div class="line number2778 index2777 alt1">2778</div><div class="line number2779 index2778 alt2">2779</div><div class="line number2780 index2779 alt1">2780</div><div class="line number2781 index2780 alt2">2781</div><div class="line number2782 index2781 alt1">2782</div><div class="line number2783 index2782 alt2">2783</div><div class="line number2784 index2783 alt1">2784</div><div class="line number2785 index2784 alt2">2785</div><div class="line number2786 index2785 alt1">2786</div><div class="line number2787 index2786 alt2">2787</div><div class="line number2788 index2787 alt1">2788</div><div class="line number2789 index2788 alt2">2789</div><div class="line number2790 index2789 alt1">2790</div><div class="line number2791 index2790 alt2">2791</div><div class="line number2792 index2791 alt1">2792</div><div class="line number2793 index2792 alt2">2793</div><div class="line number2794 index2793 alt1">2794</div><div class="line number2795 index2794 alt2">2795</div><div class="line number2796 index2795 alt1">2796</div><div class="line number2797 index2796 alt2">2797</div><div class="line number2798 index2797 alt1">2798</div><div class="line number2799 index2798 alt2">2799</div><div class="line number2800 index2799 alt1">2800</div><div class="line number2801 index2800 alt2">2801</div><div class="line number2802 index2801 alt1">2802</div><div class="line number2803 index2802 alt2">2803</div><div class="line number2804 index2803 alt1">2804</div><div class="line number2805 index2804 alt2">2805</div><div class="line number2806 index2805 alt1">2806</div><div class="line number2807 index2806 alt2">2807</div><div class="line number2808 index2807 alt1">2808</div><div class="line number2809 index2808 alt2">2809</div><div class="line number2810 index2809 alt1">2810</div><div class="line number2811 index2810 alt2">2811</div><div class="line number2812 index2811 alt1">2812</div><div class="line number2813 index2812 alt2">2813</div><div class="line number2814 index2813 alt1">2814</div><div class="line number2815 index2814 alt2">2815</div><div class="line number2816 index2815 alt1">2816</div><div class="line number2817 index2816 alt2">2817</div><div class="line number2818 index2817 alt1">2818</div><div class="line number2819 index2818 alt2">2819</div><div class="line number2820 index2819 alt1">2820</div><div class="line number2821 index2820 alt2">2821</div><div class="line number2822 index2821 alt1">2822</div><div class="line number2823 index2822 alt2">2823</div><div class="line number2824 index2823 alt1">2824</div><div class="line number2825 index2824 alt2">2825</div><div class="line number2826 index2825 alt1">2826</div><div class="line number2827 index2826 alt2">2827</div><div class="line number2828 index2827 alt1">2828</div><div class="line number2829 index2828 alt2">2829</div><div class="line number2830 index2829 alt1">2830</div><div class="line number2831 index2830 alt2">2831</div><div class="line number2832 index2831 alt1">2832</div><div class="line number2833 index2832 alt2">2833</div><div class="line number2834 index2833 alt1">2834</div><div class="line number2835 index2834 alt2">2835</div><div class="line number2836 index2835 alt1">2836</div><div class="line number2837 index2836 alt2">2837</div><div class="line number2838 index2837 alt1">2838</div><div class="line number2839 index2838 alt2">2839</div><div class="line number2840 index2839 alt1">2840</div><div class="line number2841 index2840 alt2">2841</div><div class="line number2842 index2841 alt1">2842</div><div class="line number2843 index2842 alt2">2843</div><div class="line number2844 index2843 alt1">2844</div><div class="line number2845 index2844 alt2">2845</div><div class="line number2846 index2845 alt1">2846</div><div class="line number2847 index2846 alt2">2847</div><div class="line number2848 index2847 alt1">2848</div><div class="line number2849 index2848 alt2">2849</div><div class="line number2850 index2849 alt1">2850</div><div class="line number2851 index2850 alt2">2851</div><div class="line number2852 index2851 alt1">2852</div><div class="line number2853 index2852 alt2">2853</div><div class="line number2854 index2853 alt1">2854</div><div class="line number2855 index2854 alt2">2855</div><div class="line number2856 index2855 alt1">2856</div><div class="line number2857 index2856 alt2">2857</div><div class="line number2858 index2857 alt1">2858</div><div class="line number2859 index2858 alt2">2859</div><div class="line number2860 index2859 alt1">2860</div><div class="line number2861 index2860 alt2">2861</div><div class="line number2862 index2861 alt1">2862</div><div class="line number2863 index2862 alt2">2863</div><div class="line number2864 index2863 alt1">2864</div><div class="line number2865 index2864 alt2">2865</div><div class="line number2866 index2865 alt1">2866</div><div class="line number2867 index2866 alt2">2867</div><div class="line number2868 index2867 alt1">2868</div><div class="line number2869 index2868 alt2">2869</div><div class="line number2870 index2869 alt1">2870</div><div class="line number2871 index2870 alt2">2871</div><div class="line number2872 index2871 alt1">2872</div><div class="line number2873 index2872 alt2">2873</div><div class="line number2874 index2873 alt1">2874</div><div class="line number2875 index2874 alt2">2875</div><div class="line number2876 index2875 alt1">2876</div><div class="line number2877 index2876 alt2">2877</div><div class="line number2878 index2877 alt1">2878</div><div class="line number2879 index2878 alt2">2879</div><div class="line number2880 index2879 alt1">2880</div><div class="line number2881 index2880 alt2">2881</div><div class="line number2882 index2881 alt1">2882</div><div class="line number2883 index2882 alt2">2883</div><div class="line number2884 index2883 alt1">2884</div><div class="line number2885 index2884 alt2">2885</div><div class="line number2886 index2885 alt1">2886</div><div class="line number2887 index2886 alt2">2887</div><div class="line number2888 index2887 alt1">2888</div><div class="line number2889 index2888 alt2">2889</div><div class="line number2890 index2889 alt1">2890</div><div class="line number2891 index2890 alt2">2891</div><div class="line number2892 index2891 alt1">2892</div><div class="line number2893 index2892 alt2">2893</div><div class="line number2894 index2893 alt1">2894</div><div class="line number2895 index2894 alt2">2895</div><div class="line number2896 index2895 alt1">2896</div><div class="line number2897 index2896 alt2">2897</div><div class="line number2898 index2897 alt1">2898</div><div class="line number2899 index2898 alt2">2899</div><div class="line number2900 index2899 alt1">2900</div><div class="line number2901 index2900 alt2">2901</div><div class="line number2902 index2901 alt1">2902</div><div class="line number2903 index2902 alt2">2903</div><div class="line number2904 index2903 alt1">2904</div><div class="line number2905 index2904 alt2">2905</div><div class="line number2906 index2905 alt1">2906</div><div class="line number2907 index2906 alt2">2907</div><div class="line number2908 index2907 alt1">2908</div><div class="line number2909 index2908 alt2">2909</div><div class="line number2910 index2909 alt1">2910</div><div class="line number2911 index2910 alt2">2911</div><div class="line number2912 index2911 alt1">2912</div><div class="line number2913 index2912 alt2">2913</div><div class="line number2914 index2913 alt1">2914</div><div class="line number2915 index2914 alt2">2915</div><div class="line number2916 index2915 alt1">2916</div><div class="line number2917 index2916 alt2">2917</div><div class="line number2918 index2917 alt1">2918</div><div class="line number2919 index2918 alt2">2919</div><div class="line number2920 index2919 alt1">2920</div><div class="line number2921 index2920 alt2">2921</div><div class="line number2922 index2921 alt1">2922</div><div class="line number2923 index2922 alt2">2923</div><div class="line number2924 index2923 alt1">2924</div><div class="line number2925 index2924 alt2">2925</div><div class="line number2926 index2925 alt1">2926</div><div class="line number2927 index2926 alt2">2927</div><div class="line number2928 index2927 alt1">2928</div><div class="line number2929 index2928 alt2">2929</div><div class="line number2930 index2929 alt1">2930</div><div class="line number2931 index2930 alt2">2931</div><div class="line number2932 index2931 alt1">2932</div><div class="line number2933 index2932 alt2">2933</div><div class="line number2934 index2933 alt1">2934</div><div class="line number2935 index2934 alt2">2935</div><div class="line number2936 index2935 alt1">2936</div><div class="line number2937 index2936 alt2">2937</div><div class="line number2938 index2937 alt1">2938</div><div class="line number2939 index2938 alt2">2939</div><div class="line number2940 index2939 alt1">2940</div><div class="line number2941 index2940 alt2">2941</div><div class="line number2942 index2941 alt1">2942</div><div class="line number2943 index2942 alt2">2943</div><div class="line number2944 index2943 alt1">2944</div><div class="line number2945 index2944 alt2">2945</div><div class="line number2946 index2945 alt1">2946</div><div class="line number2947 index2946 alt2">2947</div><div class="line number2948 index2947 alt1">2948</div><div class="line number2949 index2948 alt2">2949</div><div class="line number2950 index2949 alt1">2950</div><div class="line number2951 index2950 alt2">2951</div><div class="line number2952 index2951 alt1">2952</div><div class="line number2953 index2952 alt2">2953</div><div class="line number2954 index2953 alt1">2954</div><div class="line number2955 index2954 alt2">2955</div><div class="line number2956 index2955 alt1">2956</div><div class="line number2957 index2956 alt2">2957</div><div class="line number2958 index2957 alt1">2958</div><div class="line number2959 index2958 alt2">2959</div><div class="line number2960 index2959 alt1">2960</div><div class="line number2961 index2960 alt2">2961</div><div class="line number2962 index2961 alt1">2962</div><div class="line number2963 index2962 alt2">2963</div><div class="line number2964 index2963 alt1">2964</div><div class="line number2965 index2964 alt2">2965</div><div class="line number2966 index2965 alt1">2966</div><div class="line number2967 index2966 alt2">2967</div><div class="line number2968 index2967 alt1">2968</div><div class="line number2969 index2968 alt2">2969</div><div class="line number2970 index2969 alt1">2970</div><div class="line number2971 index2970 alt2">2971</div><div class="line number2972 index2971 alt1">2972</div><div class="line number2973 index2972 alt2">2973</div><div class="line number2974 index2973 alt1">2974</div><div class="line number2975 index2974 alt2">2975</div><div class="line number2976 index2975 alt1">2976</div><div class="line number2977 index2976 alt2">2977</div><div class="line number2978 index2977 alt1">2978</div><div class="line number2979 index2978 alt2">2979</div><div class="line number2980 index2979 alt1">2980</div><div class="line number2981 index2980 alt2">2981</div><div class="line number2982 index2981 alt1">2982</div><div class="line number2983 index2982 alt2">2983</div><div class="line number2984 index2983 alt1">2984</div><div class="line number2985 index2984 alt2">2985</div><div class="line number2986 index2985 alt1">2986</div><div class="line number2987 index2986 alt2">2987</div><div class="line number2988 index2987 alt1">2988</div><div class="line number2989 index2988 alt2">2989</div><div class="line number2990 index2989 alt1">2990</div><div class="line number2991 index2990 alt2">2991</div><div class="line number2992 index2991 alt1">2992</div><div class="line number2993 index2992 alt2">2993</div><div class="line number2994 index2993 alt1">2994</div><div class="line number2995 index2994 alt2">2995</div><div class="line number2996 index2995 alt1">2996</div><div class="line number2997 index2996 alt2">2997</div><div class="line number2998 index2997 alt1">2998</div><div class="line number2999 index2998 alt2">2999</div><div class="line number3000 index2999 alt1">3000</div><div class="line number3001 index3000 alt2">3001</div><div class="line number3002 index3001 alt1">3002</div><div class="line number3003 index3002 alt2">3003</div><div class="line number3004 index3003 alt1">3004</div><div class="line number3005 index3004 alt2">3005</div><div class="line number3006 index3005 alt1">3006</div><div class="line number3007 index3006 alt2">3007</div><div class="line number3008 index3007 alt1">3008</div><div class="line number3009 index3008 alt2">3009</div><div class="line number3010 index3009 alt1">3010</div><div class="line number3011 index3010 alt2">3011</div><div class="line number3012 index3011 alt1">3012</div><div class="line number3013 index3012 alt2">3013</div><div class="line number3014 index3013 alt1">3014</div><div class="line number3015 index3014 alt2">3015</div><div class="line number3016 index3015 alt1">3016</div><div class="line number3017 index3016 alt2">3017</div><div class="line number3018 index3017 alt1">3018</div><div class="line number3019 index3018 alt2">3019</div><div class="line number3020 index3019 alt1">3020</div><div class="line number3021 index3020 alt2">3021</div><div class="line number3022 index3021 alt1">3022</div><div class="line number3023 index3022 alt2">3023</div><div class="line number3024 index3023 alt1">3024</div><div class="line number3025 index3024 alt2">3025</div><div class="line number3026 index3025 alt1">3026</div><div class="line number3027 index3026 alt2">3027</div><div class="line number3028 index3027 alt1">3028</div><div class="line number3029 index3028 alt2">3029</div><div class="line number3030 index3029 alt1">3030</div><div class="line number3031 index3030 alt2">3031</div><div class="line number3032 index3031 alt1">3032</div><div class="line number3033 index3032 alt2">3033</div><div class="line number3034 index3033 alt1">3034</div><div class="line number3035 index3034 alt2">3035</div><div class="line number3036 index3035 alt1">3036</div><div class="line number3037 index3036 alt2">3037</div><div class="line number3038 index3037 alt1">3038</div><div class="line number3039 index3038 alt2">3039</div><div class="line number3040 index3039 alt1">3040</div><div class="line number3041 index3040 alt2">3041</div><div class="line number3042 index3041 alt1">3042</div><div class="line number3043 index3042 alt2">3043</div><div class="line number3044 index3043 alt1">3044</div><div class="line number3045 index3044 alt2">3045</div><div class="line number3046 index3045 alt1">3046</div><div class="line number3047 index3046 alt2">3047</div><div class="line number3048 index3047 alt1">3048</div><div class="line number3049 index3048 alt2">3049</div><div class="line number3050 index3049 alt1">3050</div><div class="line number3051 index3050 alt2">3051</div><div class="line number3052 index3051 alt1">3052</div><div class="line number3053 index3052 alt2">3053</div><div class="line number3054 index3053 alt1">3054</div><div class="line number3055 index3054 alt2">3055</div><div class="line number3056 index3055 alt1">3056</div><div class="line number3057 index3056 alt2">3057</div><div class="line number3058 index3057 alt1">3058</div><div class="line number3059 index3058 alt2">3059</div><div class="line number3060 index3059 alt1">3060</div><div class="line number3061 index3060 alt2">3061</div><div class="line number3062 index3061 alt1">3062</div><div class="line number3063 index3062 alt2">3063</div><div class="line number3064 index3063 alt1">3064</div><div class="line number3065 index3064 alt2">3065</div><div class="line number3066 index3065 alt1">3066</div><div class="line number3067 index3066 alt2">3067</div><div class="line number3068 index3067 alt1">3068</div><div class="line number3069 index3068 alt2">3069</div><div class="line number3070 index3069 alt1">3070</div><div class="line number3071 index3070 alt2">3071</div><div class="line number3072 index3071 alt1">3072</div><div class="line number3073 index3072 alt2">3073</div><div class="line number3074 index3073 alt1">3074</div><div class="line number3075 index3074 alt2">3075</div><div class="line number3076 index3075 alt1">3076</div><div class="line number3077 index3076 alt2">3077</div><div class="line number3078 index3077 alt1">3078</div><div class="line number3079 index3078 alt2">3079</div><div class="line number3080 index3079 alt1">3080</div><div class="line number3081 index3080 alt2">3081</div><div class="line number3082 index3081 alt1">3082</div><div class="line number3083 index3082 alt2">3083</div><div class="line number3084 index3083 alt1">3084</div><div class="line number3085 index3084 alt2">3085</div><div class="line number3086 index3085 alt1">3086</div><div class="line number3087 index3086 alt2">3087</div><div class="line number3088 index3087 alt1">3088</div><div class="line number3089 index3088 alt2">3089</div><div class="line number3090 index3089 alt1">3090</div><div class="line number3091 index3090 alt2">3091</div><div class="line number3092 index3091 alt1">3092</div><div class="line number3093 index3092 alt2">3093</div><div class="line number3094 index3093 alt1">3094</div><div class="line number3095 index3094 alt2">3095</div><div class="line number3096 index3095 alt1">3096</div><div class="line number3097 index3096 alt2">3097</div><div class="line number3098 index3097 alt1">3098</div><div class="line number3099 index3098 alt2">3099</div><div class="line number3100 index3099 alt1">3100</div><div class="line number3101 index3100 alt2">3101</div><div class="line number3102 index3101 alt1">3102</div><div class="line number3103 index3102 alt2">3103</div><div class="line number3104 index3103 alt1">3104</div><div class="line number3105 index3104 alt2">3105</div><div class="line number3106 index3105 alt1">3106</div><div class="line number3107 index3106 alt2">3107</div><div class="line number3108 index3107 alt1">3108</div><div class="line number3109 index3108 alt2">3109</div><div class="line number3110 index3109 alt1">3110</div><div class="line number3111 index3110 alt2">3111</div><div class="line number3112 index3111 alt1">3112</div><div class="line number3113 index3112 alt2">3113</div><div class="line number3114 index3113 alt1">3114</div><div class="line number3115 index3114 alt2">3115</div><div class="line number3116 index3115 alt1">3116</div><div class="line number3117 index3116 alt2">3117</div><div class="line number3118 index3117 alt1">3118</div><div class="line number3119 index3118 alt2">3119</div><div class="line number3120 index3119 alt1">3120</div><div class="line number3121 index3120 alt2">3121</div><div class="line number3122 index3121 alt1">3122</div><div class="line number3123 index3122 alt2">3123</div><div class="line number3124 index3123 alt1">3124</div><div class="line number3125 index3124 alt2">3125</div><div class="line number3126 index3125 alt1">3126</div><div class="line number3127 index3126 alt2">3127</div><div class="line number3128 index3127 alt1">3128</div><div class="line number3129 index3128 alt2">3129</div><div class="line number3130 index3129 alt1">3130</div><div class="line number3131 index3130 alt2">3131</div><div class="line number3132 index3131 alt1">3132</div><div class="line number3133 index3132 alt2">3133</div><div class="line number3134 index3133 alt1">3134</div><div class="line number3135 index3134 alt2">3135</div><div class="line number3136 index3135 alt1">3136</div><div class="line number3137 index3136 alt2">3137</div><div class="line number3138 index3137 alt1">3138</div><div class="line number3139 index3138 alt2">3139</div><div class="line number3140 index3139 alt1">3140</div><div class="line number3141 index3140 alt2">3141</div><div class="line number3142 index3141 alt1">3142</div><div class="line number3143 index3142 alt2">3143</div><div class="line number3144 index3143 alt1">3144</div><div class="line number3145 index3144 alt2">3145</div><div class="line number3146 index3145 alt1">3146</div><div class="line number3147 index3146 alt2">3147</div><div class="line number3148 index3147 alt1">3148</div><div class="line number3149 index3148 alt2">3149</div><div class="line number3150 index3149 alt1">3150</div><div class="line number3151 index3150 alt2">3151</div><div class="line number3152 index3151 alt1">3152</div><div class="line number3153 index3152 alt2">3153</div><div class="line number3154 index3153 alt1">3154</div><div class="line number3155 index3154 alt2">3155</div><div class="line number3156 index3155 alt1">3156</div><div class="line number3157 index3156 alt2">3157</div><div class="line number3158 index3157 alt1">3158</div><div class="line number3159 index3158 alt2">3159</div><div class="line number3160 index3159 alt1">3160</div><div class="line number3161 index3160 alt2">3161</div><div class="line number3162 index3161 alt1">3162</div><div class="line number3163 index3162 alt2">3163</div><div class="line number3164 index3163 alt1">3164</div><div class="line number3165 index3164 alt2">3165</div><div class="line number3166 index3165 alt1">3166</div><div class="line number3167 index3166 alt2">3167</div><div class="line number3168 index3167 alt1">3168</div><div class="line number3169 index3168 alt2">3169</div><div class="line number3170 index3169 alt1">3170</div><div class="line number3171 index3170 alt2">3171</div><div class="line number3172 index3171 alt1">3172</div><div class="line number3173 index3172 alt2">3173</div><div class="line number3174 index3173 alt1">3174</div><div class="line number3175 index3174 alt2">3175</div><div class="line number3176 index3175 alt1">3176</div><div class="line number3177 index3176 alt2">3177</div><div class="line number3178 index3177 alt1">3178</div><div class="line number3179 index3178 alt2">3179</div><div class="line number3180 index3179 alt1">3180</div><div class="line number3181 index3180 alt2">3181</div><div class="line number3182 index3181 alt1">3182</div><div class="line number3183 index3182 alt2">3183</div><div class="line number3184 index3183 alt1">3184</div><div class="line number3185 index3184 alt2">3185</div><div class="line number3186 index3185 alt1">3186</div><div class="line number3187 index3186 alt2">3187</div><div class="line number3188 index3187 alt1">3188</div><div class="line number3189 index3188 alt2">3189</div><div class="line number3190 index3189 alt1">3190</div><div class="line number3191 index3190 alt2">3191</div><div class="line number3192 index3191 alt1">3192</div><div class="line number3193 index3192 alt2">3193</div><div class="line number3194 index3193 alt1">3194</div><div class="line number3195 index3194 alt2">3195</div><div class="line number3196 index3195 alt1">3196</div><div class="line number3197 index3196 alt2">3197</div><div class="line number3198 index3197 alt1">3198</div><div class="line number3199 index3198 alt2">3199</div><div class="line number3200 index3199 alt1">3200</div><div class="line number3201 index3200 alt2">3201</div><div class="line number3202 index3201 alt1">3202</div><div class="line number3203 index3202 alt2">3203</div><div class="line number3204 index3203 alt1">3204</div><div class="line number3205 index3204 alt2">3205</div><div class="line number3206 index3205 alt1">3206</div><div class="line number3207 index3206 alt2">3207</div><div class="line number3208 index3207 alt1">3208</div><div class="line number3209 index3208 alt2">3209</div><div class="line number3210 index3209 alt1">3210</div><div class="line number3211 index3210 alt2">3211</div><div class="line number3212 index3211 alt1">3212</div><div class="line number3213 index3212 alt2">3213</div><div class="line number3214 index3213 alt1">3214</div><div class="line number3215 index3214 alt2">3215</div><div class="line number3216 index3215 alt1">3216</div><div class="line number3217 index3216 alt2">3217</div><div class="line number3218 index3217 alt1">3218</div><div class="line number3219 index3218 alt2">3219</div><div class="line number3220 index3219 alt1">3220</div><div class="line number3221 index3220 alt2">3221</div><div class="line number3222 index3221 alt1">3222</div><div class="line number3223 index3222 alt2">3223</div><div class="line number3224 index3223 alt1">3224</div><div class="line number3225 index3224 alt2">3225</div><div class="line number3226 index3225 alt1">3226</div><div class="line number3227 index3226 alt2">3227</div><div class="line number3228 index3227 alt1">3228</div><div class="line number3229 index3228 alt2">3229</div><div class="line number3230 index3229 alt1">3230</div><div class="line number3231 index3230 alt2">3231</div><div class="line number3232 index3231 alt1">3232</div><div class="line number3233 index3232 alt2">3233</div><div class="line number3234 index3233 alt1">3234</div><div class="line number3235 index3234 alt2">3235</div><div class="line number3236 index3235 alt1">3236</div><div class="line number3237 index3236 alt2">3237</div><div class="line number3238 index3237 alt1">3238</div><div class="line number3239 index3238 alt2">3239</div><div class="line number3240 index3239 alt1">3240</div><div class="line number3241 index3240 alt2">3241</div><div class="line number3242 index3241 alt1">3242</div><div class="line number3243 index3242 alt2">3243</div><div class="line number3244 index3243 alt1">3244</div><div class="line number3245 index3244 alt2">3245</div><div class="line number3246 index3245 alt1">3246</div><div class="line number3247 index3246 alt2">3247</div><div class="line number3248 index3247 alt1">3248</div><div class="line number3249 index3248 alt2">3249</div><div class="line number3250 index3249 alt1">3250</div><div class="line number3251 index3250 alt2">3251</div><div class="line number3252 index3251 alt1">3252</div><div class="line number3253 index3252 alt2">3253</div><div class="line number3254 index3253 alt1">3254</div><div class="line number3255 index3254 alt2">3255</div><div class="line number3256 index3255 alt1">3256</div><div class="line number3257 index3256 alt2">3257</div><div class="line number3258 index3257 alt1">3258</div><div class="line number3259 index3258 alt2">3259</div><div class="line number3260 index3259 alt1">3260</div><div class="line number3261 index3260 alt2">3261</div><div class="line number3262 index3261 alt1">3262</div><div class="line number3263 index3262 alt2">3263</div><div class="line number3264 index3263 alt1">3264</div><div class="line number3265 index3264 alt2">3265</div><div class="line number3266 index3265 alt1">3266</div><div class="line number3267 index3266 alt2">3267</div><div class="line number3268 index3267 alt1">3268</div><div class="line number3269 index3268 alt2">3269</div><div class="line number3270 index3269 alt1">3270</div><div class="line number3271 index3270 alt2">3271</div><div class="line number3272 index3271 alt1">3272</div><div class="line number3273 index3272 alt2">3273</div><div class="line number3274 index3273 alt1">3274</div><div class="line number3275 index3274 alt2">3275</div><div class="line number3276 index3275 alt1">3276</div><div class="line number3277 index3276 alt2">3277</div><div class="line number3278 index3277 alt1">3278</div><div class="line number3279 index3278 alt2">3279</div><div class="line number3280 index3279 alt1">3280</div><div class="line number3281 index3280 alt2">3281</div><div class="line number3282 index3281 alt1">3282</div><div class="line number3283 index3282 alt2">3283</div><div class="line number3284 index3283 alt1">3284</div><div class="line number3285 index3284 alt2">3285</div><div class="line number3286 index3285 alt1">3286</div><div class="line number3287 index3286 alt2">3287</div><div class="line number3288 index3287 alt1">3288</div><div class="line number3289 index3288 alt2">3289</div><div class="line number3290 index3289 alt1">3290</div><div class="line number3291 index3290 alt2">3291</div><div class="line number3292 index3291 alt1">3292</div><div class="line number3293 index3292 alt2">3293</div><div class="line number3294 index3293 alt1">3294</div><div class="line number3295 index3294 alt2">3295</div><div class="line number3296 index3295 alt1">3296</div><div class="line number3297 index3296 alt2">3297</div><div class="line number3298 index3297 alt1">3298</div><div class="line number3299 index3298 alt2">3299</div><div class="line number3300 index3299 alt1">3300</div><div class="line number3301 index3300 alt2">3301</div><div class="line number3302 index3301 alt1">3302</div><div class="line number3303 index3302 alt2">3303</div><div class="line number3304 index3303 alt1">3304</div><div class="line number3305 index3304 alt2">3305</div><div class="line number3306 index3305 alt1">3306</div><div class="line number3307 index3306 alt2">3307</div><div class="line number3308 index3307 alt1">3308</div><div class="line number3309 index3308 alt2">3309</div><div class="line number3310 index3309 alt1">3310</div><div class="line number3311 index3310 alt2">3311</div><div class="line number3312 index3311 alt1">3312</div><div class="line number3313 index3312 alt2">3313</div><div class="line number3314 index3313 alt1">3314</div><div class="line number3315 index3314 alt2">3315</div><div class="line number3316 index3315 alt1">3316</div><div class="line number3317 index3316 alt2">3317</div><div class="line number3318 index3317 alt1">3318</div><div class="line number3319 index3318 alt2">3319</div><div class="line number3320 index3319 alt1">3320</div><div class="line number3321 index3320 alt2">3321</div><div class="line number3322 index3321 alt1">3322</div><div class="line number3323 index3322 alt2">3323</div><div class="line number3324 index3323 alt1">3324</div><div class="line number3325 index3324 alt2">3325</div><div class="line number3326 index3325 alt1">3326</div><div class="line number3327 index3326 alt2">3327</div><div class="line number3328 index3327 alt1">3328</div><div class="line number3329 index3328 alt2">3329</div><div class="line number3330 index3329 alt1">3330</div><div class="line number3331 index3330 alt2">3331</div><div class="line number3332 index3331 alt1">3332</div><div class="line number3333 index3332 alt2">3333</div><div class="line number3334 index3333 alt1">3334</div><div class="line number3335 index3334 alt2">3335</div><div class="line number3336 index3335 alt1">3336</div><div class="line number3337 index3336 alt2">3337</div><div class="line number3338 index3337 alt1">3338</div><div class="line number3339 index3338 alt2">3339</div><div class="line number3340 index3339 alt1">3340</div><div class="line number3341 index3340 alt2">3341</div><div class="line number3342 index3341 alt1">3342</div><div class="line number3343 index3342 alt2">3343</div><div class="line number3344 index3343 alt1">3344</div><div class="line number3345 index3344 alt2">3345</div><div class="line number3346 index3345 alt1">3346</div><div class="line number3347 index3346 alt2">3347</div><div class="line number3348 index3347 alt1">3348</div><div class="line number3349 index3348 alt2">3349</div><div class="line number3350 index3349 alt1">3350</div><div class="line number3351 index3350 alt2">3351</div><div class="line number3352 index3351 alt1">3352</div><div class="line number3353 index3352 alt2">3353</div><div class="line number3354 index3353 alt1">3354</div><div class="line number3355 index3354 alt2">3355</div><div class="line number3356 index3355 alt1">3356</div><div class="line number3357 index3356 alt2">3357</div><div class="line number3358 index3357 alt1">3358</div><div class="line number3359 index3358 alt2">3359</div><div class="line number3360 index3359 alt1">3360</div><div class="line number3361 index3360 alt2">3361</div><div class="line number3362 index3361 alt1">3362</div><div class="line number3363 index3362 alt2">3363</div><div class="line number3364 index3363 alt1">3364</div><div class="line number3365 index3364 alt2">3365</div><div class="line number3366 index3365 alt1">3366</div><div class="line number3367 index3366 alt2">3367</div><div class="line number3368 index3367 alt1">3368</div><div class="line number3369 index3368 alt2">3369</div><div class="line number3370 index3369 alt1">3370</div><div class="line number3371 index3370 alt2">3371</div><div class="line number3372 index3371 alt1">3372</div><div class="line number3373 index3372 alt2">3373</div><div class="line number3374 index3373 alt1">3374</div><div class="line number3375 index3374 alt2">3375</div><div class="line number3376 index3375 alt1">3376</div><div class="line number3377 index3376 alt2">3377</div><div class="line number3378 index3377 alt1">3378</div><div class="line number3379 index3378 alt2">3379</div><div class="line number3380 index3379 alt1">3380</div><div class="line number3381 index3380 alt2">3381</div><div class="line number3382 index3381 alt1">3382</div><div class="line number3383 index3382 alt2">3383</div><div class="line number3384 index3383 alt1">3384</div><div class="line number3385 index3384 alt2">3385</div><div class="line number3386 index3385 alt1">3386</div><div class="line number3387 index3386 alt2">3387</div><div class="line number3388 index3387 alt1">3388</div><div class="line number3389 index3388 alt2">3389</div><div class="line number3390 index3389 alt1">3390</div><div class="line number3391 index3390 alt2">3391</div><div class="line number3392 index3391 alt1">3392</div><div class="line number3393 index3392 alt2">3393</div><div class="line number3394 index3393 alt1">3394</div><div class="line number3395 index3394 alt2">3395</div><div class="line number3396 index3395 alt1">3396</div><div class="line number3397 index3396 alt2">3397</div><div class="line number3398 index3397 alt1">3398</div><div class="line number3399 index3398 alt2">3399</div><div class="line number3400 index3399 alt1">3400</div><div class="line number3401 index3400 alt2">3401</div><div class="line number3402 index3401 alt1">3402</div><div class="line number3403 index3402 alt2">3403</div><div class="line number3404 index3403 alt1">3404</div><div class="line number3405 index3404 alt2">3405</div><div class="line number3406 index3405 alt1">3406</div><div class="line number3407 index3406 alt2">3407</div><div class="line number3408 index3407 alt1">3408</div><div class="line number3409 index3408 alt2">3409</div><div class="line number3410 index3409 alt1">3410</div><div class="line number3411 index3410 alt2">3411</div><div class="line number3412 index3411 alt1">3412</div><div class="line number3413 index3412 alt2">3413</div><div class="line number3414 index3413 alt1">3414</div><div class="line number3415 index3414 alt2">3415</div><div class="line number3416 index3415 alt1">3416</div><div class="line number3417 index3416 alt2">3417</div><div class="line number3418 index3417 alt1">3418</div><div class="line number3419 index3418 alt2">3419</div><div class="line number3420 index3419 alt1">3420</div><div class="line number3421 index3420 alt2">3421</div><div class="line number3422 index3421 alt1">3422</div><div class="line number3423 index3422 alt2">3423</div><div class="line number3424 index3423 alt1">3424</div><div class="line number3425 index3424 alt2">3425</div><div class="line number3426 index3425 alt1">3426</div><div class="line number3427 index3426 alt2">3427</div><div class="line number3428 index3427 alt1">3428</div><div class="line number3429 index3428 alt2">3429</div><div class="line number3430 index3429 alt1">3430</div><div class="line number3431 index3430 alt2">3431</div><div class="line number3432 index3431 alt1">3432</div><div class="line number3433 index3432 alt2">3433</div><div class="line number3434 index3433 alt1">3434</div><div class="line number3435 index3434 alt2">3435</div><div class="line number3436 index3435 alt1">3436</div><div class="line number3437 index3436 alt2">3437</div><div class="line number3438 index3437 alt1">3438</div><div class="line number3439 index3438 alt2">3439</div><div class="line number3440 index3439 alt1">3440</div><div class="line number3441 index3440 alt2">3441</div><div class="line number3442 index3441 alt1">3442</div><div class="line number3443 index3442 alt2">3443</div><div class="line number3444 index3443 alt1">3444</div><div class="line number3445 index3444 alt2">3445</div><div class="line number3446 index3445 alt1">3446</div><div class="line number3447 index3446 alt2">3447</div><div class="line number3448 index3447 alt1">3448</div><div class="line number3449 index3448 alt2">3449</div><div class="line number3450 index3449 alt1">3450</div><div class="line number3451 index3450 alt2">3451</div><div class="line number3452 index3451 alt1">3452</div><div class="line number3453 index3452 alt2">3453</div><div class="line number3454 index3453 alt1">3454</div><div class="line number3455 index3454 alt2">3455</div><div class="line number3456 index3455 alt1">3456</div><div class="line number3457 index3456 alt2">3457</div><div class="line number3458 index3457 alt1">3458</div><div class="line number3459 index3458 alt2">3459</div><div class="line number3460 index3459 alt1">3460</div><div class="line number3461 index3460 alt2">3461</div><div class="line number3462 index3461 alt1">3462</div><div class="line number3463 index3462 alt2">3463</div><div class="line number3464 index3463 alt1">3464</div><div class="line number3465 index3464 alt2">3465</div><div class="line number3466 index3465 alt1">3466</div><div class="line number3467 index3466 alt2">3467</div><div class="line number3468 index3467 alt1">3468</div><div class="line number3469 index3468 alt2">3469</div><div class="line number3470 index3469 alt1">3470</div><div class="line number3471 index3470 alt2">3471</div><div class="line number3472 index3471 alt1">3472</div><div class="line number3473 index3472 alt2">3473</div><div class="line number3474 index3473 alt1">3474</div><div class="line number3475 index3474 alt2">3475</div><div class="line number3476 index3475 alt1">3476</div><div class="line number3477 index3476 alt2">3477</div><div class="line number3478 index3477 alt1">3478</div><div class="line number3479 index3478 alt2">3479</div><div class="line number3480 index3479 alt1">3480</div><div class="line number3481 index3480 alt2">3481</div><div class="line number3482 index3481 alt1">3482</div><div class="line number3483 index3482 alt2">3483</div><div class="line number3484 index3483 alt1">3484</div><div class="line number3485 index3484 alt2">3485</div><div class="line number3486 index3485 alt1">3486</div><div class="line number3487 index3486 alt2">3487</div><div class="line number3488 index3487 alt1">3488</div><div class="line number3489 index3488 alt2">3489</div><div class="line number3490 index3489 alt1">3490</div><div class="line number3491 index3490 alt2">3491</div><div class="line number3492 index3491 alt1">3492</div><div class="line number3493 index3492 alt2">3493</div><div class="line number3494 index3493 alt1">3494</div><div class="line number3495 index3494 alt2">3495</div><div class="line number3496 index3495 alt1">3496</div><div class="line number3497 index3496 alt2">3497</div><div class="line number3498 index3497 alt1">3498</div><div class="line number3499 index3498 alt2">3499</div><div class="line number3500 index3499 alt1">3500</div><div class="line number3501 index3500 alt2">3501</div><div class="line number3502 index3501 alt1">3502</div><div class="line number3503 index3502 alt2">3503</div><div class="line number3504 index3503 alt1">3504</div><div class="line number3505 index3504 alt2">3505</div><div class="line number3506 index3505 alt1">3506</div><div class="line number3507 index3506 alt2">3507</div><div class="line number3508 index3507 alt1">3508</div><div class="line number3509 index3508 alt2">3509</div><div class="line number3510 index3509 alt1">3510</div><div class="line number3511 index3510 alt2">3511</div><div class="line number3512 index3511 alt1">3512</div><div class="line number3513 index3512 alt2">3513</div><div class="line number3514 index3513 alt1">3514</div><div class="line number3515 index3514 alt2">3515</div><div class="line number3516 index3515 alt1">3516</div><div class="line number3517 index3516 alt2">3517</div><div class="line number3518 index3517 alt1">3518</div><div class="line number3519 index3518 alt2">3519</div><div class="line number3520 index3519 alt1">3520</div><div class="line number3521 index3520 alt2">3521</div><div class="line number3522 index3521 alt1">3522</div><div class="line number3523 index3522 alt2">3523</div><div class="line number3524 index3523 alt1">3524</div><div class="line number3525 index3524 alt2">3525</div><div class="line number3526 index3525 alt1">3526</div><div class="line number3527 index3526 alt2">3527</div><div class="line number3528 index3527 alt1">3528</div><div class="line number3529 index3528 alt2">3529</div><div class="line number3530 index3529 alt1">3530</div><div class="line number3531 index3530 alt2">3531</div><div class="line number3532 index3531 alt1">3532</div><div class="line number3533 index3532 alt2">3533</div><div class="line number3534 index3533 alt1">3534</div><div class="line number3535 index3534 alt2">3535</div><div class="line number3536 index3535 alt1">3536</div><div class="line number3537 index3536 alt2">3537</div><div class="line number3538 index3537 alt1">3538</div><div class="line number3539 index3538 alt2">3539</div><div class="line number3540 index3539 alt1">3540</div><div class="line number3541 index3540 alt2">3541</div><div class="line number3542 index3541 alt1">3542</div><div class="line number3543 index3542 alt2">3543</div><div class="line number3544 index3543 alt1">3544</div><div class="line number3545 index3544 alt2">3545</div><div class="line number3546 index3545 alt1">3546</div><div class="line number3547 index3546 alt2">3547</div><div class="line number3548 index3547 alt1">3548</div><div class="line number3549 index3548 alt2">3549</div><div class="line number3550 index3549 alt1">3550</div><div class="line number3551 index3550 alt2">3551</div><div class="line number3552 index3551 alt1">3552</div><div class="line number3553 index3552 alt2">3553</div><div class="line number3554 index3553 alt1">3554</div><div class="line number3555 index3554 alt2">3555</div><div class="line number3556 index3555 alt1">3556</div><div class="line number3557 index3556 alt2">3557</div><div class="line number3558 index3557 alt1">3558</div><div class="line number3559 index3558 alt2">3559</div><div class="line number3560 index3559 alt1">3560</div><div class="line number3561 index3560 alt2">3561</div><div class="line number3562 index3561 alt1">3562</div><div class="line number3563 index3562 alt2">3563</div><div class="line number3564 index3563 alt1">3564</div><div class="line number3565 index3564 alt2">3565</div><div class="line number3566 index3565 alt1">3566</div><div class="line number3567 index3566 alt2">3567</div><div class="line number3568 index3567 alt1">3568</div><div class="line number3569 index3568 alt2">3569</div><div class="line number3570 index3569 alt1">3570</div><div class="line number3571 index3570 alt2">3571</div><div class="line number3572 index3571 alt1">3572</div><div class="line number3573 index3572 alt2">3573</div><div class="line number3574 index3573 alt1">3574</div><div class="line number3575 index3574 alt2">3575</div><div class="line number3576 index3575 alt1">3576</div><div class="line number3577 index3576 alt2">3577</div><div class="line number3578 index3577 alt1">3578</div><div class="line number3579 index3578 alt2">3579</div><div class="line number3580 index3579 alt1">3580</div><div class="line number3581 index3580 alt2">3581</div><div class="line number3582 index3581 alt1">3582</div><div class="line number3583 index3582 alt2">3583</div><div class="line number3584 index3583 alt1">3584</div><div class="line number3585 index3584 alt2">3585</div><div class="line number3586 index3585 alt1">3586</div><div class="line number3587 index3586 alt2">3587</div><div class="line number3588 index3587 alt1">3588</div><div class="line number3589 index3588 alt2">3589</div><div class="line number3590 index3589 alt1">3590</div><div class="line number3591 index3590 alt2">3591</div><div class="line number3592 index3591 alt1">3592</div><div class="line number3593 index3592 alt2">3593</div><div class="line number3594 index3593 alt1">3594</div><div class="line number3595 index3594 alt2">3595</div><div class="line number3596 index3595 alt1">3596</div><div class="line number3597 index3596 alt2">3597</div><div class="line number3598 index3597 alt1">3598</div><div class="line number3599 index3598 alt2">3599</div><div class="line number3600 index3599 alt1">3600</div><div class="line number3601 index3600 alt2">3601</div><div class="line number3602 index3601 alt1">3602</div><div class="line number3603 index3602 alt2">3603</div><div class="line number3604 index3603 alt1">3604</div><div class="line number3605 index3604 alt2">3605</div><div class="line number3606 index3605 alt1">3606</div><div class="line number3607 index3606 alt2">3607</div><div class="line number3608 index3607 alt1">3608</div><div class="line number3609 index3608 alt2">3609</div><div class="line number3610 index3609 alt1">3610</div><div class="line number3611 index3610 alt2">3611</div><div class="line number3612 index3611 alt1">3612</div><div class="line number3613 index3612 alt2">3613</div><div class="line number3614 index3613 alt1">3614</div><div class="line number3615 index3614 alt2">3615</div><div class="line number3616 index3615 alt1">3616</div><div class="line number3617 index3616 alt2">3617</div><div class="line number3618 index3617 alt1">3618</div><div class="line number3619 index3618 alt2">3619</div><div class="line number3620 index3619 alt1">3620</div><div class="line number3621 index3620 alt2">3621</div><div class="line number3622 index3621 alt1">3622</div><div class="line number3623 index3622 alt2">3623</div><div class="line number3624 index3623 alt1">3624</div><div class="line number3625 index3624 alt2">3625</div><div class="line number3626 index3625 alt1">3626</div><div class="line number3627 index3626 alt2">3627</div><div class="line number3628 index3627 alt1">3628</div><div class="line number3629 index3628 alt2">3629</div><div class="line number3630 index3629 alt1">3630</div><div class="line number3631 index3630 alt2">3631</div><div class="line number3632 index3631 alt1">3632</div><div class="line number3633 index3632 alt2">3633</div><div class="line number3634 index3633 alt1">3634</div><div class="line number3635 index3634 alt2">3635</div><div class="line number3636 index3635 alt1">3636</div><div class="line number3637 index3636 alt2">3637</div><div class="line number3638 index3637 alt1">3638</div><div class="line number3639 index3638 alt2">3639</div><div class="line number3640 index3639 alt1">3640</div><div class="line number3641 index3640 alt2">3641</div><div class="line number3642 index3641 alt1">3642</div><div class="line number3643 index3642 alt2">3643</div><div class="line number3644 index3643 alt1">3644</div><div class="line number3645 index3644 alt2">3645</div><div class="line number3646 index3645 alt1">3646</div><div class="line number3647 index3646 alt2">3647</div><div class="line number3648 index3647 alt1">3648</div><div class="line number3649 index3648 alt2">3649</div><div class="line number3650 index3649 alt1">3650</div><div class="line number3651 index3650 alt2">3651</div><div class="line number3652 index3651 alt1">3652</div><div class="line number3653 index3652 alt2">3653</div><div class="line number3654 index3653 alt1">3654</div><div class="line number3655 index3654 alt2">3655</div><div class="line number3656 index3655 alt1">3656</div><div class="line number3657 index3656 alt2">3657</div><div class="line number3658 index3657 alt1">3658</div><div class="line number3659 index3658 alt2">3659</div><div class="line number3660 index3659 alt1">3660</div><div class="line number3661 index3660 alt2">3661</div><div class="line number3662 index3661 alt1">3662</div><div class="line number3663 index3662 alt2">3663</div><div class="line number3664 index3663 alt1">3664</div><div class="line number3665 index3664 alt2">3665</div><div class="line number3666 index3665 alt1">3666</div><div class="line number3667 index3666 alt2">3667</div><div class="line number3668 index3667 alt1">3668</div><div class="line number3669 index3668 alt2">3669</div><div class="line number3670 index3669 alt1">3670</div><div class="line number3671 index3670 alt2">3671</div><div class="line number3672 index3671 alt1">3672</div><div class="line number3673 index3672 alt2">3673</div><div class="line number3674 index3673 alt1">3674</div><div class="line number3675 index3674 alt2">3675</div><div class="line number3676 index3675 alt1">3676</div><div class="line number3677 index3676 alt2">3677</div><div class="line number3678 index3677 alt1">3678</div><div class="line number3679 index3678 alt2">3679</div><div class="line number3680 index3679 alt1">3680</div><div class="line number3681 index3680 alt2">3681</div><div class="line number3682 index3681 alt1">3682</div><div class="line number3683 index3682 alt2">3683</div><div class="line number3684 index3683 alt1">3684</div><div class="line number3685 index3684 alt2">3685</div><div class="line number3686 index3685 alt1">3686</div><div class="line number3687 index3686 alt2">3687</div><div class="line number3688 index3687 alt1">3688</div><div class="line number3689 index3688 alt2">3689</div><div class="line number3690 index3689 alt1">3690</div><div class="line number3691 index3690 alt2">3691</div><div class="line number3692 index3691 alt1">3692</div><div class="line number3693 index3692 alt2">3693</div><div class="line number3694 index3693 alt1">3694</div><div class="line number3695 index3694 alt2">3695</div><div class="line number3696 index3695 alt1">3696</div><div class="line number3697 index3696 alt2">3697</div><div class="line number3698 index3697 alt1">3698</div><div class="line number3699 index3698 alt2">3699</div><div class="line number3700 index3699 alt1">3700</div><div class="line number3701 index3700 alt2">3701</div><div class="line number3702 index3701 alt1">3702</div><div class="line number3703 index3702 alt2">3703</div><div class="line number3704 index3703 alt1">3704</div><div class="line number3705 index3704 alt2">3705</div><div class="line number3706 index3705 alt1">3706</div><div class="line number3707 index3706 alt2">3707</div><div class="line number3708 index3707 alt1">3708</div><div class="line number3709 index3708 alt2">3709</div><div class="line number3710 index3709 alt1">3710</div><div class="line number3711 index3710 alt2">3711</div><div class="line number3712 index3711 alt1">3712</div><div class="line number3713 index3712 alt2">3713</div><div class="line number3714 index3713 alt1">3714</div><div class="line number3715 index3714 alt2">3715</div><div class="line number3716 index3715 alt1">3716</div><div class="line number3717 index3716 alt2">3717</div><div class="line number3718 index3717 alt1">3718</div><div class="line number3719 index3718 alt2">3719</div><div class="line number3720 index3719 alt1">3720</div><div class="line number3721 index3720 alt2">3721</div><div class="line number3722 index3721 alt1">3722</div><div class="line number3723 index3722 alt2">3723</div><div class="line number3724 index3723 alt1">3724</div><div class="line number3725 index3724 alt2">3725</div><div class="line number3726 index3725 alt1">3726</div><div class="line number3727 index3726 alt2">3727</div><div class="line number3728 index3727 alt1">3728</div><div class="line number3729 index3728 alt2">3729</div><div class="line number3730 index3729 alt1">3730</div><div class="line number3731 index3730 alt2">3731</div><div class="line number3732 index3731 alt1">3732</div><div class="line number3733 index3732 alt2">3733</div><div class="line number3734 index3733 alt1">3734</div><div class="line number3735 index3734 alt2">3735</div><div class="line number3736 index3735 alt1">3736</div><div class="line number3737 index3736 alt2">3737</div><div class="line number3738 index3737 alt1">3738</div><div class="line number3739 index3738 alt2">3739</div><div class="line number3740 index3739 alt1">3740</div><div class="line number3741 index3740 alt2">3741</div><div class="line number3742 index3741 alt1">3742</div><div class="line number3743 index3742 alt2">3743</div><div class="line number3744 index3743 alt1">3744</div><div class="line number3745 index3744 alt2">3745</div><div class="line number3746 index3745 alt1">3746</div><div class="line number3747 index3746 alt2">3747</div><div class="line number3748 index3747 alt1">3748</div><div class="line number3749 index3748 alt2">3749</div><div class="line number3750 index3749 alt1">3750</div><div class="line number3751 index3750 alt2">3751</div><div class="line number3752 index3751 alt1">3752</div><div class="line number3753 index3752 alt2">3753</div><div class="line number3754 index3753 alt1">3754</div><div class="line number3755 index3754 alt2">3755</div><div class="line number3756 index3755 alt1">3756</div><div class="line number3757 index3756 alt2">3757</div><div class="line number3758 index3757 alt1">3758</div><div class="line number3759 index3758 alt2">3759</div><div class="line number3760 index3759 alt1">3760</div><div class="line number3761 index3760 alt2">3761</div><div class="line number3762 index3761 alt1">3762</div><div class="line number3763 index3762 alt2">3763</div><div class="line number3764 index3763 alt1">3764</div><div class="line number3765 index3764 alt2">3765</div><div class="line number3766 index3765 alt1">3766</div><div class="line number3767 index3766 alt2">3767</div><div class="line number3768 index3767 alt1">3768</div><div class="line number3769 index3768 alt2">3769</div><div class="line number3770 index3769 alt1">3770</div><div class="line number3771 index3770 alt2">3771</div><div class="line number3772 index3771 alt1">3772</div><div class="line number3773 index3772 alt2">3773</div><div class="line number3774 index3773 alt1">3774</div><div class="line number3775 index3774 alt2">3775</div><div class="line number3776 index3775 alt1">3776</div><div class="line number3777 index3776 alt2">3777</div><div class="line number3778 index3777 alt1">3778</div><div class="line number3779 index3778 alt2">3779</div><div class="line number3780 index3779 alt1">3780</div><div class="line number3781 index3780 alt2">3781</div><div class="line number3782 index3781 alt1">3782</div><div class="line number3783 index3782 alt2">3783</div><div class="line number3784 index3783 alt1">3784</div><div class="line number3785 index3784 alt2">3785</div><div class="line number3786 index3785 alt1">3786</div><div class="line number3787 index3786 alt2">3787</div><div class="line number3788 index3787 alt1">3788</div><div class="line number3789 index3788 alt2">3789</div><div class="line number3790 index3789 alt1">3790</div><div class="line number3791 index3790 alt2">3791</div><div class="line number3792 index3791 alt1">3792</div><div class="line number3793 index3792 alt2">3793</div><div class="line number3794 index3793 alt1">3794</div><div class="line number3795 index3794 alt2">3795</div><div class="line number3796 index3795 alt1">3796</div><div class="line number3797 index3796 alt2">3797</div><div class="line number3798 index3797 alt1">3798</div><div class="line number3799 index3798 alt2">3799</div><div class="line number3800 index3799 alt1">3800</div><div class="line number3801 index3800 alt2">3801</div><div class="line number3802 index3801 alt1">3802</div><div class="line number3803 index3802 alt2">3803</div><div class="line number3804 index3803 alt1">3804</div><div class="line number3805 index3804 alt2">3805</div><div class="line number3806 index3805 alt1">3806</div><div class="line number3807 index3806 alt2">3807</div><div class="line number3808 index3807 alt1">3808</div><div class="line number3809 index3808 alt2">3809</div><div class="line number3810 index3809 alt1">3810</div><div class="line number3811 index3810 alt2">3811</div><div class="line number3812 index3811 alt1">3812</div><div class="line number3813 index3812 alt2">3813</div><div class="line number3814 index3813 alt1">3814</div><div class="line number3815 index3814 alt2">3815</div><div class="line number3816 index3815 alt1">3816</div><div class="line number3817 index3816 alt2">3817</div><div class="line number3818 index3817 alt1">3818</div><div class="line number3819 index3818 alt2">3819</div><div class="line number3820 index3819 alt1">3820</div><div class="line number3821 index3820 alt2">3821</div><div class="line number3822 index3821 alt1">3822</div><div class="line number3823 index3822 alt2">3823</div><div class="line number3824 index3823 alt1">3824</div><div class="line number3825 index3824 alt2">3825</div><div class="line number3826 index3825 alt1">3826</div><div class="line number3827 index3826 alt2">3827</div><div class="line number3828 index3827 alt1">3828</div><div class="line number3829 index3828 alt2">3829</div><div class="line number3830 index3829 alt1">3830</div><div class="line number3831 index3830 alt2">3831</div><div class="line number3832 index3831 alt1">3832</div><div class="line number3833 index3832 alt2">3833</div><div class="line number3834 index3833 alt1">3834</div><div class="line number3835 index3834 alt2">3835</div><div class="line number3836 index3835 alt1">3836</div><div class="line number3837 index3836 alt2">3837</div><div class="line number3838 index3837 alt1">3838</div><div class="line number3839 index3838 alt2">3839</div><div class="line number3840 index3839 alt1">3840</div><div class="line number3841 index3840 alt2">3841</div><div class="line number3842 index3841 alt1">3842</div><div class="line number3843 index3842 alt2">3843</div><div class="line number3844 index3843 alt1">3844</div><div class="line number3845 index3844 alt2">3845</div><div class="line number3846 index3845 alt1">3846</div><div class="line number3847 index3846 alt2">3847</div><div class="line number3848 index3847 alt1">3848</div><div class="line number3849 index3848 alt2">3849</div><div class="line number3850 index3849 alt1">3850</div><div class="line number3851 index3850 alt2">3851</div><div class="line number3852 index3851 alt1">3852</div><div class="line number3853 index3852 alt2">3853</div><div class="line number3854 index3853 alt1">3854</div><div class="line number3855 index3854 alt2">3855</div><div class="line number3856 index3855 alt1">3856</div><div class="line number3857 index3856 alt2">3857</div><div class="line number3858 index3857 alt1">3858</div><div class="line number3859 index3858 alt2">3859</div><div class="line number3860 index3859 alt1">3860</div><div class="line number3861 index3860 alt2">3861</div><div class="line number3862 index3861 alt1">3862</div><div class="line number3863 index3862 alt2">3863</div><div class="line number3864 index3863 alt1">3864</div><div class="line number3865 index3864 alt2">3865</div><div class="line number3866 index3865 alt1">3866</div><div class="line number3867 index3866 alt2">3867</div><div class="line number3868 index3867 alt1">3868</div><div class="line number3869 index3868 alt2">3869</div><div class="line number3870 index3869 alt1">3870</div><div class="line number3871 index3870 alt2">3871</div><div class="line number3872 index3871 alt1">3872</div><div class="line number3873 index3872 alt2">3873</div><div class="line number3874 index3873 alt1">3874</div><div class="line number3875 index3874 alt2">3875</div><div class="line number3876 index3875 alt1">3876</div><div class="line number3877 index3876 alt2">3877</div><div class="line number3878 index3877 alt1">3878</div><div class="line number3879 index3878 alt2">3879</div><div class="line number3880 index3879 alt1">3880</div><div class="line number3881 index3880 alt2">3881</div><div class="line number3882 index3881 alt1">3882</div><div class="line number3883 index3882 alt2">3883</div><div class="line number3884 index3883 alt1">3884</div><div class="line number3885 index3884 alt2">3885</div><div class="line number3886 index3885 alt1">3886</div><div class="line number3887 index3886 alt2">3887</div><div class="line number3888 index3887 alt1">3888</div><div class="line number3889 index3888 alt2">3889</div><div class="line number3890 index3889 alt1">3890</div><div class="line number3891 index3890 alt2">3891</div><div class="line number3892 index3891 alt1">3892</div><div class="line number3893 index3892 alt2">3893</div><div class="line number3894 index3893 alt1">3894</div><div class="line number3895 index3894 alt2">3895</div><div class="line number3896 index3895 alt1">3896</div><div class="line number3897 index3896 alt2">3897</div><div class="line number3898 index3897 alt1">3898</div><div class="line number3899 index3898 alt2">3899</div><div class="line number3900 index3899 alt1">3900</div><div class="line number3901 index3900 alt2">3901</div><div class="line number3902 index3901 alt1">3902</div><div class="line number3903 index3902 alt2">3903</div><div class="line number3904 index3903 alt1">3904</div><div class="line number3905 index3904 alt2">3905</div><div class="line number3906 index3905 alt1">3906</div><div class="line number3907 index3906 alt2">3907</div><div class="line number3908 index3907 alt1">3908</div><div class="line number3909 index3908 alt2">3909</div><div class="line number3910 index3909 alt1">3910</div><div class="line number3911 index3910 alt2">3911</div><div class="line number3912 index3911 alt1">3912</div><div class="line number3913 index3912 alt2">3913</div><div class="line number3914 index3913 alt1">3914</div><div class="line number3915 index3914 alt2">3915</div><div class="line number3916 index3915 alt1">3916</div><div class="line number3917 index3916 alt2">3917</div><div class="line number3918 index3917 alt1">3918</div><div class="line number3919 index3918 alt2">3919</div><div class="line number3920 index3919 alt1">3920</div><div class="line number3921 index3920 alt2">3921</div><div class="line number3922 index3921 alt1">3922</div><div class="line number3923 index3922 alt2">3923</div><div class="line number3924 index3923 alt1">3924</div><div class="line number3925 index3924 alt2">3925</div><div class="line number3926 index3925 alt1">3926</div><div class="line number3927 index3926 alt2">3927</div><div class="line number3928 index3927 alt1">3928</div><div class="line number3929 index3928 alt2">3929</div><div class="line number3930 index3929 alt1">3930</div><div class="line number3931 index3930 alt2">3931</div><div class="line number3932 index3931 alt1">3932</div><div class="line number3933 index3932 alt2">3933</div><div class="line number3934 index3933 alt1">3934</div><div class="line number3935 index3934 alt2">3935</div><div class="line number3936 index3935 alt1">3936</div><div class="line number3937 index3936 alt2">3937</div><div class="line number3938 index3937 alt1">3938</div><div class="line number3939 index3938 alt2">3939</div><div class="line number3940 index3939 alt1">3940</div><div class="line number3941 index3940 alt2">3941</div><div class="line number3942 index3941 alt1">3942</div><div class="line number3943 index3942 alt2">3943</div><div class="line number3944 index3943 alt1">3944</div><div class="line number3945 index3944 alt2">3945</div><div class="line number3946 index3945 alt1">3946</div><div class="line number3947 index3946 alt2">3947</div><div class="line number3948 index3947 alt1">3948</div><div class="line number3949 index3948 alt2">3949</div><div class="line number3950 index3949 alt1">3950</div><div class="line number3951 index3950 alt2">3951</div><div class="line number3952 index3951 alt1">3952</div><div class="line number3953 index3952 alt2">3953</div><div class="line number3954 index3953 alt1">3954</div><div class="line number3955 index3954 alt2">3955</div><div class="line number3956 index3955 alt1">3956</div><div class="line number3957 index3956 alt2">3957</div><div class="line number3958 index3957 alt1">3958</div><div class="line number3959 index3958 alt2">3959</div><div class="line number3960 index3959 alt1">3960</div><div class="line number3961 index3960 alt2">3961</div><div class="line number3962 index3961 alt1">3962</div><div class="line number3963 index3962 alt2">3963</div><div class="line number3964 index3963 alt1">3964</div><div class="line number3965 index3964 alt2">3965</div><div class="line number3966 index3965 alt1">3966</div><div class="line number3967 index3966 alt2">3967</div><div class="line number3968 index3967 alt1">3968</div><div class="line number3969 index3968 alt2">3969</div><div class="line number3970 index3969 alt1">3970</div><div class="line number3971 index3970 alt2">3971</div><div class="line number3972 index3971 alt1">3972</div><div class="line number3973 index3972 alt2">3973</div><div class="line number3974 index3973 alt1">3974</div><div class="line number3975 index3974 alt2">3975</div><div class="line number3976 index3975 alt1">3976</div><div class="line number3977 index3976 alt2">3977</div><div class="line number3978 index3977 alt1">3978</div><div class="line number3979 index3978 alt2">3979</div><div class="line number3980 index3979 alt1">3980</div><div class="line number3981 index3980 alt2">3981</div><div class="line number3982 index3981 alt1">3982</div><div class="line number3983 index3982 alt2">3983</div><div class="line number3984 index3983 alt1">3984</div><div class="line number3985 index3984 alt2">3985</div><div class="line number3986 index3985 alt1">3986</div><div class="line number3987 index3986 alt2">3987</div><div class="line number3988 index3987 alt1">3988</div><div class="line number3989 index3988 alt2">3989</div><div class="line number3990 index3989 alt1">3990</div><div class="line number3991 index3990 alt2">3991</div><div class="line number3992 index3991 alt1">3992</div><div class="line number3993 index3992 alt2">3993</div><div class="line number3994 index3993 alt1">3994</div><div class="line number3995 index3994 alt2">3995</div><div class="line number3996 index3995 alt1">3996</div><div class="line number3997 index3996 alt2">3997</div><div class="line number3998 index3997 alt1">3998</div><div class="line number3999 index3998 alt2">3999</div><div class="line number4000 index3999 alt1">4000</div><div class="line number4001 index4000 alt2">4001</div><div class="line number4002 index4001 alt1">4002</div><div class="line number4003 index4002 alt2">4003</div><div class="line number4004 index4003 alt1">4004</div><div class="line number4005 index4004 alt2">4005</div><div class="line number4006 index4005 alt1">4006</div><div class="line number4007 index4006 alt2">4007</div><div class="line number4008 index4007 alt1">4008</div><div class="line number4009 index4008 alt2">4009</div><div class="line number4010 index4009 alt1">4010</div><div class="line number4011 index4010 alt2">4011</div><div class="line number4012 index4011 alt1">4012</div><div class="line number4013 index4012 alt2">4013</div><div class="line number4014 index4013 alt1">4014</div><div class="line number4015 index4014 alt2">4015</div><div class="line number4016 index4015 alt1">4016</div><div class="line number4017 index4016 alt2">4017</div><div class="line number4018 index4017 alt1">4018</div><div class="line number4019 index4018 alt2">4019</div><div class="line number4020 index4019 alt1">4020</div><div class="line number4021 index4020 alt2">4021</div><div class="line number4022 index4021 alt1">4022</div><div class="line number4023 index4022 alt2">4023</div><div class="line number4024 index4023 alt1">4024</div><div class="line number4025 index4024 alt2">4025</div><div class="line number4026 index4025 alt1">4026</div><div class="line number4027 index4026 alt2">4027</div><div class="line number4028 index4027 alt1">4028</div><div class="line number4029 index4028 alt2">4029</div><div class="line number4030 index4029 alt1">4030</div><div class="line number4031 index4030 alt2">4031</div><div class="line number4032 index4031 alt1">4032</div><div class="line number4033 index4032 alt2">4033</div><div class="line number4034 index4033 alt1">4034</div><div class="line number4035 index4034 alt2">4035</div><div class="line number4036 index4035 alt1">4036</div><div class="line number4037 index4036 alt2">4037</div><div class="line number4038 index4037 alt1">4038</div><div class="line number4039 index4038 alt2">4039</div><div class="line number4040 index4039 alt1">4040</div><div class="line number4041 index4040 alt2">4041</div><div class="line number4042 index4041 alt1">4042</div><div class="line number4043 index4042 alt2">4043</div><div class="line number4044 index4043 alt1">4044</div><div class="line number4045 index4044 alt2">4045</div><div class="line number4046 index4045 alt1">4046</div><div class="line number4047 index4046 alt2">4047</div><div class="line number4048 index4047 alt1">4048</div><div class="line number4049 index4048 alt2">4049</div><div class="line number4050 index4049 alt1">4050</div><div class="line number4051 index4050 alt2">4051</div><div class="line number4052 index4051 alt1">4052</div><div class="line number4053 index4052 alt2">4053</div><div class="line number4054 index4053 alt1">4054</div><div class="line number4055 index4054 alt2">4055</div><div class="line number4056 index4055 alt1">4056</div><div class="line number4057 index4056 alt2">4057</div><div class="line number4058 index4057 alt1">4058</div><div class="line number4059 index4058 alt2">4059</div><div class="line number4060 index4059 alt1">4060</div><div class="line number4061 index4060 alt2">4061</div><div class="line number4062 index4061 alt1">4062</div><div class="line number4063 index4062 alt2">4063</div><div class="line number4064 index4063 alt1">4064</div><div class="line number4065 index4064 alt2">4065</div><div class="line number4066 index4065 alt1">4066</div><div class="line number4067 index4066 alt2">4067</div><div class="line number4068 index4067 alt1">4068</div><div class="line number4069 index4068 alt2">4069</div><div class="line number4070 index4069 alt1">4070</div><div class="line number4071 index4070 alt2">4071</div><div class="line number4072 index4071 alt1">4072</div><div class="line number4073 index4072 alt2">4073</div><div class="line number4074 index4073 alt1">4074</div><div class="line number4075 index4074 alt2">4075</div><div class="line number4076 index4075 alt1">4076</div><div class="line number4077 index4076 alt2">4077</div><div class="line number4078 index4077 alt1">4078</div><div class="line number4079 index4078 alt2">4079</div><div class="line number4080 index4079 alt1">4080</div><div class="line number4081 index4080 alt2">4081</div><div class="line number4082 index4081 alt1">4082</div><div class="line number4083 index4082 alt2">4083</div><div class="line number4084 index4083 alt1">4084</div><div class="line number4085 index4084 alt2">4085</div><div class="line number4086 index4085 alt1">4086</div><div class="line number4087 index4086 alt2">4087</div><div class="line number4088 index4087 alt1">4088</div><div class="line number4089 index4088 alt2">4089</div><div class="line number4090 index4089 alt1">4090</div><div class="line number4091 index4090 alt2">4091</div><div class="line number4092 index4091 alt1">4092</div><div class="line number4093 index4092 alt2">4093</div><div class="line number4094 index4093 alt1">4094</div><div class="line number4095 index4094 alt2">4095</div><div class="line number4096 index4095 alt1">4096</div><div class="line number4097 index4096 alt2">4097</div><div class="line number4098 index4097 alt1">4098</div><div class="line number4099 index4098 alt2">4099</div><div class="line number4100 index4099 alt1">4100</div><div class="line number4101 index4100 alt2">4101</div><div class="line number4102 index4101 alt1">4102</div><div class="line number4103 index4102 alt2">4103</div><div class="line number4104 index4103 alt1">4104</div><div class="line number4105 index4104 alt2">4105</div><div class="line number4106 index4105 alt1">4106</div><div class="line number4107 index4106 alt2">4107</div><div class="line number4108 index4107 alt1">4108</div><div class="line number4109 index4108 alt2">4109</div><div class="line number4110 index4109 alt1">4110</div><div class="line number4111 index4110 alt2">4111</div><div class="line number4112 index4111 alt1">4112</div><div class="line number4113 index4112 alt2">4113</div><div class="line number4114 index4113 alt1">4114</div><div class="line number4115 index4114 alt2">4115</div><div class="line number4116 index4115 alt1">4116</div><div class="line number4117 index4116 alt2">4117</div><div class="line number4118 index4117 alt1">4118</div><div class="line number4119 index4118 alt2">4119</div><div class="line number4120 index4119 alt1">4120</div><div class="line number4121 index4120 alt2">4121</div><div class="line number4122 index4121 alt1">4122</div><div class="line number4123 index4122 alt2">4123</div><div class="line number4124 index4123 alt1">4124</div><div class="line number4125 index4124 alt2">4125</div><div class="line number4126 index4125 alt1">4126</div><div class="line number4127 index4126 alt2">4127</div><div class="line number4128 index4127 alt1">4128</div><div class="line number4129 index4128 alt2">4129</div><div class="line number4130 index4129 alt1">4130</div><div class="line number4131 index4130 alt2">4131</div><div class="line number4132 index4131 alt1">4132</div><div class="line number4133 index4132 alt2">4133</div><div class="line number4134 index4133 alt1">4134</div><div class="line number4135 index4134 alt2">4135</div><div class="line number4136 index4135 alt1">4136</div><div class="line number4137 index4136 alt2">4137</div><div class="line number4138 index4137 alt1">4138</div><div class="line number4139 index4138 alt2">4139</div><div class="line number4140 index4139 alt1">4140</div><div class="line number4141 index4140 alt2">4141</div><div class="line number4142 index4141 alt1">4142</div><div class="line number4143 index4142 alt2">4143</div><div class="line number4144 index4143 alt1">4144</div><div class="line number4145 index4144 alt2">4145</div><div class="line number4146 index4145 alt1">4146</div><div class="line number4147 index4146 alt2">4147</div><div class="line number4148 index4147 alt1">4148</div><div class="line number4149 index4148 alt2">4149</div><div class="line number4150 index4149 alt1">4150</div><div class="line number4151 index4150 alt2">4151</div><div class="line number4152 index4151 alt1">4152</div><div class="line number4153 index4152 alt2">4153</div><div class="line number4154 index4153 alt1">4154</div><div class="line number4155 index4154 alt2">4155</div><div class="line number4156 index4155 alt1">4156</div><div class="line number4157 index4156 alt2">4157</div><div class="line number4158 index4157 alt1">4158</div><div class="line number4159 index4158 alt2">4159</div><div class="line number4160 index4159 alt1">4160</div><div class="line number4161 index4160 alt2">4161</div><div class="line number4162 index4161 alt1">4162</div><div class="line number4163 index4162 alt2">4163</div><div class="line number4164 index4163 alt1">4164</div><div class="line number4165 index4164 alt2">4165</div><div class="line number4166 index4165 alt1">4166</div><div class="line number4167 index4166 alt2">4167</div><div class="line number4168 index4167 alt1">4168</div><div class="line number4169 index4168 alt2">4169</div><div class="line number4170 index4169 alt1">4170</div><div class="line number4171 index4170 alt2">4171</div><div class="line number4172 index4171 alt1">4172</div><div class="line number4173 index4172 alt2">4173</div><div class="line number4174 index4173 alt1">4174</div><div class="line number4175 index4174 alt2">4175</div><div class="line number4176 index4175 alt1">4176</div><div class="line number4177 index4176 alt2">4177</div><div class="line number4178 index4177 alt1">4178</div><div class="line number4179 index4178 alt2">4179</div><div class="line number4180 index4179 alt1">4180</div><div class="line number4181 index4180 alt2">4181</div><div class="line number4182 index4181 alt1">4182</div><div class="line number4183 index4182 alt2">4183</div><div class="line number4184 index4183 alt1">4184</div><div class="line number4185 index4184 alt2">4185</div><div class="line number4186 index4185 alt1">4186</div><div class="line number4187 index4186 alt2">4187</div><div class="line number4188 index4187 alt1">4188</div><div class="line number4189 index4188 alt2">4189</div><div class="line number4190 index4189 alt1">4190</div><div class="line number4191 index4190 alt2">4191</div><div class="line number4192 index4191 alt1">4192</div><div class="line number4193 index4192 alt2">4193</div><div class="line number4194 index4193 alt1">4194</div><div class="line number4195 index4194 alt2">4195</div><div class="line number4196 index4195 alt1">4196</div><div class="line number4197 index4196 alt2">4197</div><div class="line number4198 index4197 alt1">4198</div><div class="line number4199 index4198 alt2">4199</div><div class="line number4200 index4199 alt1">4200</div><div class="line number4201 index4200 alt2">4201</div><div class="line number4202 index4201 alt1">4202</div><div class="line number4203 index4202 alt2">4203</div><div class="line number4204 index4203 alt1">4204</div><div class="line number4205 index4204 alt2">4205</div><div class="line number4206 index4205 alt1">4206</div><div class="line number4207 index4206 alt2">4207</div><div class="line number4208 index4207 alt1">4208</div><div class="line number4209 index4208 alt2">4209</div><div class="line number4210 index4209 alt1">4210</div><div class="line number4211 index4210 alt2">4211</div><div class="line number4212 index4211 alt1">4212</div><div class="line number4213 index4212 alt2">4213</div><div class="line number4214 index4213 alt1">4214</div><div class="line number4215 index4214 alt2">4215</div><div class="line number4216 index4215 alt1">4216</div><div class="line number4217 index4216 alt2">4217</div><div class="line number4218 index4217 alt1">4218</div><div class="line number4219 index4218 alt2">4219</div><div class="line number4220 index4219 alt1">4220</div><div class="line number4221 index4220 alt2">4221</div><div class="line number4222 index4221 alt1">4222</div><div class="line number4223 index4222 alt2">4223</div><div class="line number4224 index4223 alt1">4224</div><div class="line number4225 index4224 alt2">4225</div><div class="line number4226 index4225 alt1">4226</div><div class="line number4227 index4226 alt2">4227</div><div class="line number4228 index4227 alt1">4228</div><div class="line number4229 index4228 alt2">4229</div><div class="line number4230 index4229 alt1">4230</div><div class="line number4231 index4230 alt2">4231</div><div class="line number4232 index4231 alt1">4232</div><div class="line number4233 index4232 alt2">4233</div><div class="line number4234 index4233 alt1">4234</div><div class="line number4235 index4234 alt2">4235</div><div class="line number4236 index4235 alt1">4236</div><div class="line number4237 index4236 alt2">4237</div><div class="line number4238 index4237 alt1">4238</div><div class="line number4239 index4238 alt2">4239</div><div class="line number4240 index4239 alt1">4240</div><div class="line number4241 index4240 alt2">4241</div><div class="line number4242 index4241 alt1">4242</div><div class="line number4243 index4242 alt2">4243</div><div class="line number4244 index4243 alt1">4244</div><div class="line number4245 index4244 alt2">4245</div><div class="line number4246 index4245 alt1">4246</div><div class="line number4247 index4246 alt2">4247</div><div class="line number4248 index4247 alt1">4248</div><div class="line number4249 index4248 alt2">4249</div><div class="line number4250 index4249 alt1">4250</div><div class="line number4251 index4250 alt2">4251</div><div class="line number4252 index4251 alt1">4252</div><div class="line number4253 index4252 alt2">4253</div><div class="line number4254 index4253 alt1">4254</div><div class="line number4255 index4254 alt2">4255</div><div class="line number4256 index4255 alt1">4256</div><div class="line number4257 index4256 alt2">4257</div><div class="line number4258 index4257 alt1">4258</div><div class="line number4259 index4258 alt2">4259</div><div class="line number4260 index4259 alt1">4260</div><div class="line number4261 index4260 alt2">4261</div><div class="line number4262 index4261 alt1">4262</div><div class="line number4263 index4262 alt2">4263</div><div class="line number4264 index4263 alt1">4264</div><div class="line number4265 index4264 alt2">4265</div><div class="line number4266 index4265 alt1">4266</div><div class="line number4267 index4266 alt2">4267</div><div class="line number4268 index4267 alt1">4268</div><div class="line number4269 index4268 alt2">4269</div><div class="line number4270 index4269 alt1">4270</div><div class="line number4271 index4270 alt2">4271</div><div class="line number4272 index4271 alt1">4272</div><div class="line number4273 index4272 alt2">4273</div><div class="line number4274 index4273 alt1">4274</div><div class="line number4275 index4274 alt2">4275</div><div class="line number4276 index4275 alt1">4276</div><div class="line number4277 index4276 alt2">4277</div><div class="line number4278 index4277 alt1">4278</div><div class="line number4279 index4278 alt2">4279</div><div class="line number4280 index4279 alt1">4280</div><div class="line number4281 index4280 alt2">4281</div><div class="line number4282 index4281 alt1">4282</div><div class="line number4283 index4282 alt2">4283</div><div class="line number4284 index4283 alt1">4284</div><div class="line number4285 index4284 alt2">4285</div><div class="line number4286 index4285 alt1">4286</div><div class="line number4287 index4286 alt2">4287</div><div class="line number4288 index4287 alt1">4288</div><div class="line number4289 index4288 alt2">4289</div><div class="line number4290 index4289 alt1">4290</div><div class="line number4291 index4290 alt2">4291</div><div class="line number4292 index4291 alt1">4292</div><div class="line number4293 index4292 alt2">4293</div><div class="line number4294 index4293 alt1">4294</div><div class="line number4295 index4294 alt2">4295</div><div class="line number4296 index4295 alt1">4296</div><div class="line number4297 index4296 alt2">4297</div><div class="line number4298 index4297 alt1">4298</div><div class="line number4299 index4298 alt2">4299</div><div class="line number4300 index4299 alt1">4300</div><div class="line number4301 index4300 alt2">4301</div><div class="line number4302 index4301 alt1">4302</div><div class="line number4303 index4302 alt2">4303</div><div class="line number4304 index4303 alt1">4304</div><div class="line number4305 index4304 alt2">4305</div><div class="line number4306 index4305 alt1">4306</div><div class="line number4307 index4306 alt2">4307</div><div class="line number4308 index4307 alt1">4308</div><div class="line number4309 index4308 alt2">4309</div><div class="line number4310 index4309 alt1">4310</div><div class="line number4311 index4310 alt2">4311</div><div class="line number4312 index4311 alt1">4312</div><div class="line number4313 index4312 alt2">4313</div><div class="line number4314 index4313 alt1">4314</div><div class="line number4315 index4314 alt2">4315</div><div class="line number4316 index4315 alt1">4316</div><div class="line number4317 index4316 alt2">4317</div><div class="line number4318 index4317 alt1">4318</div><div class="line number4319 index4318 alt2">4319</div><div class="line number4320 index4319 alt1">4320</div><div class="line number4321 index4320 alt2">4321</div><div class="line number4322 index4321 alt1">4322</div><div class="line number4323 index4322 alt2">4323</div><div class="line number4324 index4323 alt1">4324</div><div class="line number4325 index4324 alt2">4325</div><div class="line number4326 index4325 alt1">4326</div><div class="line number4327 index4326 alt2">4327</div><div class="line number4328 index4327 alt1">4328</div><div class="line number4329 index4328 alt2">4329</div><div class="line number4330 index4329 alt1">4330</div><div class="line number4331 index4330 alt2">4331</div><div class="line number4332 index4331 alt1">4332</div><div class="line number4333 index4332 alt2">4333</div><div class="line number4334 index4333 alt1">4334</div><div class="line number4335 index4334 alt2">4335</div><div class="line number4336 index4335 alt1">4336</div><div class="line number4337 index4336 alt2">4337</div><div class="line number4338 index4337 alt1">4338</div><div class="line number4339 index4338 alt2">4339</div><div class="line number4340 index4339 alt1">4340</div><div class="line number4341 index4340 alt2">4341</div><div class="line number4342 index4341 alt1">4342</div><div class="line number4343 index4342 alt2">4343</div><div class="line number4344 index4343 alt1">4344</div><div class="line number4345 index4344 alt2">4345</div><div class="line number4346 index4345 alt1">4346</div><div class="line number4347 index4346 alt2">4347</div><div class="line number4348 index4347 alt1">4348</div><div class="line number4349 index4348 alt2">4349</div><div class="line number4350 index4349 alt1">4350</div><div class="line number4351 index4350 alt2">4351</div><div class="line number4352 index4351 alt1">4352</div><div class="line number4353 index4352 alt2">4353</div><div class="line number4354 index4353 alt1">4354</div><div class="line number4355 index4354 alt2">4355</div><div class="line number4356 index4355 alt1">4356</div><div class="line number4357 index4356 alt2">4357</div><div class="line number4358 index4357 alt1">4358</div><div class="line number4359 index4358 alt2">4359</div><div class="line number4360 index4359 alt1">4360</div><div class="line number4361 index4360 alt2">4361</div><div class="line number4362 index4361 alt1">4362</div><div class="line number4363 index4362 alt2">4363</div><div class="line number4364 index4363 alt1">4364</div><div class="line number4365 index4364 alt2">4365</div><div class="line number4366 index4365 alt1">4366</div><div class="line number4367 index4366 alt2">4367</div><div class="line number4368 index4367 alt1">4368</div><div class="line number4369 index4368 alt2">4369</div><div class="line number4370 index4369 alt1">4370</div><div class="line number4371 index4370 alt2">4371</div><div class="line number4372 index4371 alt1">4372</div><div class="line number4373 index4372 alt2">4373</div><div class="line number4374 index4373 alt1">4374</div><div class="line number4375 index4374 alt2">4375</div><div class="line number4376 index4375 alt1">4376</div><div class="line number4377 index4376 alt2">4377</div><div class="line number4378 index4377 alt1">4378</div><div class="line number4379 index4378 alt2">4379</div><div class="line number4380 index4379 alt1">4380</div><div class="line number4381 index4380 alt2">4381</div><div class="line number4382 index4381 alt1">4382</div><div class="line number4383 index4382 alt2">4383</div><div class="line number4384 index4383 alt1">4384</div><div class="line number4385 index4384 alt2">4385</div><div class="line number4386 index4385 alt1">4386</div><div class="line number4387 index4386 alt2">4387</div><div class="line number4388 index4387 alt1">4388</div><div class="line number4389 index4388 alt2">4389</div><div class="line number4390 index4389 alt1">4390</div><div class="line number4391 index4390 alt2">4391</div><div class="line number4392 index4391 alt1">4392</div><div class="line number4393 index4392 alt2">4393</div><div class="line number4394 index4393 alt1">4394</div><div class="line number4395 index4394 alt2">4395</div><div class="line number4396 index4395 alt1">4396</div><div class="line number4397 index4396 alt2">4397</div><div class="line number4398 index4397 alt1">4398</div><div class="line number4399 index4398 alt2">4399</div><div class="line number4400 index4399 alt1">4400</div><div class="line number4401 index4400 alt2">4401</div><div class="line number4402 index4401 alt1">4402</div><div class="line number4403 index4402 alt2">4403</div><div class="line number4404 index4403 alt1">4404</div><div class="line number4405 index4404 alt2">4405</div><div class="line number4406 index4405 alt1">4406</div><div class="line number4407 index4406 alt2">4407</div><div class="line number4408 index4407 alt1">4408</div><div class="line number4409 index4408 alt2">4409</div><div class="line number4410 index4409 alt1">4410</div><div class="line number4411 index4410 alt2">4411</div><div class="line number4412 index4411 alt1">4412</div><div class="line number4413 index4412 alt2">4413</div><div class="line number4414 index4413 alt1">4414</div><div class="line number4415 index4414 alt2">4415</div><div class="line number4416 index4415 alt1">4416</div><div class="line number4417 index4416 alt2">4417</div><div class="line number4418 index4417 alt1">4418</div><div class="line number4419 index4418 alt2">4419</div><div class="line number4420 index4419 alt1">4420</div><div class="line number4421 index4420 alt2">4421</div><div class="line number4422 index4421 alt1">4422</div><div class="line number4423 index4422 alt2">4423</div><div class="line number4424 index4423 alt1">4424</div><div class="line number4425 index4424 alt2">4425</div><div class="line number4426 index4425 alt1">4426</div><div class="line number4427 index4426 alt2">4427</div><div class="line number4428 index4427 alt1">4428</div><div class="line number4429 index4428 alt2">4429</div><div class="line number4430 index4429 alt1">4430</div><div class="line number4431 index4430 alt2">4431</div><div class="line number4432 index4431 alt1">4432</div><div class="line number4433 index4432 alt2">4433</div><div class="line number4434 index4433 alt1">4434</div><div class="line number4435 index4434 alt2">4435</div><div class="line number4436 index4435 alt1">4436</div><div class="line number4437 index4436 alt2">4437</div><div class="line number4438 index4437 alt1">4438</div><div class="line number4439 index4438 alt2">4439</div><div class="line number4440 index4439 alt1">4440</div><div class="line number4441 index4440 alt2">4441</div><div class="line number4442 index4441 alt1">4442</div><div class="line number4443 index4442 alt2">4443</div><div class="line number4444 index4443 alt1">4444</div><div class="line number4445 index4444 alt2">4445</div><div class="line number4446 index4445 alt1">4446</div><div class="line number4447 index4446 alt2">4447</div><div class="line number4448 index4447 alt1">4448</div><div class="line number4449 index4448 alt2">4449</div><div class="line number4450 index4449 alt1">4450</div><div class="line number4451 index4450 alt2">4451</div><div class="line number4452 index4451 alt1">4452</div><div class="line number4453 index4452 alt2">4453</div><div class="line number4454 index4453 alt1">4454</div><div class="line number4455 index4454 alt2">4455</div><div class="line number4456 index4455 alt1">4456</div><div class="line number4457 index4456 alt2">4457</div><div class="line number4458 index4457 alt1">4458</div><div class="line number4459 index4458 alt2">4459</div><div class="line number4460 index4459 alt1">4460</div><div class="line number4461 index4460 alt2">4461</div><div class="line number4462 index4461 alt1">4462</div><div class="line number4463 index4462 alt2">4463</div><div class="line number4464 index4463 alt1">4464</div><div class="line number4465 index4464 alt2">4465</div><div class="line number4466 index4465 alt1">4466</div><div class="line number4467 index4466 alt2">4467</div><div class="line number4468 index4467 alt1">4468</div><div class="line number4469 index4468 alt2">4469</div><div class="line number4470 index4469 alt1">4470</div><div class="line number4471 index4470 alt2">4471</div><div class="line number4472 index4471 alt1">4472</div><div class="line number4473 index4472 alt2">4473</div><div class="line number4474 index4473 alt1">4474</div><div class="line number4475 index4474 alt2">4475</div><div class="line number4476 index4475 alt1">4476</div><div class="line number4477 index4476 alt2">4477</div><div class="line number4478 index4477 alt1">4478</div><div class="line number4479 index4478 alt2">4479</div><div class="line number4480 index4479 alt1">4480</div><div class="line number4481 index4480 alt2">4481</div><div class="line number4482 index4481 alt1">4482</div><div class="line number4483 index4482 alt2">4483</div><div class="line number4484 index4483 alt1">4484</div><div class="line number4485 index4484 alt2">4485</div><div class="line number4486 index4485 alt1">4486</div><div class="line number4487 index4486 alt2">4487</div><div class="line number4488 index4487 alt1">4488</div><div class="line number4489 index4488 alt2">4489</div><div class="line number4490 index4489 alt1">4490</div><div class="line number4491 index4490 alt2">4491</div><div class="line number4492 index4491 alt1">4492</div><div class="line number4493 index4492 alt2">4493</div><div class="line number4494 index4493 alt1">4494</div><div class="line number4495 index4494 alt2">4495</div><div class="line number4496 index4495 alt1">4496</div><div class="line number4497 index4496 alt2">4497</div><div class="line number4498 index4497 alt1">4498</div><div class="line number4499 index4498 alt2">4499</div><div class="line number4500 index4499 alt1">4500</div><div class="line number4501 index4500 alt2">4501</div><div class="line number4502 index4501 alt1">4502</div><div class="line number4503 index4502 alt2">4503</div><div class="line number4504 index4503 alt1">4504</div><div class="line number4505 index4504 alt2">4505</div><div class="line number4506 index4505 alt1">4506</div><div class="line number4507 index4506 alt2">4507</div><div class="line number4508 index4507 alt1">4508</div><div class="line number4509 index4508 alt2">4509</div><div class="line number4510 index4509 alt1">4510</div><div class="line number4511 index4510 alt2">4511</div><div class="line number4512 index4511 alt1">4512</div><div class="line number4513 index4512 alt2">4513</div><div class="line number4514 index4513 alt1">4514</div><div class="line number4515 index4514 alt2">4515</div><div class="line number4516 index4515 alt1">4516</div><div class="line number4517 index4516 alt2">4517</div><div class="line number4518 index4517 alt1">4518</div><div class="line number4519 index4518 alt2">4519</div><div class="line number4520 index4519 alt1">4520</div><div class="line number4521 index4520 alt2">4521</div><div class="line number4522 index4521 alt1">4522</div><div class="line number4523 index4522 alt2">4523</div><div class="line number4524 index4523 alt1">4524</div><div class="line number4525 index4524 alt2">4525</div><div class="line number4526 index4525 alt1">4526</div><div class="line number4527 index4526 alt2">4527</div><div class="line number4528 index4527 alt1">4528</div><div class="line number4529 index4528 alt2">4529</div><div class="line number4530 index4529 alt1">4530</div><div class="line number4531 index4530 alt2">4531</div><div class="line number4532 index4531 alt1">4532</div><div class="line number4533 index4532 alt2">4533</div><div class="line number4534 index4533 alt1">4534</div><div class="line number4535 index4534 alt2">4535</div><div class="line number4536 index4535 alt1">4536</div><div class="line number4537 index4536 alt2">4537</div><div class="line number4538 index4537 alt1">4538</div><div class="line number4539 index4538 alt2">4539</div><div class="line number4540 index4539 alt1">4540</div><div class="line number4541 index4540 alt2">4541</div><div class="line number4542 index4541 alt1">4542</div><div class="line number4543 index4542 alt2">4543</div><div class="line number4544 index4543 alt1">4544</div><div class="line number4545 index4544 alt2">4545</div><div class="line number4546 index4545 alt1">4546</div><div class="line number4547 index4546 alt2">4547</div><div class="line number4548 index4547 alt1">4548</div><div class="line number4549 index4548 alt2">4549</div><div class="line number4550 index4549 alt1">4550</div><div class="line number4551 index4550 alt2">4551</div><div class="line number4552 index4551 alt1">4552</div><div class="line number4553 index4552 alt2">4553</div><div class="line number4554 index4553 alt1">4554</div><div class="line number4555 index4554 alt2">4555</div><div class="line number4556 index4555 alt1">4556</div><div class="line number4557 index4556 alt2">4557</div><div class="line number4558 index4557 alt1">4558</div><div class="line number4559 index4558 alt2">4559</div><div class="line number4560 index4559 alt1">4560</div><div class="line number4561 index4560 alt2">4561</div><div class="line number4562 index4561 alt1">4562</div><div class="line number4563 index4562 alt2">4563</div><div class="line number4564 index4563 alt1">4564</div><div class="line number4565 index4564 alt2">4565</div><div class="line number4566 index4565 alt1">4566</div><div class="line number4567 index4566 alt2">4567</div><div class="line number4568 index4567 alt1">4568</div><div class="line number4569 index4568 alt2">4569</div><div class="line number4570 index4569 alt1">4570</div><div class="line number4571 index4570 alt2">4571</div><div class="line number4572 index4571 alt1">4572</div><div class="line number4573 index4572 alt2">4573</div><div class="line number4574 index4573 alt1">4574</div><div class="line number4575 index4574 alt2">4575</div><div class="line number4576 index4575 alt1">4576</div><div class="line number4577 index4576 alt2">4577</div><div class="line number4578 index4577 alt1">4578</div><div class="line number4579 index4578 alt2">4579</div><div class="line number4580 index4579 alt1">4580</div><div class="line number4581 index4580 alt2">4581</div><div class="line number4582 index4581 alt1">4582</div><div class="line number4583 index4582 alt2">4583</div><div class="line number4584 index4583 alt1">4584</div><div class="line number4585 index4584 alt2">4585</div><div class="line number4586 index4585 alt1">4586</div><div class="line number4587 index4586 alt2">4587</div><div class="line number4588 index4587 alt1">4588</div><div class="line number4589 index4588 alt2">4589</div><div class="line number4590 index4589 alt1">4590</div><div class="line number4591 index4590 alt2">4591</div><div class="line number4592 index4591 alt1">4592</div><div class="line number4593 index4592 alt2">4593</div><div class="line number4594 index4593 alt1">4594</div><div class="line number4595 index4594 alt2">4595</div><div class="line number4596 index4595 alt1">4596</div><div class="line number4597 index4596 alt2">4597</div><div class="line number4598 index4597 alt1">4598</div><div class="line number4599 index4598 alt2">4599</div><div class="line number4600 index4599 alt1">4600</div><div class="line number4601 index4600 alt2">4601</div><div class="line number4602 index4601 alt1">4602</div><div class="line number4603 index4602 alt2">4603</div><div class="line number4604 index4603 alt1">4604</div><div class="line number4605 index4604 alt2">4605</div><div class="line number4606 index4605 alt1">4606</div><div class="line number4607 index4606 alt2">4607</div><div class="line number4608 index4607 alt1">4608</div><div class="line number4609 index4608 alt2">4609</div><div class="line number4610 index4609 alt1">4610</div><div class="line number4611 index4610 alt2">4611</div><div class="line number4612 index4611 alt1">4612</div><div class="line number4613 index4612 alt2">4613</div><div class="line number4614 index4613 alt1">4614</div><div class="line number4615 index4614 alt2">4615</div><div class="line number4616 index4615 alt1">4616</div><div class="line number4617 index4616 alt2">4617</div><div class="line number4618 index4617 alt1">4618</div><div class="line number4619 index4618 alt2">4619</div><div class="line number4620 index4619 alt1">4620</div><div class="line number4621 index4620 alt2">4621</div><div class="line number4622 index4621 alt1">4622</div><div class="line number4623 index4622 alt2">4623</div><div class="line number4624 index4623 alt1">4624</div><div class="line number4625 index4624 alt2">4625</div><div class="line number4626 index4625 alt1">4626</div><div class="line number4627 index4626 alt2">4627</div><div class="line number4628 index4627 alt1">4628</div><div class="line number4629 index4628 alt2">4629</div><div class="line number4630 index4629 alt1">4630</div><div class="line number4631 index4630 alt2">4631</div><div class="line number4632 index4631 alt1">4632</div><div class="line number4633 index4632 alt2">4633</div><div class="line number4634 index4633 alt1">4634</div><div class="line number4635 index4634 alt2">4635</div><div class="line number4636 index4635 alt1">4636</div><div class="line number4637 index4636 alt2">4637</div><div class="line number4638 index4637 alt1">4638</div><div class="line number4639 index4638 alt2">4639</div><div class="line number4640 index4639 alt1">4640</div><div class="line number4641 index4640 alt2">4641</div><div class="line number4642 index4641 alt1">4642</div><div class="line number4643 index4642 alt2">4643</div><div class="line number4644 index4643 alt1">4644</div><div class="line number4645 index4644 alt2">4645</div><div class="line number4646 index4645 alt1">4646</div><div class="line number4647 index4646 alt2">4647</div><div class="line number4648 index4647 alt1">4648</div><div class="line number4649 index4648 alt2">4649</div><div class="line number4650 index4649 alt1">4650</div><div class="line number4651 index4650 alt2">4651</div><div class="line number4652 index4651 alt1">4652</div><div class="line number4653 index4652 alt2">4653</div><div class="line number4654 index4653 alt1">4654</div><div class="line number4655 index4654 alt2">4655</div><div class="line number4656 index4655 alt1">4656</div><div class="line number4657 index4656 alt2">4657</div><div class="line number4658 index4657 alt1">4658</div><div class="line number4659 index4658 alt2">4659</div><div class="line number4660 index4659 alt1">4660</div><div class="line number4661 index4660 alt2">4661</div><div class="line number4662 index4661 alt1">4662</div><div class="line number4663 index4662 alt2">4663</div><div class="line number4664 index4663 alt1">4664</div><div class="line number4665 index4664 alt2">4665</div><div class="line number4666 index4665 alt1">4666</div><div class="line number4667 index4666 alt2">4667</div><div class="line number4668 index4667 alt1">4668</div><div class="line number4669 index4668 alt2">4669</div><div class="line number4670 index4669 alt1">4670</div><div class="line number4671 index4670 alt2">4671</div><div class="line number4672 index4671 alt1">4672</div><div class="line number4673 index4672 alt2">4673</div><div class="line number4674 index4673 alt1">4674</div><div class="line number4675 index4674 alt2">4675</div><div class="line number4676 index4675 alt1">4676</div><div class="line number4677 index4676 alt2">4677</div><div class="line number4678 index4677 alt1">4678</div><div class="line number4679 index4678 alt2">4679</div><div class="line number4680 index4679 alt1">4680</div><div class="line number4681 index4680 alt2">4681</div><div class="line number4682 index4681 alt1">4682</div><div class="line number4683 index4682 alt2">4683</div><div class="line number4684 index4683 alt1">4684</div><div class="line number4685 index4684 alt2">4685</div><div class="line number4686 index4685 alt1">4686</div><div class="line number4687 index4686 alt2">4687</div><div class="line number4688 index4687 alt1">4688</div><div class="line number4689 index4688 alt2">4689</div><div class="line number4690 index4689 alt1">4690</div><div class="line number4691 index4690 alt2">4691</div><div class="line number4692 index4691 alt1">4692</div><div class="line number4693 index4692 alt2">4693</div><div class="line number4694 index4693 alt1">4694</div><div class="line number4695 index4694 alt2">4695</div><div class="line number4696 index4695 alt1">4696</div><div class="line number4697 index4696 alt2">4697</div><div class="line number4698 index4697 alt1">4698</div><div class="line number4699 index4698 alt2">4699</div><div class="line number4700 index4699 alt1">4700</div><div class="line number4701 index4700 alt2">4701</div><div class="line number4702 index4701 alt1">4702</div><div class="line number4703 index4702 alt2">4703</div><div class="line number4704 index4703 alt1">4704</div><div class="line number4705 index4704 alt2">4705</div><div class="line number4706 index4705 alt1">4706</div><div class="line number4707 index4706 alt2">4707</div><div class="line number4708 index4707 alt1">4708</div><div class="line number4709 index4708 alt2">4709</div><div class="line number4710 index4709 alt1">4710</div><div class="line number4711 index4710 alt2">4711</div><div class="line number4712 index4711 alt1">4712</div><div class="line number4713 index4712 alt2">4713</div><div class="line number4714 index4713 alt1">4714</div><div class="line number4715 index4714 alt2">4715</div><div class="line number4716 index4715 alt1">4716</div><div class="line number4717 index4716 alt2">4717</div><div class="line number4718 index4717 alt1">4718</div><div class="line number4719 index4718 alt2">4719</div><div class="line number4720 index4719 alt1">4720</div><div class="line number4721 index4720 alt2">4721</div><div class="line number4722 index4721 alt1">4722</div><div class="line number4723 index4722 alt2">4723</div><div class="line number4724 index4723 alt1">4724</div><div class="line number4725 index4724 alt2">4725</div><div class="line number4726 index4725 alt1">4726</div><div class="line number4727 index4726 alt2">4727</div><div class="line number4728 index4727 alt1">4728</div><div class="line number4729 index4728 alt2">4729</div><div class="line number4730 index4729 alt1">4730</div><div class="line number4731 index4730 alt2">4731</div><div class="line number4732 index4731 alt1">4732</div><div class="line number4733 index4732 alt2">4733</div><div class="line number4734 index4733 alt1">4734</div><div class="line number4735 index4734 alt2">4735</div><div class="line number4736 index4735 alt1">4736</div><div class="line number4737 index4736 alt2">4737</div><div class="line number4738 index4737 alt1">4738</div><div class="line number4739 index4738 alt2">4739</div><div class="line number4740 index4739 alt1">4740</div><div class="line number4741 index4740 alt2">4741</div><div class="line number4742 index4741 alt1">4742</div><div class="line number4743 index4742 alt2">4743</div><div class="line number4744 index4743 alt1">4744</div><div class="line number4745 index4744 alt2">4745</div><div class="line number4746 index4745 alt1">4746</div><div class="line number4747 index4746 alt2">4747</div><div class="line number4748 index4747 alt1">4748</div><div class="line number4749 index4748 alt2">4749</div><div class="line number4750 index4749 alt1">4750</div><div class="line number4751 index4750 alt2">4751</div><div class="line number4752 index4751 alt1">4752</div><div class="line number4753 index4752 alt2">4753</div><div class="line number4754 index4753 alt1">4754</div><div class="line number4755 index4754 alt2">4755</div><div class="line number4756 index4755 alt1">4756</div><div class="line number4757 index4756 alt2">4757</div><div class="line number4758 index4757 alt1">4758</div><div class="line number4759 index4758 alt2">4759</div><div class="line number4760 index4759 alt1">4760</div><div class="line number4761 index4760 alt2">4761</div><div class="line number4762 index4761 alt1">4762</div><div class="line number4763 index4762 alt2">4763</div><div class="line number4764 index4763 alt1">4764</div><div class="line number4765 index4764 alt2">4765</div><div class="line number4766 index4765 alt1">4766</div><div class="line number4767 index4766 alt2">4767</div><div class="line number4768 index4767 alt1">4768</div><div class="line number4769 index4768 alt2">4769</div><div class="line number4770 index4769 alt1">4770</div><div class="line number4771 index4770 alt2">4771</div><div class="line number4772 index4771 alt1">4772</div><div class="line number4773 index4772 alt2">4773</div><div class="line number4774 index4773 alt1">4774</div><div class="line number4775 index4774 alt2">4775</div><div class="line number4776 index4775 alt1">4776</div><div class="line number4777 index4776 alt2">4777</div><div class="line number4778 index4777 alt1">4778</div><div class="line number4779 index4778 alt2">4779</div><div class="line number4780 index4779 alt1">4780</div><div class="line number4781 index4780 alt2">4781</div><div class="line number4782 index4781 alt1">4782</div><div class="line number4783 index4782 alt2">4783</div><div class="line number4784 index4783 alt1">4784</div><div class="line number4785 index4784 alt2">4785</div><div class="line number4786 index4785 alt1">4786</div><div class="line number4787 index4786 alt2">4787</div><div class="line number4788 index4787 alt1">4788</div><div class="line number4789 index4788 alt2">4789</div><div class="line number4790 index4789 alt1">4790</div><div class="line number4791 index4790 alt2">4791</div><div class="line number4792 index4791 alt1">4792</div><div class="line number4793 index4792 alt2">4793</div><div class="line number4794 index4793 alt1">4794</div><div class="line number4795 index4794 alt2">4795</div><div class="line number4796 index4795 alt1">4796</div><div class="line number4797 index4796 alt2">4797</div><div class="line number4798 index4797 alt1">4798</div><div class="line number4799 index4798 alt2">4799</div><div class="line number4800 index4799 alt1">4800</div><div class="line number4801 index4800 alt2">4801</div><div class="line number4802 index4801 alt1">4802</div><div class="line number4803 index4802 alt2">4803</div><div class="line number4804 index4803 alt1">4804</div><div class="line number4805 index4804 alt2">4805</div><div class="line number4806 index4805 alt1">4806</div><div class="line number4807 index4806 alt2">4807</div><div class="line number4808 index4807 alt1">4808</div><div class="line number4809 index4808 alt2">4809</div><div class="line number4810 index4809 alt1">4810</div><div class="line number4811 index4810 alt2">4811</div><div class="line number4812 index4811 alt1">4812</div><div class="line number4813 index4812 alt2">4813</div><div class="line number4814 index4813 alt1">4814</div><div class="line number4815 index4814 alt2">4815</div><div class="line number4816 index4815 alt1">4816</div><div class="line number4817 index4816 alt2">4817</div><div class="line number4818 index4817 alt1">4818</div><div class="line number4819 index4818 alt2">4819</div><div class="line number4820 index4819 alt1">4820</div><div class="line number4821 index4820 alt2">4821</div><div class="line number4822 index4821 alt1">4822</div><div class="line number4823 index4822 alt2">4823</div><div class="line number4824 index4823 alt1">4824</div><div class="line number4825 index4824 alt2">4825</div><div class="line number4826 index4825 alt1">4826</div><div class="line number4827 index4826 alt2">4827</div><div class="line number4828 index4827 alt1">4828</div><div class="line number4829 index4828 alt2">4829</div><div class="line number4830 index4829 alt1">4830</div><div class="line number4831 index4830 alt2">4831</div><div class="line number4832 index4831 alt1">4832</div><div class="line number4833 index4832 alt2">4833</div><div class="line number4834 index4833 alt1">4834</div><div class="line number4835 index4834 alt2">4835</div><div class="line number4836 index4835 alt1">4836</div><div class="line number4837 index4836 alt2">4837</div><div class="line number4838 index4837 alt1">4838</div><div class="line number4839 index4838 alt2">4839</div><div class="line number4840 index4839 alt1">4840</div><div class="line number4841 index4840 alt2">4841</div><div class="line number4842 index4841 alt1">4842</div><div class="line number4843 index4842 alt2">4843</div><div class="line number4844 index4843 alt1">4844</div><div class="line number4845 index4844 alt2">4845</div><div class="line number4846 index4845 alt1">4846</div><div class="line number4847 index4846 alt2">4847</div><div class="line number4848 index4847 alt1">4848</div><div class="line number4849 index4848 alt2">4849</div><div class="line number4850 index4849 alt1">4850</div><div class="line number4851 index4850 alt2">4851</div><div class="line number4852 index4851 alt1">4852</div><div class="line number4853 index4852 alt2">4853</div><div class="line number4854 index4853 alt1">4854</div><div class="line number4855 index4854 alt2">4855</div><div class="line number4856 index4855 alt1">4856</div><div class="line number4857 index4856 alt2">4857</div><div class="line number4858 index4857 alt1">4858</div><div class="line number4859 index4858 alt2">4859</div><div class="line number4860 index4859 alt1">4860</div><div class="line number4861 index4860 alt2">4861</div><div class="line number4862 index4861 alt1">4862</div><div class="line number4863 index4862 alt2">4863</div><div class="line number4864 index4863 alt1">4864</div><div class="line number4865 index4864 alt2">4865</div><div class="line number4866 index4865 alt1">4866</div><div class="line number4867 index4866 alt2">4867</div><div class="line number4868 index4867 alt1">4868</div><div class="line number4869 index4868 alt2">4869</div><div class="line number4870 index4869 alt1">4870</div><div class="line number4871 index4870 alt2">4871</div><div class="line number4872 index4871 alt1">4872</div><div class="line number4873 index4872 alt2">4873</div><div class="line number4874 index4873 alt1">4874</div><div class="line number4875 index4874 alt2">4875</div><div class="line number4876 index4875 alt1">4876</div><div class="line number4877 index4876 alt2">4877</div><div class="line number4878 index4877 alt1">4878</div><div class="line number4879 index4878 alt2">4879</div><div class="line number4880 index4879 alt1">4880</div><div class="line number4881 index4880 alt2">4881</div><div class="line number4882 index4881 alt1">4882</div><div class="line number4883 index4882 alt2">4883</div><div class="line number4884 index4883 alt1">4884</div><div class="line number4885 index4884 alt2">4885</div><div class="line number4886 index4885 alt1">4886</div><div class="line number4887 index4886 alt2">4887</div><div class="line number4888 index4887 alt1">4888</div><div class="line number4889 index4888 alt2">4889</div><div class="line number4890 index4889 alt1">4890</div><div class="line number4891 index4890 alt2">4891</div><div class="line number4892 index4891 alt1">4892</div><div class="line number4893 index4892 alt2">4893</div><div class="line number4894 index4893 alt1">4894</div><div class="line number4895 index4894 alt2">4895</div><div class="line number4896 index4895 alt1">4896</div><div class="line number4897 index4896 alt2">4897</div><div class="line number4898 index4897 alt1">4898</div><div class="line number4899 index4898 alt2">4899</div><div class="line number4900 index4899 alt1">4900</div><div class="line number4901 index4900 alt2">4901</div><div class="line number4902 index4901 alt1">4902</div><div class="line number4903 index4902 alt2">4903</div><div class="line number4904 index4903 alt1">4904</div><div class="line number4905 index4904 alt2">4905</div><div class="line number4906 index4905 alt1">4906</div><div class="line number4907 index4906 alt2">4907</div><div class="line number4908 index4907 alt1">4908</div><div class="line number4909 index4908 alt2">4909</div><div class="line number4910 index4909 alt1">4910</div><div class="line number4911 index4910 alt2">4911</div><div class="line number4912 index4911 alt1">4912</div><div class="line number4913 index4912 alt2">4913</div><div class="line number4914 index4913 alt1">4914</div><div class="line number4915 index4914 alt2">4915</div><div class="line number4916 index4915 alt1">4916</div><div class="line number4917 index4916 alt2">4917</div><div class="line number4918 index4917 alt1">4918</div><div class="line number4919 index4918 alt2">4919</div><div class="line number4920 index4919 alt1">4920</div><div class="line number4921 index4920 alt2">4921</div><div class="line number4922 index4921 alt1">4922</div><div class="line number4923 index4922 alt2">4923</div><div class="line number4924 index4923 alt1">4924</div><div class="line number4925 index4924 alt2">4925</div><div class="line number4926 index4925 alt1">4926</div><div class="line number4927 index4926 alt2">4927</div><div class="line number4928 index4927 alt1">4928</div><div class="line number4929 index4928 alt2">4929</div><div class="line number4930 index4929 alt1">4930</div><div class="line number4931 index4930 alt2">4931</div><div class="line number4932 index4931 alt1">4932</div><div class="line number4933 index4932 alt2">4933</div><div class="line number4934 index4933 alt1">4934</div><div class="line number4935 index4934 alt2">4935</div><div class="line number4936 index4935 alt1">4936</div><div class="line number4937 index4936 alt2">4937</div><div class="line number4938 index4937 alt1">4938</div><div class="line number4939 index4938 alt2">4939</div><div class="line number4940 index4939 alt1">4940</div><div class="line number4941 index4940 alt2">4941</div><div class="line number4942 index4941 alt1">4942</div><div class="line number4943 index4942 alt2">4943</div><div class="line number4944 index4943 alt1">4944</div><div class="line number4945 index4944 alt2">4945</div><div class="line number4946 index4945 alt1">4946</div><div class="line number4947 index4946 alt2">4947</div><div class="line number4948 index4947 alt1">4948</div><div class="line number4949 index4948 alt2">4949</div><div class="line number4950 index4949 alt1">4950</div><div class="line number4951 index4950 alt2">4951</div><div class="line number4952 index4951 alt1">4952</div><div class="line number4953 index4952 alt2">4953</div><div class="line number4954 index4953 alt1">4954</div><div class="line number4955 index4954 alt2">4955</div><div class="line number4956 index4955 alt1">4956</div><div class="line number4957 index4956 alt2">4957</div><div class="line number4958 index4957 alt1">4958</div><div class="line number4959 index4958 alt2">4959</div><div class="line number4960 index4959 alt1">4960</div><div class="line number4961 index4960 alt2">4961</div><div class="line number4962 index4961 alt1">4962</div><div class="line number4963 index4962 alt2">4963</div><div class="line number4964 index4963 alt1">4964</div><div class="line number4965 index4964 alt2">4965</div><div class="line number4966 index4965 alt1">4966</div><div class="line number4967 index4966 alt2">4967</div><div class="line number4968 index4967 alt1">4968</div><div class="line number4969 index4968 alt2">4969</div><div class="line number4970 index4969 alt1">4970</div><div class="line number4971 index4970 alt2">4971</div><div class="line number4972 index4971 alt1">4972</div><div class="line number4973 index4972 alt2">4973</div><div class="line number4974 index4973 alt1">4974</div><div class="line number4975 index4974 alt2">4975</div><div class="line number4976 index4975 alt1">4976</div><div class="line number4977 index4976 alt2">4977</div><div class="line number4978 index4977 alt1">4978</div><div class="line number4979 index4978 alt2">4979</div><div class="line number4980 index4979 alt1">4980</div><div class="line number4981 index4980 alt2">4981</div><div class="line number4982 index4981 alt1">4982</div><div class="line number4983 index4982 alt2">4983</div><div class="line number4984 index4983 alt1">4984</div><div class="line number4985 index4984 alt2">4985</div><div class="line number4986 index4985 alt1">4986</div><div class="line number4987 index4986 alt2">4987</div><div class="line number4988 index4987 alt1">4988</div><div class="line number4989 index4988 alt2">4989</div><div class="line number4990 index4989 alt1">4990</div><div class="line number4991 index4990 alt2">4991</div><div class="line number4992 index4991 alt1">4992</div><div class="line number4993 index4992 alt2">4993</div><div class="line number4994 index4993 alt1">4994</div><div class="line number4995 index4994 alt2">4995</div><div class="line number4996 index4995 alt1">4996</div><div class="line number4997 index4996 alt2">4997</div><div class="line number4998 index4997 alt1">4998</div><div class="line number4999 index4998 alt2">4999</div><div class="line number5000 index4999 alt1">5000</div><div class="line number5001 index5000 alt2">5001</div><div class="line number5002 index5001 alt1">5002</div><div class="line number5003 index5002 alt2">5003</div><div class="line number5004 index5003 alt1">5004</div><div class="line number5005 index5004 alt2">5005</div><div class="line number5006 index5005 alt1">5006</div><div class="line number5007 index5006 alt2">5007</div><div class="line number5008 index5007 alt1">5008</div><div class="line number5009 index5008 alt2">5009</div><div class="line number5010 index5009 alt1">5010</div><div class="line number5011 index5010 alt2">5011</div><div class="line number5012 index5011 alt1">5012</div><div class="line number5013 index5012 alt2">5013</div><div class="line number5014 index5013 alt1">5014</div><div class="line number5015 index5014 alt2">5015</div><div class="line number5016 index5015 alt1">5016</div><div class="line number5017 index5016 alt2">5017</div><div class="line number5018 index5017 alt1">5018</div><div class="line number5019 index5018 alt2">5019</div><div class="line number5020 index5019 alt1">5020</div><div class="line number5021 index5020 alt2">5021</div><div class="line number5022 index5021 alt1">5022</div><div class="line number5023 index5022 alt2">5023</div><div class="line number5024 index5023 alt1">5024</div><div class="line number5025 index5024 alt2">5025</div><div class="line number5026 index5025 alt1">5026</div><div class="line number5027 index5026 alt2">5027</div><div class="line number5028 index5027 alt1">5028</div><div class="line number5029 index5028 alt2">5029</div><div class="line number5030 index5029 alt1">5030</div><div class="line number5031 index5030 alt2">5031</div><div class="line number5032 index5031 alt1">5032</div><div class="line number5033 index5032 alt2">5033</div><div class="line number5034 index5033 alt1">5034</div><div class="line number5035 index5034 alt2">5035</div><div class="line number5036 index5035 alt1">5036</div><div class="line number5037 index5036 alt2">5037</div><div class="line number5038 index5037 alt1">5038</div><div class="line number5039 index5038 alt2">5039</div><div class="line number5040 index5039 alt1">5040</div><div class="line number5041 index5040 alt2">5041</div><div class="line number5042 index5041 alt1">5042</div><div class="line number5043 index5042 alt2">5043</div><div class="line number5044 index5043 alt1">5044</div><div class="line number5045 index5044 alt2">5045</div><div class="line number5046 index5045 alt1">5046</div><div class="line number5047 index5046 alt2">5047</div><div class="line number5048 index5047 alt1">5048</div><div class="line number5049 index5048 alt2">5049</div><div class="line number5050 index5049 alt1">5050</div><div class="line number5051 index5050 alt2">5051</div><div class="line number5052 index5051 alt1">5052</div><div class="line number5053 index5052 alt2">5053</div><div class="line number5054 index5053 alt1">5054</div><div class="line number5055 index5054 alt2">5055</div><div class="line number5056 index5055 alt1">5056</div><div class="line number5057 index5056 alt2">5057</div><div class="line number5058 index5057 alt1">5058</div><div class="line number5059 index5058 alt2">5059</div><div class="line number5060 index5059 alt1">5060</div><div class="line number5061 index5060 alt2">5061</div><div class="line number5062 index5061 alt1">5062</div><div class="line number5063 index5062 alt2">5063</div><div class="line number5064 index5063 alt1">5064</div><div class="line number5065 index5064 alt2">5065</div><div class="line number5066 index5065 alt1">5066</div><div class="line number5067 index5066 alt2">5067</div><div class="line number5068 index5067 alt1">5068</div><div class="line number5069 index5068 alt2">5069</div><div class="line number5070 index5069 alt1">5070</div><div class="line number5071 index5070 alt2">5071</div><div class="line number5072 index5071 alt1">5072</div><div class="line number5073 index5072 alt2">5073</div><div class="line number5074 index5073 alt1">5074</div><div class="line number5075 index5074 alt2">5075</div><div class="line number5076 index5075 alt1">5076</div><div class="line number5077 index5076 alt2">5077</div><div class="line number5078 index5077 alt1">5078</div><div class="line number5079 index5078 alt2">5079</div><div class="line number5080 index5079 alt1">5080</div><div class="line number5081 index5080 alt2">5081</div><div class="line number5082 index5081 alt1">5082</div><div class="line number5083 index5082 alt2">5083</div><div class="line number5084 index5083 alt1">5084</div><div class="line number5085 index5084 alt2">5085</div><div class="line number5086 index5085 alt1">5086</div><div class="line number5087 index5086 alt2">5087</div><div class="line number5088 index5087 alt1">5088</div><div class="line number5089 index5088 alt2">5089</div><div class="line number5090 index5089 alt1">5090</div><div class="line number5091 index5090 alt2">5091</div><div class="line number5092 index5091 alt1">5092</div><div class="line number5093 index5092 alt2">5093</div><div class="line number5094 index5093 alt1">5094</div><div class="line number5095 index5094 alt2">5095</div><div class="line number5096 index5095 alt1">5096</div><div class="line number5097 index5096 alt2">5097</div><div class="line number5098 index5097 alt1">5098</div><div class="line number5099 index5098 alt2">5099</div><div class="line number5100 index5099 alt1">5100</div><div class="line number5101 index5100 alt2">5101</div><div class="line number5102 index5101 alt1">5102</div><div class="line number5103 index5102 alt2">5103</div><div class="line number5104 index5103 alt1">5104</div><div class="line number5105 index5104 alt2">5105</div><div class="line number5106 index5105 alt1">5106</div><div class="line number5107 index5106 alt2">5107</div><div class="line number5108 index5107 alt1">5108</div><div class="line number5109 index5108 alt2">5109</div><div class="line number5110 index5109 alt1">5110</div><div class="line number5111 index5110 alt2">5111</div><div class="line number5112 index5111 alt1">5112</div><div class="line number5113 index5112 alt2">5113</div><div class="line number5114 index5113 alt1">5114</div><div class="line number5115 index5114 alt2">5115</div><div class="line number5116 index5115 alt1">5116</div><div class="line number5117 index5116 alt2">5117</div><div class="line number5118 index5117 alt1">5118</div><div class="line number5119 index5118 alt2">5119</div><div class="line number5120 index5119 alt1">5120</div><div class="line number5121 index5120 alt2">5121</div><div class="line number5122 index5121 alt1">5122</div><div class="line number5123 index5122 alt2">5123</div><div class="line number5124 index5123 alt1">5124</div><div class="line number5125 index5124 alt2">5125</div><div class="line number5126 index5125 alt1">5126</div><div class="line number5127 index5126 alt2">5127</div><div class="line number5128 index5127 alt1">5128</div><div class="line number5129 index5128 alt2">5129</div><div class="line number5130 index5129 alt1">5130</div><div class="line number5131 index5130 alt2">5131</div><div class="line number5132 index5131 alt1">5132</div><div class="line number5133 index5132 alt2">5133</div><div class="line number5134 index5133 alt1">5134</div><div class="line number5135 index5134 alt2">5135</div><div class="line number5136 index5135 alt1">5136</div><div class="line number5137 index5136 alt2">5137</div><div class="line number5138 index5137 alt1">5138</div><div class="line number5139 index5138 alt2">5139</div><div class="line number5140 index5139 alt1">5140</div><div class="line number5141 index5140 alt2">5141</div><div class="line number5142 index5141 alt1">5142</div><div class="line number5143 index5142 alt2">5143</div><div class="line number5144 index5143 alt1">5144</div><div class="line number5145 index5144 alt2">5145</div><div class="line number5146 index5145 alt1">5146</div><div class="line number5147 index5146 alt2">5147</div><div class="line number5148 index5147 alt1">5148</div><div class="line number5149 index5148 alt2">5149</div><div class="line number5150 index5149 alt1">5150</div><div class="line number5151 index5150 alt2">5151</div><div class="line number5152 index5151 alt1">5152</div><div class="line number5153 index5152 alt2">5153</div><div class="line number5154 index5153 alt1">5154</div><div class="line number5155 index5154 alt2">5155</div><div class="line number5156 index5155 alt1">5156</div><div class="line number5157 index5156 alt2">5157</div><div class="line number5158 index5157 alt1">5158</div><div class="line number5159 index5158 alt2">5159</div><div class="line number5160 index5159 alt1">5160</div><div class="line number5161 index5160 alt2">5161</div><div class="line number5162 index5161 alt1">5162</div><div class="line number5163 index5162 alt2">5163</div><div class="line number5164 index5163 alt1">5164</div><div class="line number5165 index5164 alt2">5165</div><div class="line number5166 index5165 alt1">5166</div><div class="line number5167 index5166 alt2">5167</div><div class="line number5168 index5167 alt1">5168</div><div class="line number5169 index5168 alt2">5169</div><div class="line number5170 index5169 alt1">5170</div><div class="line number5171 index5170 alt2">5171</div><div class="line number5172 index5171 alt1">5172</div><div class="line number5173 index5172 alt2">5173</div><div class="line number5174 index5173 alt1">5174</div><div class="line number5175 index5174 alt2">5175</div><div class="line number5176 index5175 alt1">5176</div><div class="line number5177 index5176 alt2">5177</div><div class="line number5178 index5177 alt1">5178</div><div class="line number5179 index5178 alt2">5179</div><div class="line number5180 index5179 alt1">5180</div><div class="line number5181 index5180 alt2">5181</div><div class="line number5182 index5181 alt1">5182</div><div class="line number5183 index5182 alt2">5183</div><div class="line number5184 index5183 alt1">5184</div><div class="line number5185 index5184 alt2">5185</div><div class="line number5186 index5185 alt1">5186</div><div class="line number5187 index5186 alt2">5187</div><div class="line number5188 index5187 alt1">5188</div><div class="line number5189 index5188 alt2">5189</div><div class="line number5190 index5189 alt1">5190</div><div class="line number5191 index5190 alt2">5191</div><div class="line number5192 index5191 alt1">5192</div><div class="line number5193 index5192 alt2">5193</div><div class="line number5194 index5193 alt1">5194</div><div class="line number5195 index5194 alt2">5195</div><div class="line number5196 index5195 alt1">5196</div><div class="line number5197 index5196 alt2">5197</div><div class="line number5198 index5197 alt1">5198</div><div class="line number5199 index5198 alt2">5199</div><div class="line number5200 index5199 alt1">5200</div><div class="line number5201 index5200 alt2">5201</div><div class="line number5202 index5201 alt1">5202</div><div class="line number5203 index5202 alt2">5203</div><div class="line number5204 index5203 alt1">5204</div><div class="line number5205 index5204 alt2">5205</div><div class="line number5206 index5205 alt1">5206</div><div class="line number5207 index5206 alt2">5207</div><div class="line number5208 index5207 alt1">5208</div><div class="line number5209 index5208 alt2">5209</div><div class="line number5210 index5209 alt1">5210</div><div class="line number5211 index5210 alt2">5211</div><div class="line number5212 index5211 alt1">5212</div><div class="line number5213 index5212 alt2">5213</div><div class="line number5214 index5213 alt1">5214</div><div class="line number5215 index5214 alt2">5215</div><div class="line number5216 index5215 alt1">5216</div><div class="line number5217 index5216 alt2">5217</div><div class="line number5218 index5217 alt1">5218</div><div class="line number5219 index5218 alt2">5219</div><div class="line number5220 index5219 alt1">5220</div><div class="line number5221 index5220 alt2">5221</div><div class="line number5222 index5221 alt1">5222</div><div class="line number5223 index5222 alt2">5223</div><div class="line number5224 index5223 alt1">5224</div><div class="line number5225 index5224 alt2">5225</div><div class="line number5226 index5225 alt1">5226</div><div class="line number5227 index5226 alt2">5227</div><div class="line number5228 index5227 alt1">5228</div><div class="line number5229 index5228 alt2">5229</div><div class="line number5230 index5229 alt1">5230</div><div class="line number5231 index5230 alt2">5231</div><div class="line number5232 index5231 alt1">5232</div><div class="line number5233 index5232 alt2">5233</div><div class="line number5234 index5233 alt1">5234</div><div class="line number5235 index5234 alt2">5235</div><div class="line number5236 index5235 alt1">5236</div><div class="line number5237 index5236 alt2">5237</div><div class="line number5238 index5237 alt1">5238</div><div class="line number5239 index5238 alt2">5239</div><div class="line number5240 index5239 alt1">5240</div><div class="line number5241 index5240 alt2">5241</div><div class="line number5242 index5241 alt1">5242</div><div class="line number5243 index5242 alt2">5243</div><div class="line number5244 index5243 alt1">5244</div><div class="line number5245 index5244 alt2">5245</div><div class="line number5246 index5245 alt1">5246</div><div class="line number5247 index5246 alt2">5247</div><div class="line number5248 index5247 alt1">5248</div><div class="line number5249 index5248 alt2">5249</div><div class="line number5250 index5249 alt1">5250</div><div class="line number5251 index5250 alt2">5251</div><div class="line number5252 index5251 alt1">5252</div><div class="line number5253 index5252 alt2">5253</div><div class="line number5254 index5253 alt1">5254</div><div class="line number5255 index5254 alt2">5255</div><div class="line number5256 index5255 alt1">5256</div><div class="line number5257 index5256 alt2">5257</div><div class="line number5258 index5257 alt1">5258</div><div class="line number5259 index5258 alt2">5259</div><div class="line number5260 index5259 alt1">5260</div><div class="line number5261 index5260 alt2">5261</div><div class="line number5262 index5261 alt1">5262</div><div class="line number5263 index5262 alt2">5263</div><div class="line number5264 index5263 alt1">5264</div><div class="line number5265 index5264 alt2">5265</div><div class="line number5266 index5265 alt1">5266</div><div class="line number5267 index5266 alt2">5267</div><div class="line number5268 index5267 alt1">5268</div><div class="line number5269 index5268 alt2">5269</div><div class="line number5270 index5269 alt1">5270</div><div class="line number5271 index5270 alt2">5271</div><div class="line number5272 index5271 alt1">5272</div><div class="line number5273 index5272 alt2">5273</div><div class="line number5274 index5273 alt1">5274</div><div class="line number5275 index5274 alt2">5275</div><div class="line number5276 index5275 alt1">5276</div><div class="line number5277 index5276 alt2">5277</div><div class="line number5278 index5277 alt1">5278</div><div class="line number5279 index5278 alt2">5279</div><div class="line number5280 index5279 alt1">5280</div><div class="line number5281 index5280 alt2">5281</div><div class="line number5282 index5281 alt1">5282</div><div class="line number5283 index5282 alt2">5283</div><div class="line number5284 index5283 alt1">5284</div><div class="line number5285 index5284 alt2">5285</div><div class="line number5286 index5285 alt1">5286</div><div class="line number5287 index5286 alt2">5287</div><div class="line number5288 index5287 alt1">5288</div><div class="line number5289 index5288 alt2">5289</div><div class="line number5290 index5289 alt1">5290</div><div class="line number5291 index5290 alt2">5291</div><div class="line number5292 index5291 alt1">5292</div><div class="line number5293 index5292 alt2">5293</div><div class="line number5294 index5293 alt1">5294</div><div class="line number5295 index5294 alt2">5295</div><div class="line number5296 index5295 alt1">5296</div><div class="line number5297 index5296 alt2">5297</div><div class="line number5298 index5297 alt1">5298</div><div class="line number5299 index5298 alt2">5299</div><div class="line number5300 index5299 alt1">5300</div><div class="line number5301 index5300 alt2">5301</div><div class="line number5302 index5301 alt1">5302</div><div class="line number5303 index5302 alt2">5303</div><div class="line number5304 index5303 alt1">5304</div><div class="line number5305 index5304 alt2">5305</div><div class="line number5306 index5305 alt1">5306</div><div class="line number5307 index5306 alt2">5307</div><div class="line number5308 index5307 alt1">5308</div><div class="line number5309 index5308 alt2">5309</div><div class="line number5310 index5309 alt1">5310</div><div class="line number5311 index5310 alt2">5311</div><div class="line number5312 index5311 alt1">5312</div><div class="line number5313 index5312 alt2">5313</div><div class="line number5314 index5313 alt1">5314</div><div class="line number5315 index5314 alt2">5315</div><div class="line number5316 index5315 alt1">5316</div><div class="line number5317 index5316 alt2">5317</div><div class="line number5318 index5317 alt1">5318</div><div class="line number5319 index5318 alt2">5319</div><div class="line number5320 index5319 alt1">5320</div><div class="line number5321 index5320 alt2">5321</div><div class="line number5322 index5321 alt1">5322</div><div class="line number5323 index5322 alt2">5323</div><div class="line number5324 index5323 alt1">5324</div><div class="line number5325 index5324 alt2">5325</div><div class="line number5326 index5325 alt1">5326</div><div class="line number5327 index5326 alt2">5327</div><div class="line number5328 index5327 alt1">5328</div><div class="line number5329 index5328 alt2">5329</div><div class="line number5330 index5329 alt1">5330</div><div class="line number5331 index5330 alt2">5331</div><div class="line number5332 index5331 alt1">5332</div><div class="line number5333 index5332 alt2">5333</div><div class="line number5334 index5333 alt1">5334</div><div class="line number5335 index5334 alt2">5335</div><div class="line number5336 index5335 alt1">5336</div><div class="line number5337 index5336 alt2">5337</div><div class="line number5338 index5337 alt1">5338</div><div class="line number5339 index5338 alt2">5339</div><div class="line number5340 index5339 alt1">5340</div><div class="line number5341 index5340 alt2">5341</div><div class="line number5342 index5341 alt1">5342</div><div class="line number5343 index5342 alt2">5343</div><div class="line number5344 index5343 alt1">5344</div><div class="line number5345 index5344 alt2">5345</div><div class="line number5346 index5345 alt1">5346</div><div class="line number5347 index5346 alt2">5347</div><div class="line number5348 index5347 alt1">5348</div><div class="line number5349 index5348 alt2">5349</div><div class="line number5350 index5349 alt1">5350</div><div class="line number5351 index5350 alt2">5351</div><div class="line number5352 index5351 alt1">5352</div><div class="line number5353 index5352 alt2">5353</div><div class="line number5354 index5353 alt1">5354</div><div class="line number5355 index5354 alt2">5355</div><div class="line number5356 index5355 alt1">5356</div><div class="line number5357 index5356 alt2">5357</div><div class="line number5358 index5357 alt1">5358</div><div class="line number5359 index5358 alt2">5359</div><div class="line number5360 index5359 alt1">5360</div><div class="line number5361 index5360 alt2">5361</div><div class="line number5362 index5361 alt1">5362</div><div class="line number5363 index5362 alt2">5363</div><div class="line number5364 index5363 alt1">5364</div><div class="line number5365 index5364 alt2">5365</div><div class="line number5366 index5365 alt1">5366</div><div class="line number5367 index5366 alt2">5367</div><div class="line number5368 index5367 alt1">5368</div><div class="line number5369 index5368 alt2">5369</div><div class="line number5370 index5369 alt1">5370</div><div class="line number5371 index5370 alt2">5371</div><div class="line number5372 index5371 alt1">5372</div><div class="line number5373 index5372 alt2">5373</div><div class="line number5374 index5373 alt1">5374</div><div class="line number5375 index5374 alt2">5375</div><div class="line number5376 index5375 alt1">5376</div><div class="line number5377 index5376 alt2">5377</div><div class="line number5378 index5377 alt1">5378</div><div class="line number5379 index5378 alt2">5379</div><div class="line number5380 index5379 alt1">5380</div><div class="line number5381 index5380 alt2">5381</div><div class="line number5382 index5381 alt1">5382</div><div class="line number5383 index5382 alt2">5383</div><div class="line number5384 index5383 alt1">5384</div><div class="line number5385 index5384 alt2">5385</div><div class="line number5386 index5385 alt1">5386</div><div class="line number5387 index5386 alt2">5387</div><div class="line number5388 index5387 alt1">5388</div><div class="line number5389 index5388 alt2">5389</div><div class="line number5390 index5389 alt1">5390</div><div class="line number5391 index5390 alt2">5391</div><div class="line number5392 index5391 alt1">5392</div><div class="line number5393 index5392 alt2">5393</div><div class="line number5394 index5393 alt1">5394</div><div class="line number5395 index5394 alt2">5395</div><div class="line number5396 index5395 alt1">5396</div><div class="line number5397 index5396 alt2">5397</div><div class="line number5398 index5397 alt1">5398</div><div class="line number5399 index5398 alt2">5399</div><div class="line number5400 index5399 alt1">5400</div><div class="line number5401 index5400 alt2">5401</div><div class="line number5402 index5401 alt1">5402</div><div class="line number5403 index5402 alt2">5403</div><div class="line number5404 index5403 alt1">5404</div><div class="line number5405 index5404 alt2">5405</div><div class="line number5406 index5405 alt1">5406</div><div class="line number5407 index5406 alt2">5407</div><div class="line number5408 index5407 alt1">5408</div><div class="line number5409 index5408 alt2">5409</div><div class="line number5410 index5409 alt1">5410</div><div class="line number5411 index5410 alt2">5411</div><div class="line number5412 index5411 alt1">5412</div><div class="line number5413 index5412 alt2">5413</div><div class="line number5414 index5413 alt1">5414</div><div class="line number5415 index5414 alt2">5415</div><div class="line number5416 index5415 alt1">5416</div><div class="line number5417 index5416 alt2">5417</div><div class="line number5418 index5417 alt1">5418</div><div class="line number5419 index5418 alt2">5419</div><div class="line number5420 index5419 alt1">5420</div><div class="line number5421 index5420 alt2">5421</div><div class="line number5422 index5421 alt1">5422</div><div class="line number5423 index5422 alt2">5423</div><div class="line number5424 index5423 alt1">5424</div><div class="line number5425 index5424 alt2">5425</div><div class="line number5426 index5425 alt1">5426</div><div class="line number5427 index5426 alt2">5427</div><div class="line number5428 index5427 alt1">5428</div><div class="line number5429 index5428 alt2">5429</div><div class="line number5430 index5429 alt1">5430</div><div class="line number5431 index5430 alt2">5431</div><div class="line number5432 index5431 alt1">5432</div><div class="line number5433 index5432 alt2">5433</div><div class="line number5434 index5433 alt1">5434</div><div class="line number5435 index5434 alt2">5435</div><div class="line number5436 index5435 alt1">5436</div><div class="line number5437 index5436 alt2">5437</div><div class="line number5438 index5437 alt1">5438</div><div class="line number5439 index5438 alt2">5439</div><div class="line number5440 index5439 alt1">5440</div><div class="line number5441 index5440 alt2">5441</div><div class="line number5442 index5441 alt1">5442</div><div class="line number5443 index5442 alt2">5443</div><div class="line number5444 index5443 alt1">5444</div><div class="line number5445 index5444 alt2">5445</div><div class="line number5446 index5445 alt1">5446</div><div class="line number5447 index5446 alt2">5447</div><div class="line number5448 index5447 alt1">5448</div><div class="line number5449 index5448 alt2">5449</div><div class="line number5450 index5449 alt1">5450</div><div class="line number5451 index5450 alt2">5451</div><div class="line number5452 index5451 alt1">5452</div><div class="line number5453 index5452 alt2">5453</div><div class="line number5454 index5453 alt1">5454</div><div class="line number5455 index5454 alt2">5455</div><div class="line number5456 index5455 alt1">5456</div><div class="line number5457 index5456 alt2">5457</div><div class="line number5458 index5457 alt1">5458</div><div class="line number5459 index5458 alt2">5459</div><div class="line number5460 index5459 alt1">5460</div><div class="line number5461 index5460 alt2">5461</div><div class="line number5462 index5461 alt1">5462</div><div class="line number5463 index5462 alt2">5463</div><div class="line number5464 index5463 alt1">5464</div><div class="line number5465 index5464 alt2">5465</div><div class="line number5466 index5465 alt1">5466</div><div class="line number5467 index5466 alt2">5467</div><div class="line number5468 index5467 alt1">5468</div><div class="line number5469 index5468 alt2">5469</div><div class="line number5470 index5469 alt1">5470</div><div class="line number5471 index5470 alt2">5471</div><div class="line number5472 index5471 alt1">5472</div><div class="line number5473 index5472 alt2">5473</div><div class="line number5474 index5473 alt1">5474</div><div class="line number5475 index5474 alt2">5475</div><div class="line number5476 index5475 alt1">5476</div><div class="line number5477 index5476 alt2">5477</div><div class="line number5478 index5477 alt1">5478</div><div class="line number5479 index5478 alt2">5479</div><div class="line number5480 index5479 alt1">5480</div><div class="line number5481 index5480 alt2">5481</div><div class="line number5482 index5481 alt1">5482</div><div class="line number5483 index5482 alt2">5483</div><div class="line number5484 index5483 alt1">5484</div><div class="line number5485 index5484 alt2">5485</div><div class="line number5486 index5485 alt1">5486</div><div class="line number5487 index5486 alt2">5487</div><div class="line number5488 index5487 alt1">5488</div><div class="line number5489 index5488 alt2">5489</div><div class="line number5490 index5489 alt1">5490</div><div class="line number5491 index5490 alt2">5491</div><div class="line number5492 index5491 alt1">5492</div><div class="line number5493 index5492 alt2">5493</div><div class="line number5494 index5493 alt1">5494</div><div class="line number5495 index5494 alt2">5495</div><div class="line number5496 index5495 alt1">5496</div><div class="line number5497 index5496 alt2">5497</div><div class="line number5498 index5497 alt1">5498</div><div class="line number5499 index5498 alt2">5499</div><div class="line number5500 index5499 alt1">5500</div><div class="line number5501 index5500 alt2">5501</div><div class="line number5502 index5501 alt1">5502</div><div class="line number5503 index5502 alt2">5503</div><div class="line number5504 index5503 alt1">5504</div><div class="line number5505 index5504 alt2">5505</div><div class="line number5506 index5505 alt1">5506</div><div class="line number5507 index5506 alt2">5507</div><div class="line number5508 index5507 alt1">5508</div><div class="line number5509 index5508 alt2">5509</div><div class="line number5510 index5509 alt1">5510</div><div class="line number5511 index5510 alt2">5511</div><div class="line number5512 index5511 alt1">5512</div><div class="line number5513 index5512 alt2">5513</div><div class="line number5514 index5513 alt1">5514</div><div class="line number5515 index5514 alt2">5515</div><div class="line number5516 index5515 alt1">5516</div><div class="line number5517 index5516 alt2">5517</div><div class="line number5518 index5517 alt1">5518</div><div class="line number5519 index5518 alt2">5519</div><div class="line number5520 index5519 alt1">5520</div><div class="line number5521 index5520 alt2">5521</div><div class="line number5522 index5521 alt1">5522</div><div class="line number5523 index5522 alt2">5523</div><div class="line number5524 index5523 alt1">5524</div><div class="line number5525 index5524 alt2">5525</div><div class="line number5526 index5525 alt1">5526</div><div class="line number5527 index5526 alt2">5527</div><div class="line number5528 index5527 alt1">5528</div><div class="line number5529 index5528 alt2">5529</div><div class="line number5530 index5529 alt1">5530</div><div class="line number5531 index5530 alt2">5531</div><div class="line number5532 index5531 alt1">5532</div><div class="line number5533 index5532 alt2">5533</div><div class="line number5534 index5533 alt1">5534</div><div class="line number5535 index5534 alt2">5535</div><div class="line number5536 index5535 alt1">5536</div><div class="line number5537 index5536 alt2">5537</div><div class="line number5538 index5537 alt1">5538</div><div class="line number5539 index5538 alt2">5539</div><div class="line number5540 index5539 alt1">5540</div><div class="line number5541 index5540 alt2">5541</div><div class="line number5542 index5541 alt1">5542</div><div class="line number5543 index5542 alt2">5543</div><div class="line number5544 index5543 alt1">5544</div><div class="line number5545 index5544 alt2">5545</div><div class="line number5546 index5545 alt1">5546</div><div class="line number5547 index5546 alt2">5547</div><div class="line number5548 index5547 alt1">5548</div><div class="line number5549 index5548 alt2">5549</div><div class="line number5550 index5549 alt1">5550</div><div class="line number5551 index5550 alt2">5551</div><div class="line number5552 index5551 alt1">5552</div><div class="line number5553 index5552 alt2">5553</div><div class="line number5554 index5553 alt1">5554</div><div class="line number5555 index5554 alt2">5555</div><div class="line number5556 index5555 alt1">5556</div><div class="line number5557 index5556 alt2">5557</div><div class="line number5558 index5557 alt1">5558</div><div class="line number5559 index5558 alt2">5559</div><div class="line number5560 index5559 alt1">5560</div><div class="line number5561 index5560 alt2">5561</div><div class="line number5562 index5561 alt1">5562</div><div class="line number5563 index5562 alt2">5563</div><div class="line number5564 index5563 alt1">5564</div><div class="line number5565 index5564 alt2">5565</div><div class="line number5566 index5565 alt1">5566</div><div class="line number5567 index5566 alt2">5567</div><div class="line number5568 index5567 alt1">5568</div><div class="line number5569 index5568 alt2">5569</div><div class="line number5570 index5569 alt1">5570</div><div class="line number5571 index5570 alt2">5571</div><div class="line number5572 index5571 alt1">5572</div><div class="line number5573 index5572 alt2">5573</div><div class="line number5574 index5573 alt1">5574</div><div class="line number5575 index5574 alt2">5575</div><div class="line number5576 index5575 alt1">5576</div><div class="line number5577 index5576 alt2">5577</div><div class="line number5578 index5577 alt1">5578</div><div class="line number5579 index5578 alt2">5579</div><div class="line number5580 index5579 alt1">5580</div><div class="line number5581 index5580 alt2">5581</div><div class="line number5582 index5581 alt1">5582</div><div class="line number5583 index5582 alt2">5583</div><div class="line number5584 index5583 alt1">5584</div><div class="line number5585 index5584 alt2">5585</div><div class="line number5586 index5585 alt1">5586</div><div class="line number5587 index5586 alt2">5587</div><div class="line number5588 index5587 alt1">5588</div><div class="line number5589 index5588 alt2">5589</div><div class="line number5590 index5589 alt1">5590</div><div class="line number5591 index5590 alt2">5591</div><div class="line number5592 index5591 alt1">5592</div><div class="line number5593 index5592 alt2">5593</div><div class="line number5594 index5593 alt1">5594</div><div class="line number5595 index5594 alt2">5595</div><div class="line number5596 index5595 alt1">5596</div><div class="line number5597 index5596 alt2">5597</div><div class="line number5598 index5597 alt1">5598</div><div class="line number5599 index5598 alt2">5599</div><div class="line number5600 index5599 alt1">5600</div><div class="line number5601 index5600 alt2">5601</div><div class="line number5602 index5601 alt1">5602</div><div class="line number5603 index5602 alt2">5603</div><div class="line number5604 index5603 alt1">5604</div><div class="line number5605 index5604 alt2">5605</div><div class="line number5606 index5605 alt1">5606</div><div class="line number5607 index5606 alt2">5607</div><div class="line number5608 index5607 alt1">5608</div><div class="line number5609 index5608 alt2">5609</div><div class="line number5610 index5609 alt1">5610</div><div class="line number5611 index5610 alt2">5611</div><div class="line number5612 index5611 alt1">5612</div><div class="line number5613 index5612 alt2">5613</div><div class="line number5614 index5613 alt1">5614</div><div class="line number5615 index5614 alt2">5615</div><div class="line number5616 index5615 alt1">5616</div><div class="line number5617 index5616 alt2">5617</div><div class="line number5618 index5617 alt1">5618</div><div class="line number5619 index5618 alt2">5619</div><div class="line number5620 index5619 alt1">5620</div><div class="line number5621 index5620 alt2">5621</div><div class="line number5622 index5621 alt1">5622</div><div class="line number5623 index5622 alt2">5623</div><div class="line number5624 index5623 alt1">5624</div><div class="line number5625 index5624 alt2">5625</div><div class="line number5626 index5625 alt1">5626</div><div class="line number5627 index5626 alt2">5627</div><div class="line number5628 index5627 alt1">5628</div><div class="line number5629 index5628 alt2">5629</div><div class="line number5630 index5629 alt1">5630</div><div class="line number5631 index5630 alt2">5631</div><div class="line number5632 index5631 alt1">5632</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js comments">//=============================================================================</code></div><div class="line number2 index1 alt1"><code class="js comments">// Yanfly Engine Plugins - Battle Engine Core</code></div><div class="line number3 index2 alt2"><code class="js comments">// YEP_BattleEngineCore.js</code></div><div class="line number4 index3 alt1"><code class="js comments">//=============================================================================</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="js keyword">var</code> <code class="js plain">Imported = Imported || {};</code></div><div class="line number7 index6 alt2"><code class="js plain">Imported.YEP_BattleEngineCore = </code><code class="js keyword">true</code><code class="js plain">;</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="js keyword">var</code> <code class="js plain">Yanfly = Yanfly || {};</code></div><div class="line number10 index9 alt1"><code class="js plain">Yanfly.BEC = Yanfly.BEC || {};</code></div><div class="line number11 index10 alt2"><code class="js plain">Yanfly.BEC.version = 1.46;</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2"><code class="js comments">//=============================================================================</code></div><div class="line number14 index13 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">/*:</code></div><div class="line number15 index14 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @plugindesc v1.46 Have more control over the flow of the battle system</code></div><div class="line number16 index15 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* with this plugin and alter various aspects to your liking.</code></div><div class="line number17 index16 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @author Yanfly Engine Plugins</code></div><div class="line number18 index17 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number19 index18 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param ---General---</code></div><div class="line number20 index19 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default</code></div><div class="line number21 index20 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number22 index21 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Action Speed</code></div><div class="line number23 index22 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---General---</code></div><div class="line number24 index23 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc This is the formula used for an action's base speed.</code></div><div class="line number25 index24 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Default: agi + Math.randomInt(Math.floor(5 + agi / 4))</code></div><div class="line number26 index25 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default agi</code></div><div class="line number27 index26 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number28 index27 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Default System</code></div><div class="line number29 index28 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---General---</code></div><div class="line number30 index29 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @type select</code></div><div class="line number31 index30 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @option Default Turn Battle</code></div><div class="line number32 index31 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @value dtb</code></div><div class="line number33 index32 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @option Active Turn Battle (plugin required)</code></div><div class="line number34 index33 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @value atb</code></div><div class="line number35 index34 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @option Charge Turn Battle (plugin required)</code></div><div class="line number36 index35 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @value ctb</code></div><div class="line number37 index36 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @option Standard Turn Battle (plugin required)</code></div><div class="line number38 index37 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @value stb</code></div><div class="line number39 index38 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc This is the default battle system your game uses.</code></div><div class="line number40 index39 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Default: dtb</code></div><div class="line number41 index40 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default dtb</code></div><div class="line number42 index41 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number43 index42 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param ---Escape---</code></div><div class="line number44 index43 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default</code></div><div class="line number45 index44 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number46 index45 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Escape Ratio</code></div><div class="line number47 index46 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Escape---</code></div><div class="line number48 index47 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc This is the formula used to determine escape success.</code></div><div class="line number49 index48 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Default: 0.5 * $gameParty.agility() / $gameTroop.agility()</code></div><div class="line number50 index49 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default 0.5 * $gameParty.agility() / $gameTroop.agility()</code></div><div class="line number51 index50 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number52 index51 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Fail Escape Boost</code></div><div class="line number53 index52 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Escape---</code></div><div class="line number54 index53 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @type number</code></div><div class="line number55 index54 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @decimals 2</code></div><div class="line number56 index55 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Each time the player fails escape, increase the success</code></div><div class="line number57 index56 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* rate by this much. Default: 0.10</code></div><div class="line number58 index57 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default 0.10</code></div><div class="line number59 index58 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number60 index59 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param ---Animation---</code></div><div class="line number61 index60 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default</code></div><div class="line number62 index61 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number63 index62 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Animation Base Delay</code></div><div class="line number64 index63 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Animation---</code></div><div class="line number65 index64 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type number</code></div><div class="line number66 index65 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @min 0</code></div><div class="line number67 index66 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc This sets the base delay in between animations.</code></div><div class="line number68 index67 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Default: 8</code></div><div class="line number69 index68 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default 0</code></div><div class="line number70 index69 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number71 index70 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Animation Next Delay</code></div><div class="line number72 index71 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Animation---</code></div><div class="line number73 index72 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type number</code></div><div class="line number74 index73 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @min 0</code></div><div class="line number75 index74 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc This sets the sequential delay in between animations.</code></div><div class="line number76 index75 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Default: 12</code></div><div class="line number77 index76 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default 0</code></div><div class="line number78 index77 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number79 index78 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Certain Hit Animation</code></div><div class="line number80 index79 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Animation---</code></div><div class="line number81 index80 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type number</code></div><div class="line number82 index81 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @min 0</code></div><div class="line number83 index82 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Default animation to play for certain hit skills.</code></div><div class="line number84 index83 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Use 0 if you wish for no animation.</code></div><div class="line number85 index84 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default 0</code></div><div class="line number86 index85 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number87 index86 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Physical Animation</code></div><div class="line number88 index87 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Animation---</code></div><div class="line number89 index88 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type number</code></div><div class="line number90 index89 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @min 0</code></div><div class="line number91 index90 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Default animation to play for physical skills.</code></div><div class="line number92 index91 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Use 0 if you wish for no animation.</code></div><div class="line number93 index92 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default 52</code></div><div class="line number94 index93 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number95 index94 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Magical Animation</code></div><div class="line number96 index95 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Animation---</code></div><div class="line number97 index96 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type number</code></div><div class="line number98 index97 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @min 0</code></div><div class="line number99 index98 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Default animation to play for magical skills.</code></div><div class="line number100 index99 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Use 0 if you wish for no animation.</code></div><div class="line number101 index100 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default 51</code></div><div class="line number102 index101 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number103 index102 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Enemy Attack Animation</code></div><div class="line number104 index103 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Animation---</code></div><div class="line number105 index104 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type number</code></div><div class="line number106 index105 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @min 0</code></div><div class="line number107 index106 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc This is the default attack animation played by enemies.</code></div><div class="line number108 index107 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Default: 0</code></div><div class="line number109 index108 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default 39</code></div><div class="line number110 index109 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number111 index110 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Reflect Animation</code></div><div class="line number112 index111 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Animation---</code></div><div class="line number113 index112 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type number</code></div><div class="line number114 index113 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @min 0</code></div><div class="line number115 index114 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc The animation used when magic attacks are reflected.</code></div><div class="line number116 index115 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default 42</code></div><div class="line number117 index116 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number118 index117 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Motion Waiting</code></div><div class="line number119 index118 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Animation---</code></div><div class="line number120 index119 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number121 index120 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @on After</code></div><div class="line number122 index121 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @off During</code></div><div class="line number123 index122 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Play animations after performing an action or during?</code></div><div class="line number124 index123 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* During - false&nbsp;&nbsp;&nbsp;&nbsp; After - true&nbsp;&nbsp;&nbsp;&nbsp; Default: false</code></div><div class="line number125 index124 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default false</code></div><div class="line number126 index125 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number127 index126 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param ---Frontview---</code></div><div class="line number128 index127 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default</code></div><div class="line number129 index128 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number130 index129 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Front Position X</code></div><div class="line number131 index130 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Frontview---</code></div><div class="line number132 index131 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc This formula determines the actor's home X position.</code></div><div class="line number133 index132 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Default: 0</code></div><div class="line number134 index133 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default Graphics.boxWidth / 8 + Graphics.boxWidth / 4 * index</code></div><div class="line number135 index134 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number136 index135 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Front Position Y</code></div><div class="line number137 index136 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Frontview---</code></div><div class="line number138 index137 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc This formula determines the actor's home Y position.</code></div><div class="line number139 index138 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Default: 0</code></div><div class="line number140 index139 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default Graphics.boxHeight - 180</code></div><div class="line number141 index140 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number142 index141 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Front Actor Sprite</code></div><div class="line number143 index142 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Frontview---</code></div><div class="line number144 index143 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number145 index144 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @on YES</code></div><div class="line number146 index145 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @off NO</code></div><div class="line number147 index146 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Show the actor battle sprite in frontview?</code></div><div class="line number148 index147 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* NO - false&nbsp;&nbsp;&nbsp;&nbsp; YES - true&nbsp;&nbsp;&nbsp;&nbsp; Default - false</code></div><div class="line number149 index148 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default false</code></div><div class="line number150 index149 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number151 index150 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Front Sprite Priority</code></div><div class="line number152 index151 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Frontview---</code></div><div class="line number153 index152 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type select</code></div><div class="line number154 index153 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @option Normal</code></div><div class="line number155 index154 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @value 0</code></div><div class="line number156 index155 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @option Actors on Top</code></div><div class="line number157 index156 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @value 1</code></div><div class="line number158 index157 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @option Enemies on Top</code></div><div class="line number159 index158 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @value 2</code></div><div class="line number160 index159 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Give actor sprites the priority of always being on top?</code></div><div class="line number161 index160 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* 0 - Normal&nbsp;&nbsp; 1 - Actors on Top&nbsp;&nbsp; 2 - Enemies on Top</code></div><div class="line number162 index161 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default 1</code></div><div class="line number163 index162 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number164 index163 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param ---Sideview---</code></div><div class="line number165 index164 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default</code></div><div class="line number166 index165 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number167 index166 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Home Position X</code></div><div class="line number168 index167 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Sideview---</code></div><div class="line number169 index168 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc This formula determines the actor's home X position.</code></div><div class="line number170 index169 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Default: 600 + index * 32</code></div><div class="line number171 index170 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default screenWidth - 16 - (maxSize + 2) * 32 + index * 32</code></div><div class="line number172 index171 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number173 index172 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Home Position Y</code></div><div class="line number174 index173 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Sideview---</code></div><div class="line number175 index174 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc This formula determines the actor's home Y position.</code></div><div class="line number176 index175 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Default: 280 + index * 48</code></div><div class="line number177 index176 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default screenHeight - statusHeight - maxSize * 48 + (index+1) * 48 - 32</code></div><div class="line number178 index177 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number179 index178 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Side Sprite Priority</code></div><div class="line number180 index179 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Sideview---</code></div><div class="line number181 index180 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type select</code></div><div class="line number182 index181 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @option Normal</code></div><div class="line number183 index182 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @value 0</code></div><div class="line number184 index183 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @option Actors on Top</code></div><div class="line number185 index184 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @value 1</code></div><div class="line number186 index185 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @option Enemies on Top</code></div><div class="line number187 index186 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @value 2</code></div><div class="line number188 index187 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Give actor sprites the priority of always being on top?</code></div><div class="line number189 index188 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* 0 - Normal&nbsp;&nbsp; 1 - Actors on Top&nbsp;&nbsp; 2 - Enemies on Top</code></div><div class="line number190 index189 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default 1</code></div><div class="line number191 index190 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number192 index191 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param ---Sprites---</code></div><div class="line number193 index192 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default</code></div><div class="line number194 index193 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number195 index194 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Default X Anchor</code></div><div class="line number196 index195 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Sprites---</code></div><div class="line number197 index196 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type number</code></div><div class="line number198 index197 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @decimals 2</code></div><div class="line number199 index198 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Default value used for your sprites's X Anchor.</code></div><div class="line number200 index199 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Default: 0.50</code></div><div class="line number201 index200 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default 0.50</code></div><div class="line number202 index201 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number203 index202 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Default Y Anchor</code></div><div class="line number204 index203 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Sprites---</code></div><div class="line number205 index204 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type number</code></div><div class="line number206 index205 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @decimals 2</code></div><div class="line number207 index206 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Default value used for your sprites's Y Anchor.</code></div><div class="line number208 index207 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Default: 1.00</code></div><div class="line number209 index208 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default 1.00</code></div><div class="line number210 index209 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number211 index210 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Step Distance</code></div><div class="line number212 index211 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Sprites---</code></div><div class="line number213 index212 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type number</code></div><div class="line number214 index213 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc This is the distance a unit steps forward for actions.</code></div><div class="line number215 index214 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Default: 48</code></div><div class="line number216 index215 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default 48</code></div><div class="line number217 index216 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number218 index217 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Flinch Distance</code></div><div class="line number219 index218 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Sprites---</code></div><div class="line number220 index219 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @type number</code></div><div class="line number221 index220 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc In sideview, when a unit takes damage or dodges, it will</code></div><div class="line number222 index221 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* flinch a certain distance in pixels.</code></div><div class="line number223 index222 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default 12</code></div><div class="line number224 index223 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number225 index224 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Show Shadows</code></div><div class="line number226 index225 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Sprites---</code></div><div class="line number227 index226 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number228 index227 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @on Show Shadows</code></div><div class="line number229 index228 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @off Hide Shadows</code></div><div class="line number230 index229 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Do you wish to have shadows appear under actors?</code></div><div class="line number231 index230 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* NO - false&nbsp;&nbsp;&nbsp;&nbsp; YES - true</code></div><div class="line number232 index231 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default true</code></div><div class="line number233 index232 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number234 index233 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param ---Damage Popups---</code></div><div class="line number235 index234 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default</code></div><div class="line number236 index235 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number237 index236 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Popup Duration</code></div><div class="line number238 index237 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Damage Popups---</code></div><div class="line number239 index238 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type number</code></div><div class="line number240 index239 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @min 1</code></div><div class="line number241 index240 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Adjusts how many frames a popup will stay visible for.</code></div><div class="line number242 index241 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Default: 90</code></div><div class="line number243 index242 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default 128</code></div><div class="line number244 index243 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number245 index244 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Newest Popup Bottom</code></div><div class="line number246 index245 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Damage Popups---</code></div><div class="line number247 index246 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number248 index247 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @on Newest at bottom</code></div><div class="line number249 index248 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @off Newest at top</code></div><div class="line number250 index249 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Places the newest popup at the bottom of a group.</code></div><div class="line number251 index250 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* NO - false&nbsp;&nbsp;&nbsp;&nbsp; YES - true</code></div><div class="line number252 index251 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default true</code></div><div class="line number253 index252 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number254 index253 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Popup Overlap Rate</code></div><div class="line number255 index254 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Damage Popups---</code></div><div class="line number256 index255 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @type number</code></div><div class="line number257 index256 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @decimals 1</code></div><div class="line number258 index257 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc When multiple damage popups appear, they cover each other.</code></div><div class="line number259 index258 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Use this to change the buffer rate amount for each sprite.</code></div><div class="line number260 index259 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default 0.9</code></div><div class="line number261 index260 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number262 index261 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Critical Popup</code></div><div class="line number263 index262 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Damage Popups---</code></div><div class="line number264 index263 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Adjusts the popup's flashing color for critical hits.</code></div><div class="line number265 index264 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Default: 255, 0, 0, 160</code></div><div class="line number266 index265 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default 255, 0, 0, 160</code></div><div class="line number267 index266 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number268 index267 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Critical Duration</code></div><div class="line number269 index268 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Damage Popups---</code></div><div class="line number270 index269 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @type number</code></div><div class="line number271 index270 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @min 1</code></div><div class="line number272 index271 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc How many frames the flashing will remain for a critical.</code></div><div class="line number273 index272 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Default: 60</code></div><div class="line number274 index273 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default 60</code></div><div class="line number275 index274 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number276 index275 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param ---Tick-Settings---</code></div><div class="line number277 index276 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default</code></div><div class="line number278 index277 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number279 index278 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Timed States</code></div><div class="line number280 index279 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Tick-Settings---</code></div><div class="line number281 index280 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number282 index281 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @on Time-Based States</code></div><div class="line number283 index282 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @off Turn-Based States</code></div><div class="line number284 index283 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc If the battle system is Tick-based, use time instead of</code></div><div class="line number285 index284 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* turns for states? NO - false&nbsp;&nbsp; YES - true</code></div><div class="line number286 index285 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default false</code></div><div class="line number287 index286 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number288 index287 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Timed Buffs</code></div><div class="line number289 index288 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Tick-Settings---</code></div><div class="line number290 index289 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number291 index290 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @on Time-Based Buffs</code></div><div class="line number292 index291 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @off Turn-Based Buffs</code></div><div class="line number293 index292 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc If the battle system is Tick-based, use time instead of</code></div><div class="line number294 index293 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* turns for buffs? NO - false&nbsp;&nbsp; YES - true</code></div><div class="line number295 index294 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default false</code></div><div class="line number296 index295 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number297 index296 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Turn Time</code></div><div class="line number298 index297 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Tick-Settings---</code></div><div class="line number299 index298 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type number</code></div><div class="line number300 index299 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @min 1</code></div><div class="line number301 index300 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc How many ticks must past to equal 1 turn?</code></div><div class="line number302 index301 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default 100</code></div><div class="line number303 index302 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* </code></div><div class="line number304 index303 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param AI Self Turns</code></div><div class="line number305 index304 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Tick-Settings---</code></div><div class="line number306 index305 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number307 index306 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @on YES</code></div><div class="line number308 index307 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @off NO</code></div><div class="line number309 index308 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Set AI to be based on their own individual turns?</code></div><div class="line number310 index309 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* NO - false&nbsp;&nbsp;&nbsp;&nbsp; YES - true</code></div><div class="line number311 index310 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default true</code></div><div class="line number312 index311 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number313 index312 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param ---Window Settings---</code></div><div class="line number314 index313 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default</code></div><div class="line number315 index314 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number316 index315 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Lower Windows</code></div><div class="line number317 index316 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Window Settings---</code></div><div class="line number318 index317 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number319 index318 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @on Bottom Layout</code></div><div class="line number320 index319 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @off Default Layout</code></div><div class="line number321 index320 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Places the skill and item windows at the screen's bottom.</code></div><div class="line number322 index321 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* OFF - false&nbsp;&nbsp;&nbsp;&nbsp; ON - true</code></div><div class="line number323 index322 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default true</code></div><div class="line number324 index323 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number325 index324 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Window Rows</code></div><div class="line number326 index325 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Window Settings---</code></div><div class="line number327 index326 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @number</code></div><div class="line number328 index327 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @min 1</code></div><div class="line number329 index328 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc For lower windows, how many rows of items do you wish for</code></div><div class="line number330 index329 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* the windows to display?</code></div><div class="line number331 index330 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default 4</code></div><div class="line number332 index331 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number333 index332 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Command Window Rows</code></div><div class="line number334 index333 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Window Settings---</code></div><div class="line number335 index334 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type number</code></div><div class="line number336 index335 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @min 1</code></div><div class="line number337 index336 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Sets the number of rows for each command window to display.</code></div><div class="line number338 index337 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Default: 4</code></div><div class="line number339 index338 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default 4</code></div><div class="line number340 index339 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number341 index340 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Command Alignment</code></div><div class="line number342 index341 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Window Settings---</code></div><div class="line number343 index342 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type combo</code></div><div class="line number344 index343 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @option left</code></div><div class="line number345 index344 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @option center</code></div><div class="line number346 index345 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @option right</code></div><div class="line number347 index346 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Sets the text alignment for the Party/Actor Commands.</code></div><div class="line number348 index347 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Default: left</code></div><div class="line number349 index348 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default center</code></div><div class="line number350 index349 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number351 index350 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Start Actor Command</code></div><div class="line number352 index351 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Window Settings---</code></div><div class="line number353 index352 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number354 index353 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @on Actor Command Window</code></div><div class="line number355 index354 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @off Party Command Window</code></div><div class="line number356 index355 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Starts turn with the Actor Command Window instead of Party.</code></div><div class="line number357 index356 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* OFF - false&nbsp;&nbsp;&nbsp;&nbsp; ON - true</code></div><div class="line number358 index357 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default true</code></div><div class="line number359 index358 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number360 index359 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Current Max</code></div><div class="line number361 index360 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Window Settings---</code></div><div class="line number362 index361 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number363 index362 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @on Current / Max</code></div><div class="line number364 index363 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @off Just Current</code></div><div class="line number365 index364 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Display the entire current / max value of HP/MP?</code></div><div class="line number366 index365 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* NO - false&nbsp;&nbsp;&nbsp;&nbsp; YES - true&nbsp;&nbsp;&nbsp;&nbsp; Default: true</code></div><div class="line number367 index366 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default false</code></div><div class="line number368 index367 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number369 index368 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param ---Selection Help---</code></div><div class="line number370 index369 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default</code></div><div class="line number371 index370 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number372 index371 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Mouse Over</code></div><div class="line number373 index372 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Selection Help---</code></div><div class="line number374 index373 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number375 index374 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @on YES</code></div><div class="line number376 index375 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @off NO</code></div><div class="line number377 index376 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Allows you to mouse over the enemies to auto-select them.</code></div><div class="line number378 index377 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* OFF - false&nbsp;&nbsp;&nbsp;&nbsp; ON - true</code></div><div class="line number379 index378 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default true</code></div><div class="line number380 index379 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number381 index380 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Select Help Window</code></div><div class="line number382 index381 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Selection Help---</code></div><div class="line number383 index382 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number384 index383 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @on YES</code></div><div class="line number385 index384 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @off NO</code></div><div class="line number386 index385 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc When selecting actors and enemies, show the help window?</code></div><div class="line number387 index386 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* NO - false&nbsp;&nbsp;&nbsp;&nbsp; YES - true</code></div><div class="line number388 index387 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default true</code></div><div class="line number389 index388 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number390 index389 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param User Help Text</code></div><div class="line number391 index390 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Selection Help---</code></div><div class="line number392 index391 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc The singular form of 'User' used in a help window.</code></div><div class="line number393 index392 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default User</code></div><div class="line number394 index393 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number395 index394 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Ally Help Text</code></div><div class="line number396 index395 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Selection Help---</code></div><div class="line number397 index396 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc The singular form of 'Ally' used in a help window.</code></div><div class="line number398 index397 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default Ally</code></div><div class="line number399 index398 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number400 index399 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Allies Help Text</code></div><div class="line number401 index400 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Selection Help---</code></div><div class="line number402 index401 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc The plural form of 'Allies' used in a help window.</code></div><div class="line number403 index402 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default Allies</code></div><div class="line number404 index403 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number405 index404 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Enemy Help Text</code></div><div class="line number406 index405 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Selection Help---</code></div><div class="line number407 index406 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc The singular form of 'Enemy' used in a help window.</code></div><div class="line number408 index407 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default Enemy</code></div><div class="line number409 index408 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number410 index409 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Enemies Help Text</code></div><div class="line number411 index410 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Selection Help---</code></div><div class="line number412 index411 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc The plural form of 'Enemy' used in a help window.</code></div><div class="line number413 index412 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default Enemies</code></div><div class="line number414 index413 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number415 index414 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param All Help Text</code></div><div class="line number416 index415 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Selection Help---</code></div><div class="line number417 index416 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc When selecting a entire group of targets.</code></div><div class="line number418 index417 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* %1 - Target Group (Allies or Enemies)</code></div><div class="line number419 index418 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default All %1</code></div><div class="line number420 index419 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number421 index420 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Random Help Text</code></div><div class="line number422 index421 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Selection Help---</code></div><div class="line number423 index422 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc When selecting a random selection of targets.</code></div><div class="line number424 index423 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* %1 - Target Group (Allies or Enemies)&nbsp;&nbsp;&nbsp;&nbsp; %2 - Number</code></div><div class="line number425 index424 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default %2 Random %1</code></div><div class="line number426 index425 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number427 index426 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param ---Enemy Select---</code></div><div class="line number428 index427 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default</code></div><div class="line number429 index428 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number430 index429 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Visual Enemy Select</code></div><div class="line number431 index430 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Enemy Select---</code></div><div class="line number432 index431 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number433 index432 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @on YES</code></div><div class="line number434 index433 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @off NO</code></div><div class="line number435 index434 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Replaces the enemy selection screen with a more visual one.</code></div><div class="line number436 index435 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* OFF - false&nbsp;&nbsp;&nbsp;&nbsp; ON - true</code></div><div class="line number437 index436 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default true</code></div><div class="line number438 index437 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number439 index438 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Show Enemy Name</code></div><div class="line number440 index439 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Enemy Select---</code></div><div class="line number441 index440 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number442 index441 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @on YES</code></div><div class="line number443 index442 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @off NO</code></div><div class="line number444 index443 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Show enemy names with Visual Enemy Select.</code></div><div class="line number445 index444 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* OFF - false&nbsp;&nbsp;&nbsp;&nbsp; ON - true</code></div><div class="line number446 index445 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default true</code></div><div class="line number447 index446 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number448 index447 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Show Select Box</code></div><div class="line number449 index448 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Enemy Select---</code></div><div class="line number450 index449 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number451 index450 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @on YES</code></div><div class="line number452 index451 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @off NO</code></div><div class="line number453 index452 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Show a selection box when selecting enemies.</code></div><div class="line number454 index453 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* OFF - false&nbsp;&nbsp;&nbsp;&nbsp; ON - true</code></div><div class="line number455 index454 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default false</code></div><div class="line number456 index455 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number457 index456 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Enemy Font Size</code></div><div class="line number458 index457 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Enemy Select---</code></div><div class="line number459 index458 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type number</code></div><div class="line number460 index459 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @min 1</code></div><div class="line number461 index460 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Changes the font size used to display enemy names.</code></div><div class="line number462 index461 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Default: 28</code></div><div class="line number463 index462 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default 20</code></div><div class="line number464 index463 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number465 index464 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Enemy Auto Select</code></div><div class="line number466 index465 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Enemy Select---</code></div><div class="line number467 index466 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Changes what enemy is automatically selected at first.</code></div><div class="line number468 index467 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* LEFT - 0&nbsp;&nbsp;&nbsp;&nbsp; RIGHT - this.furthestRight()</code></div><div class="line number469 index468 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default this.furthestRight()</code></div><div class="line number470 index469 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number471 index470 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param ---Actor Select---</code></div><div class="line number472 index471 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default</code></div><div class="line number473 index472 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number474 index473 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Visual Actor Select</code></div><div class="line number475 index474 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Actor Select---</code></div><div class="line number476 index475 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number477 index476 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @on YES</code></div><div class="line number478 index477 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @off NO</code></div><div class="line number479 index478 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Allows you to click the actor on screen to select it.</code></div><div class="line number480 index479 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* OFF - false&nbsp;&nbsp;&nbsp;&nbsp; ON - true</code></div><div class="line number481 index480 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default true</code></div><div class="line number482 index481 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number483 index482 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param ---Battle Log---</code></div><div class="line number484 index483 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default</code></div><div class="line number485 index484 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number486 index485 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Show Emerge Text</code></div><div class="line number487 index486 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Battle Log---</code></div><div class="line number488 index487 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number489 index488 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @on YES</code></div><div class="line number490 index489 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @off NO</code></div><div class="line number491 index490 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Shows the battle start text for enemies appearing.</code></div><div class="line number492 index491 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* OFF - false&nbsp;&nbsp;&nbsp;&nbsp; ON - true</code></div><div class="line number493 index492 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default false</code></div><div class="line number494 index493 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number495 index494 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Show Pre-Emptive Text</code></div><div class="line number496 index495 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Battle Log---</code></div><div class="line number497 index496 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number498 index497 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @on YES</code></div><div class="line number499 index498 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @off NO</code></div><div class="line number500 index499 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Shows the text for getting a pre-emptive attack.</code></div><div class="line number501 index500 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* OFF - false&nbsp;&nbsp;&nbsp;&nbsp; ON - true</code></div><div class="line number502 index501 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default true</code></div><div class="line number503 index502 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number504 index503 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Show Surprise Text</code></div><div class="line number505 index504 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Battle Log---</code></div><div class="line number506 index505 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number507 index506 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @on YES</code></div><div class="line number508 index507 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @off NO</code></div><div class="line number509 index508 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Shows the text for getting a surprise attack.</code></div><div class="line number510 index509 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* OFF - false&nbsp;&nbsp;&nbsp;&nbsp; ON - true</code></div><div class="line number511 index510 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default true</code></div><div class="line number512 index511 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number513 index512 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Optimize Speed</code></div><div class="line number514 index513 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Battle Log---</code></div><div class="line number515 index514 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number516 index515 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @on YES</code></div><div class="line number517 index516 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @off NO</code></div><div class="line number518 index517 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Cuts log base line process to optimize the battle speed.</code></div><div class="line number519 index518 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* OFF - false&nbsp;&nbsp;&nbsp;&nbsp; ON - true</code></div><div class="line number520 index519 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default true</code></div><div class="line number521 index520 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number522 index521 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Show Action Text</code></div><div class="line number523 index522 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Battle Log---</code></div><div class="line number524 index523 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number525 index524 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @on Full</code></div><div class="line number526 index525 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @off Simple</code></div><div class="line number527 index526 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Displays full action text or a simplified version of it.</code></div><div class="line number528 index527 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* SIMPLE - false&nbsp;&nbsp;&nbsp;&nbsp; FULL - true</code></div><div class="line number529 index528 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default false</code></div><div class="line number530 index529 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number531 index530 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Show State Text</code></div><div class="line number532 index531 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Battle Log---</code></div><div class="line number533 index532 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number534 index533 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @on YES</code></div><div class="line number535 index534 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @off NO</code></div><div class="line number536 index535 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Shows all text regarding states.</code></div><div class="line number537 index536 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* OFF - false&nbsp;&nbsp;&nbsp;&nbsp; ON - true</code></div><div class="line number538 index537 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default false</code></div><div class="line number539 index538 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number540 index539 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Show Buff Text</code></div><div class="line number541 index540 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Battle Log---</code></div><div class="line number542 index541 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number543 index542 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @on YES</code></div><div class="line number544 index543 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @off NO</code></div><div class="line number545 index544 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Shows all text regarding buffs.</code></div><div class="line number546 index545 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* OFF - false&nbsp;&nbsp;&nbsp;&nbsp; ON - true</code></div><div class="line number547 index546 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default false</code></div><div class="line number548 index547 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number549 index548 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Show Counter Text</code></div><div class="line number550 index549 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Battle Log---</code></div><div class="line number551 index550 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number552 index551 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @on YES</code></div><div class="line number553 index552 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @off NO</code></div><div class="line number554 index553 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Shows text regarding counter attacks.</code></div><div class="line number555 index554 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* OFF - false&nbsp;&nbsp;&nbsp;&nbsp; ON - true</code></div><div class="line number556 index555 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default true</code></div><div class="line number557 index556 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number558 index557 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Show Reflect Text</code></div><div class="line number559 index558 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Battle Log---</code></div><div class="line number560 index559 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number561 index560 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @on YES</code></div><div class="line number562 index561 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @off NO</code></div><div class="line number563 index562 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Shows text regarding reflected spells.</code></div><div class="line number564 index563 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* OFF - false&nbsp;&nbsp;&nbsp;&nbsp; ON - true</code></div><div class="line number565 index564 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default true</code></div><div class="line number566 index565 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number567 index566 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Show Substitute Text</code></div><div class="line number568 index567 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Battle Log---</code></div><div class="line number569 index568 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number570 index569 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @on YES</code></div><div class="line number571 index570 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @off NO</code></div><div class="line number572 index571 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Shows text regarding substituted damage.</code></div><div class="line number573 index572 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* OFF - false&nbsp;&nbsp;&nbsp;&nbsp; ON - true</code></div><div class="line number574 index573 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default true</code></div><div class="line number575 index574 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number576 index575 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Show Fail Text</code></div><div class="line number577 index576 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Battle Log---</code></div><div class="line number578 index577 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number579 index578 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @on YES</code></div><div class="line number580 index579 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @off NO</code></div><div class="line number581 index580 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Shows text regarding failed attacks.</code></div><div class="line number582 index581 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* OFF - false&nbsp;&nbsp;&nbsp;&nbsp; ON - true</code></div><div class="line number583 index582 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default false</code></div><div class="line number584 index583 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number585 index584 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Show Critical Text</code></div><div class="line number586 index585 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Battle Log---</code></div><div class="line number587 index586 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number588 index587 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @on YES</code></div><div class="line number589 index588 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @off NO</code></div><div class="line number590 index589 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Shows text regarding critical hits.</code></div><div class="line number591 index590 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* OFF - false&nbsp;&nbsp;&nbsp;&nbsp; ON - true</code></div><div class="line number592 index591 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default false</code></div><div class="line number593 index592 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number594 index593 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Show Miss Text</code></div><div class="line number595 index594 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Battle Log---</code></div><div class="line number596 index595 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number597 index596 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @on YES</code></div><div class="line number598 index597 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @off NO</code></div><div class="line number599 index598 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Shows text regarding missed attacks.</code></div><div class="line number600 index599 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* OFF - false&nbsp;&nbsp;&nbsp;&nbsp; ON - true</code></div><div class="line number601 index600 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default false</code></div><div class="line number602 index601 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number603 index602 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Show Evasion Text</code></div><div class="line number604 index603 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Battle Log---</code></div><div class="line number605 index604 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number606 index605 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @on YES</code></div><div class="line number607 index606 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @off NO</code></div><div class="line number608 index607 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Shows text regarding evaded attacks.</code></div><div class="line number609 index608 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* OFF - false&nbsp;&nbsp;&nbsp;&nbsp; ON - true</code></div><div class="line number610 index609 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default false</code></div><div class="line number611 index610 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number612 index611 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Show HP Text</code></div><div class="line number613 index612 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Battle Log---</code></div><div class="line number614 index613 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number615 index614 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @on YES</code></div><div class="line number616 index615 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @off NO</code></div><div class="line number617 index616 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Shows text regarding HP damage or heals.</code></div><div class="line number618 index617 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* OFF - false&nbsp;&nbsp;&nbsp;&nbsp; ON - true</code></div><div class="line number619 index618 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default false</code></div><div class="line number620 index619 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number621 index620 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Show MP Text</code></div><div class="line number622 index621 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Battle Log---</code></div><div class="line number623 index622 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number624 index623 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @on YES</code></div><div class="line number625 index624 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @off NO</code></div><div class="line number626 index625 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Shows text regarding MP damage or heals.</code></div><div class="line number627 index626 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* OFF - false&nbsp;&nbsp;&nbsp;&nbsp; ON - true</code></div><div class="line number628 index627 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @default false</code></div><div class="line number629 index628 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number630 index629 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @param Show TP Text</code></div><div class="line number631 index630 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @parent ---Battle Log---</code></div><div class="line number632 index631 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @type boolean</code></div><div class="line number633 index632 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @on YES</code></div><div class="line number634 index633 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* @off NO</code></div><div class="line number635 index634 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @desc Shows text regarding TP damage or heals.</code></div><div class="line number636 index635 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* OFF - false&nbsp;&nbsp;&nbsp;&nbsp; ON - true</code></div><div class="line number637 index636 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @default false</code></div><div class="line number638 index637 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number639 index638 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* @help</code></div><div class="line number640 index639 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number641 index640 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Introduction</code></div><div class="line number642 index641 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number643 index642 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number644 index643 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* This plugin alters the various aspects of the default battle system,</code></div><div class="line number645 index644 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* allowing it to be more streamlined like most modern RPG's and less clunky</code></div><div class="line number646 index645 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* like older RPG's. This ranges from choosing what text will appear in the</code></div><div class="line number647 index646 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* battle log window at the top and how it will be displayed.</code></div><div class="line number648 index647 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number649 index648 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number650 index649 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Battle Messages</code></div><div class="line number651 index650 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number652 index651 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number653 index652 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* When changing "Terms" and the "Messages" that appear in battle, inserting</code></div><div class="line number654 index653 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* the following tag anywhere in the message will cause the message to center</code></div><div class="line number655 index654 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* itself in the battle log.</code></div><div class="line number656 index655 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number657 index656 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; &lt;CENTER&gt;</code></div><div class="line number658 index657 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; This tag must be all caps in order for the battle log window to recognize</code></div><div class="line number659 index658 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; it as an instruction to center the displayed battle text message.</code></div><div class="line number660 index659 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number661 index660 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* There are a couple of notetags you can use to change the way certain skills</code></div><div class="line number662 index661 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* and items will show up incase you don't want a name like 'Harold's Attack'</code></div><div class="line number663 index662 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* to appear in the name.</code></div><div class="line number664 index663 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number665 index664 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Skill and Item Notetags:</code></div><div class="line number666 index665 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number667 index666 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; &lt;Display Text: x&gt;</code></div><div class="line number668 index667 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; This will change the text displayed to x.</code></div><div class="line number669 index668 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number670 index669 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; &lt;Display Icon: x&gt;</code></div><div class="line number671 index670 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; This will change the icon displayed to x.</code></div><div class="line number672 index671 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number673 index672 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number674 index673 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Battle Windows</code></div><div class="line number675 index674 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number676 index675 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number677 index676 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* There's various options to adjust the window settings found in the battle</code></div><div class="line number678 index677 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* system to make navigating the battle system more intuitive. Such options</code></div><div class="line number679 index678 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* include starting the turns with the Actor Command Window instead of the</code></div><div class="line number680 index679 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Party Command Window (the Fight/Escape Window). The Party Command Window is</code></div><div class="line number681 index680 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* still accessible but only by pressing cancel on the first actor's window.</code></div><div class="line number682 index681 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number683 index682 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number684 index683 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Battle Order</code></div><div class="line number685 index684 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number686 index685 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number687 index686 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* The battle turn order is also fixed, too. This way, any battlers that Have</code></div><div class="line number688 index687 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* their AGI value changed over the course of battle will reflect those changes</code></div><div class="line number689 index688 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* during the current turn rather than the following turn. The action speed</code></div><div class="line number690 index689 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* calculation can also be adjusted and finetuned to have the random factor of</code></div><div class="line number691 index690 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* its speed calculation formula removed, too, making AGI actually worthwhile</code></div><div class="line number692 index691 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* as a tactical parameter.</code></div><div class="line number693 index692 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number694 index693 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Skill and Item Notetag:</code></div><div class="line number695 index694 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; &lt;speed: +x&gt;</code></div><div class="line number696 index695 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; &lt;speed: -x&gt;</code></div><div class="line number697 index696 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; This lets you break past the editor's limit of -2000 and 2000 allowing you</code></div><div class="line number698 index697 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; to set the speed of your actions with more control.</code></div><div class="line number699 index698 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number700 index699 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number701 index700 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Multiple Hits</code></div><div class="line number702 index701 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number703 index702 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number704 index703 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Multi-hit action will no longer end prematurely if the target dies midway</code></div><div class="line number705 index704 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* through the action. This is done through toggling immortal states. To make</code></div><div class="line number706 index705 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* use of feature, make sure your database has an Immortal State somewhere. If</code></div><div class="line number707 index706 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* you do not wish to use this feature, set the Parameter for Immortal State ID</code></div><div class="line number708 index707 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* to 0 instead.</code></div><div class="line number709 index708 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number710 index709 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number711 index710 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Popup Revamp</code></div><div class="line number712 index711 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number713 index712 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number714 index713 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Although the damage popups may still look the same as the default ones from</code></div><div class="line number715 index714 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* MV, the process in which they're created is now different to streamline the</code></div><div class="line number716 index715 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* damage popup process. Before, popups would only appear one a time with a</code></div><div class="line number717 index716 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* frame's different at minimum in order for them to show. Now, any actions</code></div><div class="line number718 index717 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* that occur at the same frame will now all show popups at the same frame,</code></div><div class="line number719 index718 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* making for smoother and less clunky damage popups.</code></div><div class="line number720 index719 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number721 index720 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number722 index721 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Common Events</code></div><div class="line number723 index722 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number724 index723 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number725 index724 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Common Events will now occur at the end of each action regardless of whether</code></div><div class="line number726 index725 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* or not the enemy party is still alive. With proper placing of the action</code></div><div class="line number727 index726 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* sequence tags, you can make the skill's common event occur in the middle of</code></div><div class="line number728 index727 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* an action, too. However, keep in mind if you force an action in the middle</code></div><div class="line number729 index728 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* of another action, the remainder of the former action's sequence list will</code></div><div class="line number730 index729 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* become null and void in favor of the new forced action.</code></div><div class="line number731 index730 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number732 index731 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number733 index732 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Casting Animations</code></div><div class="line number734 index733 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number735 index734 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number736 index735 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Casting Animations help provide visual hints for players either by letting</code></div><div class="line number737 index736 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* them know which battler is going to perform an action or what type of skill</code></div><div class="line number738 index737 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* that action will be. This plugin enables skills to have casting animations</code></div><div class="line number739 index738 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* that can be modified universally or customized for each individual skill.</code></div><div class="line number740 index739 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number741 index740 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Skill Notetag:</code></div><div class="line number742 index741 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; &lt;Cast Animation: x&gt;</code></div><div class="line number743 index742 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; Sets the skill's cast animation to animation ID x. Setting x to zero will</code></div><div class="line number744 index743 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; cause the skill to not have any animaton at all.</code></div><div class="line number745 index744 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number746 index745 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number747 index746 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Changing Battle Systems</code></div><div class="line number748 index747 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number749 index748 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number750 index749 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* While the player is not in battle, you can change the battle system using a</code></div><div class="line number751 index750 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Plugin Command. With only this plugin, there is only one battle system</code></div><div class="line number752 index751 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* included: the default battle system.</code></div><div class="line number753 index752 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number754 index753 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Plugin Command:</code></div><div class="line number755 index754 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; setBattleSys DTB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Sets battle system to Default Turn Battle.</code></div><div class="line number756 index755 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number757 index756 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Other future plugins may include other battle systems that may utilize the</code></div><div class="line number758 index757 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Battle Engine Core.</code></div><div class="line number759 index758 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number760 index759 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number761 index760 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Sideview Actions</code></div><div class="line number762 index761 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number763 index762 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number764 index763 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* In RPG Maker MV's default battle system, both the sideview and the frontview</code></div><div class="line number765 index764 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* settings do not display counterattacks, reflected magic attacks, nor any</code></div><div class="line number766 index765 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* case of substituting for battle members. The Battle Engine Core provides</code></div><div class="line number767 index766 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* games that are using the sideview settings small amounts of animations to</code></div><div class="line number768 index767 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* relay information to the player in a more visual sense.</code></div><div class="line number769 index768 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number770 index769 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Magic Reflection will also display a reflection animation to indicate the</code></div><div class="line number771 index770 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* battler has reflection properties. This animation can be changed in the</code></div><div class="line number772 index771 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* parameters, but certain actors, classes, enemies, weapons, armors, and</code></div><div class="line number773 index772 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* states can display a unique kind of animation for reflection if desired.</code></div><div class="line number774 index773 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number775 index774 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Actor, Class, Enemy, Weapon, Armor, and State Notetag:</code></div><div class="line number776 index775 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; &lt;Reflect Animation ID: x&gt;</code></div><div class="line number777 index776 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; Changes the user's reflect animation to x. This will take priority in the</code></div><div class="line number778 index777 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; following order: Actor, Class, Enemy, Weapon, Armor, State, Default.</code></div><div class="line number779 index778 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number780 index779 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Sometimes, you don't want your enemies to be able to move. Or you don't want</code></div><div class="line number781 index780 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* certain actors to be able to move. They're just stationary for whatever</code></div><div class="line number782 index781 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* reason. To accomplish that, you can use this notetag to forbid the battler</code></div><div class="line number783 index782 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* from moving.</code></div><div class="line number784 index783 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number785 index784 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Actor, Class, Enemy, Weapon, Armor, and State Notetag:</code></div><div class="line number786 index785 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; &lt;Sprite Cannot Move&gt;</code></div><div class="line number787 index786 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; Prevents the battler's sprite from moving. This will take priority in the</code></div><div class="line number788 index787 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; following order: Actor, Class, Enemy, Weapon, Armor, and State. If an</code></div><div class="line number789 index788 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; enemy is unable to move when it performs an action, it will flash white as</code></div><div class="line number790 index789 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; if it normally does in front view.</code></div><div class="line number791 index790 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number792 index791 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number793 index792 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Custom Sideview Battler Anchor</code></div><div class="line number794 index793 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number795 index794 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number796 index795 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Sideview battlers are generally centered horizontally, and grounded at their</code></div><div class="line number797 index796 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* feet. However, not all sideview battler spritesheets work this way. In the</code></div><div class="line number798 index797 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* event you have a sideview battler that doesn't conform to those standards,</code></div><div class="line number799 index798 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* you can 'anchor' them a different way.</code></div><div class="line number800 index799 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number801 index800 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Actor, Class, Weapon, Armor, State Notetags:</code></div><div class="line number802 index801 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; &lt;Anchor X: y.z&gt;</code></div><div class="line number803 index802 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; &lt;Anchor Y: y.z&gt;</code></div><div class="line number804 index803 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; This sets the anchor location for the actor's sideview battler at y.z.</code></div><div class="line number805 index804 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; By default, the X anchor is 0.5 while the Y anchor is 1.0. If you want</code></div><div class="line number806 index805 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; the X anchor to be a bit more to the left, make it less than 0.5. Make it</code></div><div class="line number807 index806 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; more than 0.5 to make the X anchor more towards the right. To raise the</code></div><div class="line number808 index807 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; Y anchor, set the number value to less than 1.0. Keep adjusting until you</code></div><div class="line number809 index808 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; find that perfect anchor setting.</code></div><div class="line number810 index809 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number811 index810 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* If an anchor has multiple traits that yield different anchors, it will be</code></div><div class="line number812 index811 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* used in a priority list akin to this order:</code></div><div class="line number813 index812 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number814 index813 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; States</code></div><div class="line number815 index814 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; Weapons</code></div><div class="line number816 index815 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; Armors</code></div><div class="line number817 index816 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; Class</code></div><div class="line number818 index817 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; Actor</code></div><div class="line number819 index818 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; Default</code></div><div class="line number820 index819 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number821 index820 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* The higher it is on the priority list, the higher its priority.</code></div><div class="line number822 index821 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number823 index822 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number824 index823 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Enemy Attack Animation</code></div><div class="line number825 index824 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number826 index825 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number827 index826 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* To give your enemies unique attack animations, you can use this notetag:</code></div><div class="line number828 index827 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number829 index828 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Enemy Notetag:</code></div><div class="line number830 index829 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; &lt;Attack Animation: x&gt;</code></div><div class="line number831 index830 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; Replace x with the ID of the battle animation you wish to set as the</code></div><div class="line number832 index831 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; enemy's default attack animation.</code></div><div class="line number833 index832 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number834 index833 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number835 index834 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Automatic State Removal Conditions</code></div><div class="line number836 index835 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number837 index836 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number838 index837 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* By default, RPG Maker MV's battle system has automatic state removal under</code></div><div class="line number839 index838 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* three different conditions: none, action end, turn end.</code></div><div class="line number840 index839 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number841 index840 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* None and Turn End are working as intended. However, Action End, however, had</code></div><div class="line number842 index841 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* the states removed at the start of the battler's action rather than the end.</code></div><div class="line number843 index842 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* This is changed and updated to occur only at the end of a battler's action.</code></div><div class="line number844 index843 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number845 index844 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Two more automatic conditions are now added: Action Start and Turn Start.</code></div><div class="line number846 index845 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* These can be added and implemented using the following notetags:</code></div><div class="line number847 index846 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number848 index847 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* State Notetags:</code></div><div class="line number849 index848 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; &lt;Action Start: x&gt;</code></div><div class="line number850 index849 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; &lt;Action Start: x to y&gt;</code></div><div class="line number851 index850 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; This will cause this state to update its turns remaining at the start of</code></div><div class="line number852 index851 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; an action. x is the number of turns it will last. If you use x to y, upon</code></div><div class="line number853 index852 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; applying the state, the state will be removed a random number of turns</code></div><div class="line number854 index853 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; from x to y.</code></div><div class="line number855 index854 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number856 index855 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; &lt;Turn Start: x&gt;</code></div><div class="line number857 index856 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; &lt;Turn Start: x to y&gt;</code></div><div class="line number858 index857 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; This will cause the state to update its turns remaining at the start of a</code></div><div class="line number859 index858 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; battle turn. x is the number of turns it will last. If you use x to y,</code></div><div class="line number860 index859 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; upon applying the state, the state will be removed a random number of</code></div><div class="line number861 index860 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; turns from x to y.</code></div><div class="line number862 index861 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number863 index862 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* States with Action End have a unique trait to them where if the caster of</code></div><div class="line number864 index863 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* the state is the current active battler (subject) and if the state is then</code></div><div class="line number865 index864 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* applied on the user itself, they will gain a 'free turn'. The 'free turn' is</code></div><div class="line number866 index865 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* to mitigate the user from losing 1 duration of the turn since with an Action</code></div><div class="line number867 index866 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* End timing, they would lose the benefit of being under the state for that</code></div><div class="line number868 index867 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* turn's timing.</code></div><div class="line number869 index868 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number870 index869 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number871 index870 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Action Sequences</code></div><div class="line number872 index871 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number873 index872 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number874 index873 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* The Yanfly Engine Plugins - Battle Engine Core includes the capability of</code></div><div class="line number875 index874 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* using custom action sequences. Action sequences are basic instructions for</code></div><div class="line number876 index875 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* the game to creating a customized skill both visually and mechanically.</code></div><div class="line number877 index876 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* The Battle Engine Core, however, will only include the most basic of action</code></div><div class="line number878 index877 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* sequences so the instructions on how to create a custom action sequence will</code></div><div class="line number879 index878 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* be included in the Help file on future extension plugins for this plugin.</code></div><div class="line number880 index879 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number881 index880 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number882 index881 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Changelog</code></div><div class="line number883 index882 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* ============================================================================</code></div><div class="line number884 index883 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number885 index884 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.46:</code></div><div class="line number886 index885 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Updated for RPG Maker MV version 1.6.1.</code></div><div class="line number887 index886 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number888 index887 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.45:</code></div><div class="line number889 index888 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Updated for RPG Maker MV version 1.5.0.</code></div><div class="line number890 index889 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number891 index890 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.44:</code></div><div class="line number892 index891 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug where the enemy name windows disappear if you change scenes</code></div><div class="line number893 index892 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* mid-way through battle and return to it.</code></div><div class="line number894 index893 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number895 index894 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.43b:</code></div><div class="line number896 index895 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Bug fixed to prevent crash if non-existent actions are used.</code></div><div class="line number897 index896 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Optimization update.</code></div><div class="line number898 index897 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number899 index898 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.42:</code></div><div class="line number900 index899 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Optimization update.</code></div><div class="line number901 index900 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number902 index901 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.41:</code></div><div class="line number903 index902 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug that allowed certain sprites to remain in the active pool</code></div><div class="line number904 index903 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* while party members were removed midway through battle.</code></div><div class="line number905 index904 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number906 index905 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.40:</code></div><div class="line number907 index906 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Updated for RPG Maker MV version 1.3.2.</code></div><div class="line number908 index907 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number909 index908 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.39c:</code></div><div class="line number910 index909 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug that caused dead actors to not be a part of action sequence</code></div><div class="line number911 index910 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* targeting for "Not Focus".</code></div><div class="line number912 index911 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Optimization update.</code></div><div class="line number913 index912 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Updated "queueForceAction" to utilize both numbers and actual targets.</code></div><div class="line number914 index913 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number915 index914 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.38a:</code></div><div class="line number916 index915 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Optimization update.</code></div><div class="line number917 index916 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Compatibility update for Selection Control v1.08.</code></div><div class="line number918 index917 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Bug fixed for mirrored animations on enemies.</code></div><div class="line number919 index918 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number920 index919 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.37:</code></div><div class="line number921 index920 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug where if the enemy's size is too small, the enemy's name</code></div><div class="line number922 index921 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* during selection will be cut off.</code></div><div class="line number923 index922 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number924 index923 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.36d:</code></div><div class="line number925 index924 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Made an update for the battle background image snaps when there is no</code></div><div class="line number926 index925 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* battleback being used. This will prevent the player party and enemy troop</code></div><div class="line number927 index926 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* from appearing in the background snapshot when entering menus mid-battle.</code></div><div class="line number928 index927 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - 'Death Break' action sequence now only triggers upon dead status and not</code></div><div class="line number929 index928 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* an 'or 0 HP' condition.</code></div><div class="line number930 index929 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Updated Forced Action sequencing for more efficiency.</code></div><div class="line number931 index930 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - 'Action Times+' traits now work properly for DTB again.</code></div><div class="line number932 index931 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Optimized message displaying for battle log.</code></div><div class="line number933 index932 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Optimized z sorting algorithm for sprites.</code></div><div class="line number934 index933 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number935 index934 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Verison 1.35d:</code></div><div class="line number936 index935 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Scopes that target a dead ally will automatically target the first dead</code></div><div class="line number937 index936 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* ally now. Scopes that target all dead allies will lock onto the first dead</code></div><div class="line number938 index937 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* ally. This will hopefully provide less confusion amongst playing.</code></div><div class="line number939 index938 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Added anti-crash measure for sprite bitmaps.</code></div><div class="line number940 index939 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Added anti-crash measure for faux actions.</code></div><div class="line number941 index940 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Added anti-crash measure to prevent non-existant animations from playing.</code></div><div class="line number942 index941 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Added a check that prevents hidden battlers from appearing when using</code></div><div class="line number943 index942 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* certain action sequences.</code></div><div class="line number944 index943 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number945 index944 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.34a:</code></div><div class="line number946 index945 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug where 'NOT FOCUS' targets were not including dead members.</code></div><div class="line number947 index946 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug where using NOT FOCUS would cause dead targets to be visible.</code></div><div class="line number948 index947 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number949 index948 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.33:</code></div><div class="line number950 index949 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Updated for RPG Maker MV version 1.1.0.</code></div><div class="line number951 index950 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number952 index951 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.32d:</code></div><div class="line number953 index952 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug that caused a crash when an actor died.</code></div><div class="line number954 index953 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Added a motion engine to be used for future plugins.</code></div><div class="line number955 index954 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Preparation for a future plugin.</code></div><div class="line number956 index955 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - &lt;Anchor X: y.z&gt; and &lt;Anchor Y: y.z&gt; notetags for actors are now extended</code></div><div class="line number957 index956 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* to actors, classes, weapons, armors, and states.</code></div><div class="line number958 index957 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Added &lt;Display Text: x&gt; and &lt;Display Icon: x&gt; notetags for skills and</code></div><div class="line number959 index958 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* items. These notetags will alter the display name shown and icon shown</code></div><div class="line number960 index959 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* respectively while performing a skill.</code></div><div class="line number961 index960 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Switched Magic Reflect checking order with Counterattack checking order.</code></div><div class="line number962 index961 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* This is to give priority to reflected actions over countered actions.</code></div><div class="line number963 index962 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number964 index963 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.31b:</code></div><div class="line number965 index964 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - States with Action End now have a unique trait to them where if the caster</code></div><div class="line number966 index965 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* of the state is the current active battler (subject) and if the state is</code></div><div class="line number967 index966 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* then applied on the user itself, they will gain a 'free turn'. The 'free</code></div><div class="line number968 index967 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* turn' is to mitigate the user from losing 1 duration of the turn since with</code></div><div class="line number969 index968 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* an Action End timing, they would lose the benefit of being under the state</code></div><div class="line number970 index969 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* for that turn's timing.</code></div><div class="line number971 index970 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Added failsafes for Free Turns in case other plugins have overwritten the</code></div><div class="line number972 index971 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* on battle start functions.</code></div><div class="line number973 index972 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Added a compatibility update to Animated SV Enemies for dead motion.</code></div><div class="line number974 index973 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number975 index974 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.30:</code></div><div class="line number976 index975 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Optimization update.</code></div><div class="line number977 index976 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug that prevented added state effects be unable to apply if they</code></div><div class="line number978 index977 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* are an added Death state.</code></div><div class="line number979 index978 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Battlelog lines are now able to display text codes.</code></div><div class="line number980 index979 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number981 index980 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.29:</code></div><div class="line number982 index981 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug with the 'else if' action sequences not working in the right</code></div><div class="line number983 index982 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* order of sequence conditions.</code></div><div class="line number984 index983 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number985 index984 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.28d:</code></div><div class="line number986 index985 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug if instant casting a skill that would make an opponent battler</code></div><div class="line number987 index986 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* to force an action to end incorrectly. Thanks to DoubleX for the fix.</code></div><div class="line number988 index987 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug with mouse over not working properly.</code></div><div class="line number989 index988 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug regarding forced actions that will cause the battle to freeze</code></div><div class="line number990 index989 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* if the forced action causes the main active subject to leave the battle.</code></div><div class="line number991 index990 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug with timed states not updating their turns properly.</code></div><div class="line number992 index991 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Changed priority of IF action sequences to higher to no longer interfere</code></div><div class="line number993 index992 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* other action sequences.</code></div><div class="line number994 index993 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number995 index994 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.27:</code></div><div class="line number996 index995 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Mechanic change. This will only affect those using turn-based state timing</code></div><div class="line number997 index996 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* mechanics. Turn End state updates are now shifted from Turn End to occur at</code></div><div class="line number998 index997 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Regeneration timing to have a more synchronized aspect. The timings are very</code></div><div class="line number999 index998 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* close so there's next to no notice in difference. Buff turn updates are also</code></div><div class="line number1000 index999 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* moved to the regeneration timing, too.</code></div><div class="line number1001 index1000 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number1002 index1001 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.26:</code></div><div class="line number1003 index1002 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Added 'Mouse Over' parameter to Selection Help. This parameter enables</code></div><div class="line number1004 index1003 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* mouse users to simply hover over the enemy to select them rather than having</code></div><div class="line number1005 index1004 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* to click an enemy twice to select them.</code></div><div class="line number1006 index1005 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number1007 index1006 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.25f:</code></div><div class="line number1008 index1007 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Added failsafes for Forced Action queues.</code></div><div class="line number1009 index1008 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Added 'Show Select Box' parameter when selecting enemies.</code></div><div class="line number1010 index1009 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug that caused End Turn events to not function properly.</code></div><div class="line number1011 index1010 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Battle animations, by default, are positioned relative to the base bitmap</code></div><div class="line number1012 index1011 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* for its target sprite. However, actor sprites do not have a base bitmap and</code></div><div class="line number1013 index1012 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* therefore, battle animations, regardless of position, will always target the</code></div><div class="line number1014 index1013 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* actor sprite's feet. This update now gives actor sprites a base bitmap.</code></div><div class="line number1015 index1014 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Readjusted sprite width and sprite height calculations.</code></div><div class="line number1016 index1015 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Added a failsafe for when no sideview actor graphics are used.</code></div><div class="line number1017 index1016 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number1018 index1017 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.24:</code></div><div class="line number1019 index1018 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Implemented a Forced Action queue list. This means if a Forced Action</code></div><div class="line number1020 index1019 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* takes place in the middle of an action, the action will resume after the</code></div><div class="line number1021 index1020 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* forced action finishes rather than cancels it out like MV does.</code></div><div class="line number1022 index1021 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* </code></div><div class="line number1023 index1022 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.23:</code></div><div class="line number1024 index1023 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug that didn't regenerate HP/MP/TP properly for tick-based.</code></div><div class="line number1025 index1024 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number1026 index1025 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.22:</code></div><div class="line number1027 index1026 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug within MV that caused Forced Actions at Turn End to prompt and</code></div><div class="line number1028 index1027 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* trigger all turn-end related activities (such as regeneration and state turn</code></div><div class="line number1029 index1028 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* updating).</code></div><div class="line number1030 index1029 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Made a mechanic change so that Action Start and Action End state turns do</code></div><div class="line number1031 index1030 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* not update their turns through forced actions.</code></div><div class="line number1032 index1031 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number1033 index1032 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.21:</code></div><div class="line number1034 index1033 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug where states Action End weren't going down properly with DTB.</code></div><div class="line number1035 index1034 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number1036 index1035 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.20:</code></div><div class="line number1037 index1036 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug where revived actors using instant cast aren't properly set to</code></div><div class="line number1038 index1037 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* use actions immediately.</code></div><div class="line number1039 index1038 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number1040 index1039 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.19:</code></div><div class="line number1041 index1040 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Added &lt;Attack Animation: x&gt; notetag for enemies.</code></div><div class="line number1042 index1041 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Added 'AI Self Turns' for Tick-Based Battles. Enemies can now have their</code></div><div class="line number1043 index1042 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* A.I. revolve around their own individual turns rather than the battle's.</code></div><div class="line number1044 index1043 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Mechanic change for states. Following suit with the change to Action End</code></div><div class="line number1045 index1044 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* removal, there are now two more conditions added: Action Start, Turn Start.</code></div><div class="line number1046 index1045 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Added &lt;Action Start: x&gt;, &lt;Action Start: x to y&gt;, &lt;Turn Start: x&gt;, and</code></div><div class="line number1047 index1046 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* &lt;Turn Start: x to y&gt; notetags for automatic state removal.</code></div><div class="line number1048 index1047 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number1049 index1048 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.18:</code></div><div class="line number1050 index1049 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug with irregular targeting scopes.</code></div><div class="line number1051 index1050 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed an MV-related bug with Recover All event not refreshing battlers.</code></div><div class="line number1052 index1051 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* </code></div><div class="line number1053 index1052 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.17b:</code></div><div class="line number1054 index1053 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug with action end states to remove multiple at once.</code></div><div class="line number1055 index1054 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a visual error with flinching sprites.</code></div><div class="line number1056 index1055 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Added 'Current Max' parameter to change HP current/max display in battle.</code></div><div class="line number1057 index1056 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Mechanic change for states that update on Action End to end at the end of</code></div><div class="line number1058 index1057 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* a battler's turn instead of at the start.</code></div><div class="line number1059 index1058 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Began preparations for another battle system.</code></div><div class="line number1060 index1059 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number1061 index1060 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.16:</code></div><div class="line number1062 index1061 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed an issue with mirrored enemies having mirrored state icons.</code></div><div class="line number1063 index1062 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number1064 index1063 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.15a:</code></div><div class="line number1065 index1064 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug revolving the status window not updating.</code></div><div class="line number1066 index1065 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Updated default home position formula to better fit other party sizes.</code></div><div class="line number1067 index1066 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* New Home Position X:</code></div><div class="line number1068 index1067 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; screenWidth - 16 - (maxSize + 2) * 32 + index * 32</code></div><div class="line number1069 index1068 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* New Home Position Y:</code></div><div class="line number1070 index1069 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*&nbsp;&nbsp; screenHeight - statusHeight - maxSize * 48 + (index+1) * 48 - 16</code></div><div class="line number1071 index1070 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number1072 index1071 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.14:</code></div><div class="line number1073 index1072 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug with Forced Actions locking out the battle.</code></div><div class="line number1074 index1073 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - New mechanic: For tick-based battle systems, states with action-end will</code></div><div class="line number1075 index1074 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* go down in turns based on how many actions took place for the actor instead.</code></div><div class="line number1076 index1075 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Previously, they were indistinguishable from states with Turn End removal.</code></div><div class="line number1077 index1076 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - New mechanic: Using Instant Skills/Items from YEP_InstantCast.js will also</code></div><div class="line number1078 index1077 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* cause states with action-end to go down in turns upon using actions.</code></div><div class="line number1079 index1078 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number1080 index1079 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.13a:</code></div><div class="line number1081 index1080 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug that made battlebacks disappear.</code></div><div class="line number1082 index1081 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Reworked visual enemy selection.</code></div><div class="line number1083 index1082 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Victory phase doesn't immediately display level up changes in battle</code></div><div class="line number1084 index1083 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* status window.</code></div><div class="line number1085 index1084 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug with the visual enemy select showing dead enemy names.</code></div><div class="line number1086 index1085 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number1087 index1086 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.12b:</code></div><div class="line number1088 index1087 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - If the Battle HUD has been hidden for whatever reason during the victory</code></div><div class="line number1089 index1088 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* sequence, it will be returned.</code></div><div class="line number1090 index1089 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Added &lt;speed: +x&gt; and &lt;speed: -x&gt; notetags to break past editor limits.</code></div><div class="line number1091 index1090 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Added new conditions where the battle won't end until all action sequences</code></div><div class="line number1092 index1091 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* have been fulfilled.</code></div><div class="line number1093 index1092 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number1094 index1093 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.11:</code></div><div class="line number1095 index1094 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug that didn't show HP/MP Regeneration.</code></div><div class="line number1096 index1095 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number1097 index1096 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.10:</code></div><div class="line number1098 index1097 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Removed immortal state dependancy. Immortality is now its own setting.</code></div><div class="line number1099 index1098 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Added more abbreviated variables for action speed calculation.</code></div><div class="line number1100 index1099 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug where all-scope attacks would reveal Appear-Halfway enemies.</code></div><div class="line number1101 index1100 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug where the battle wouldn't end if the final enemy was killed</code></div><div class="line number1102 index1101 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* by state damage.</code></div><div class="line number1103 index1102 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number1104 index1103 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.09:</code></div><div class="line number1105 index1104 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a undefined actor bug for refreshing the status window.</code></div><div class="line number1106 index1105 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Added 'Show Shadows' parameter to the plugin settings.</code></div><div class="line number1107 index1106 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Reworked the default action sequences so that forced actions do not appear</code></div><div class="line number1108 index1107 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* on top of each other and party-heal animations occur simultaneously.</code></div><div class="line number1109 index1108 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number1110 index1109 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.08:</code></div><div class="line number1111 index1110 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug where battlers gaining HP/MP in the damage formula for</code></div><div class="line number1112 index1111 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* themselves wouldn't trigger popups.</code></div><div class="line number1113 index1112 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug where if the party failed to escape from battle, states that</code></div><div class="line number1114 index1113 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* would be removed by battle still get removed. *Fixed by Emjenoeg*</code></div><div class="line number1115 index1114 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug where instant death skills didn't work.</code></div><div class="line number1116 index1115 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Changed Sprite Priority settings to decide whether actors, enemies, or</code></div><div class="line number1117 index1116 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* neither would always be on top.</code></div><div class="line number1118 index1117 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number1119 index1118 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.07:</code></div><div class="line number1120 index1119 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Optimized status window to refresh at a minimum.</code></div><div class="line number1121 index1120 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Set up frame work for future plugins:</code></div><div class="line number1122 index1121 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Added 'Escape Ratio' and 'Fail Escape Boost' to parameters to allow users</code></div><div class="line number1123 index1122 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* to set the escape ratio they want.</code></div><div class="line number1124 index1123 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Added 'Front Sprite Priority' and 'Side Sprite Priority' to parameters to</code></div><div class="line number1125 index1124 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* dictate if actor sprites are always on top.</code></div><div class="line number1126 index1125 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Added 'Tick-Settings' category for tick-based battle systems.</code></div><div class="line number1127 index1126 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number1128 index1127 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.06:</code></div><div class="line number1129 index1128 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug that causes dead actors at the start of battle to not spawn.</code></div><div class="line number1130 index1129 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug where the help window on an empty slot would show the</code></div><div class="line number1131 index1130 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* previous skill's message.</code></div><div class="line number1132 index1131 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number1133 index1132 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.05:</code></div><div class="line number1134 index1133 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Added new target typing: Character X, which allows you to select</code></div><div class="line number1135 index1134 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* specifically the actor with an actor ID of X if he/she/it is in the party.</code></div><div class="line number1136 index1135 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug that prevented Miss and Evade popups from showing.</code></div><div class="line number1137 index1136 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number1138 index1137 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.04:</code></div><div class="line number1139 index1138 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug where popups didn't show under certain animation types.</code></div><div class="line number1140 index1139 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed certain battler motions from not refreshing correctly.</code></div><div class="line number1141 index1140 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Actions with no scope will not trigger the confirmation selection window.</code></div><div class="line number1142 index1141 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number1143 index1142 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.03:</code></div><div class="line number1144 index1143 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Added 'Wait for Effect' action sequence.</code></div><div class="line number1145 index1144 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Actions now wait for effects (such as collapsing) to be done before</code></div><div class="line number1146 index1145 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* continuing on with battle or to end battle.</code></div><div class="line number1147 index1146 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number1148 index1147 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.02:</code></div><div class="line number1149 index1148 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed a bug where the help window would retain descriptions on no skills.</code></div><div class="line number1150 index1149 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Synched up weapons with actor sprites so they would occur simultaneously.</code></div><div class="line number1151 index1150 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Fixed an issue where requesting certain motions from enemies that don't</code></div><div class="line number1152 index1151 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* exist would cause them to crash.</code></div><div class="line number1153 index1152 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number1154 index1153 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.01:</code></div><div class="line number1155 index1154 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* - Skills and items that affect both HP and MP will now show popups for both.</code></div><div class="line number1156 index1155 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">*</code></div><div class="line number1157 index1156 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">* Version 1.00:</code></div><div class="line number1158 index1157 alt1"><code class="js spaces">&nbsp;</code><code class="js comments">* - Finished plugin!</code></div><div class="line number1159 index1158 alt2"><code class="js spaces">&nbsp;</code><code class="js comments">*/</code></div><div class="line number1160 index1159 alt1"><code class="js comments">//=============================================================================</code></div><div class="line number1161 index1160 alt2">&nbsp;</div><div class="line number1162 index1161 alt1"><code class="js comments">//=============================================================================</code></div><div class="line number1163 index1162 alt2"><code class="js comments">// Parameter Variables</code></div><div class="line number1164 index1163 alt1"><code class="js comments">//=============================================================================</code></div><div class="line number1165 index1164 alt2">&nbsp;</div><div class="line number1166 index1165 alt1"><code class="js plain">Yanfly.Parameters = PluginManager.parameters('YEP_BattleEngineCore</code><code class="js string">');</code></div><div class="line number1167 index1166 alt2"><code class="js string">Yanfly.Param = Yanfly.Param || {};</code></div><div class="line number1168 index1167 alt1">&nbsp;</div><div class="line number1169 index1168 alt2"><code class="js string">Yanfly.Param.BECSystem = String(Yanfly.Parameters['</code><code class="js plain">Default System</code><code class="js string">']);</code></div><div class="line number1170 index1169 alt1"><code class="js string">Yanfly.Param.BECEscRatio = String(Yanfly.Parameters['</code><code class="js plain">Escape Ratio</code><code class="js string">']);</code></div><div class="line number1171 index1170 alt2"><code class="js string">Yanfly.Param.BECEscFail = String(Yanfly.Parameters['</code><code class="js plain">Fail Escape Boost</code><code class="js string">']);</code></div><div class="line number1172 index1171 alt1"><code class="js string">Yanfly.Param.CastCertHit = Number(Yanfly.Parameters['</code><code class="js plain">Certain Hit Animation</code><code class="js string">']);</code></div><div class="line number1173 index1172 alt2"><code class="js string">Yanfly.Param.CastPhysical = Number(Yanfly.Parameters['</code><code class="js plain">Physical Animation</code><code class="js string">']);</code></div><div class="line number1174 index1173 alt1"><code class="js string">Yanfly.Param.CastMagical = Number(Yanfly.Parameters['</code><code class="js plain">Magical Animation</code><code class="js string">']);</code></div><div class="line number1175 index1174 alt2"><code class="js string">Yanfly.Param.EnemyAtkAni = Number(Yanfly.Parameters['</code><code class="js plain">Enemy Attack Animation</code><code class="js string">']);</code></div><div class="line number1176 index1175 alt1"><code class="js string">Yanfly.Param.BECOptSpeed = String(Yanfly.Parameters['</code><code class="js plain">Optimize Speed</code><code class="js string">']);</code></div><div class="line number1177 index1176 alt2"><code class="js string">Yanfly.Param.BECOptSpeed = eval(Yanfly.Param.BECOptSpeed);</code></div><div class="line number1178 index1177 alt1"><code class="js string">Yanfly.Param.BECEmergeText = String(Yanfly.Parameters['</code><code class="js plain">Show Emerge Text</code><code class="js string">']);</code></div><div class="line number1179 index1178 alt2"><code class="js string">Yanfly.Param.BECEmergeText = eval(Yanfly.Param.BECEmergeText);</code></div><div class="line number1180 index1179 alt1"><code class="js string">Yanfly.Param.BECPreEmpText = String(Yanfly.Parameters['</code><code class="js plain">Show Pre-Emptive Text</code><code class="js string">']);</code></div><div class="line number1181 index1180 alt2"><code class="js string">Yanfly.Param.BECPreEmpText = eval(Yanfly.Param.BECPreEmpText);</code></div><div class="line number1182 index1181 alt1"><code class="js string">Yanfly.Param.BECSurpText = String(Yanfly.Parameters['</code><code class="js plain">Show Surprise Text</code><code class="js string">']);</code></div><div class="line number1183 index1182 alt2"><code class="js string">Yanfly.Param.BECSurpText = eval(Yanfly.Param.BECSurpText);</code></div><div class="line number1184 index1183 alt1"><code class="js string">Yanfly.Param.BECPopupOverlap = String(Yanfly.Parameters['</code><code class="js plain">Popup Overlap Rate</code><code class="js string">']);</code></div><div class="line number1185 index1184 alt2"><code class="js string">Yanfly.Param.BECPopupOverlap = eval(Yanfly.Param.BECPopupOverlap);</code></div><div class="line number1186 index1185 alt1"><code class="js string">Yanfly.Param.BECNewPopBottom = String(Yanfly.Parameters['</code><code class="js plain">Newest Popup Bottom</code><code class="js string">']);</code></div><div class="line number1187 index1186 alt2"><code class="js string">Yanfly.Param.BECNewPopBottom = eval(Yanfly.Param.BECNewPopBottom);</code></div><div class="line number1188 index1187 alt1"><code class="js string">Yanfly.Param.BECStartActCmd = String(Yanfly.Parameters['</code><code class="js plain">Start Actor Command</code><code class="js string">']);</code></div><div class="line number1189 index1188 alt2"><code class="js string">Yanfly.Param.BECStartActCmd = eval(Yanfly.Param.BECStartActCmd);</code></div><div class="line number1190 index1189 alt1"><code class="js string">Yanfly.Param.BECCurMax = eval(String(Yanfly.Parameters['</code><code class="js plain">Current Max</code><code class="js string">']));</code></div><div class="line number1191 index1190 alt2"><code class="js string">Yanfly.Param.BECSelectHelp = String(Yanfly.Parameters['</code><code class="js plain">Select Help Window</code><code class="js string">']);</code></div><div class="line number1192 index1191 alt1"><code class="js string">Yanfly.Param.BECSelectHelp = eval(Yanfly.Param.BECSelectHelp);</code></div><div class="line number1193 index1192 alt2"><code class="js string">Yanfly.Param.BECHelpUserTx = String(Yanfly.Parameters['</code><code class="js plain">User Help Text</code><code class="js string">']);</code></div><div class="line number1194 index1193 alt1"><code class="js string">Yanfly.Param.BECHelpAllyTx = String(Yanfly.Parameters['</code><code class="js plain">Ally Help Text</code><code class="js string">']);</code></div><div class="line number1195 index1194 alt2"><code class="js string">Yanfly.Param.BECHelpAlliesTx = String(Yanfly.Parameters['</code><code class="js plain">Allies Help Text</code><code class="js string">']);</code></div><div class="line number1196 index1195 alt1"><code class="js string">Yanfly.Param.BECHelpEnemyTx = String(Yanfly.Parameters['</code><code class="js plain">Enemy Help Text</code><code class="js string">']);</code></div><div class="line number1197 index1196 alt2"><code class="js string">Yanfly.Param.BECHelpEnemiesTx = String(Yanfly.Parameters['</code><code class="js plain">Enemies Help Text</code><code class="js string">']);</code></div><div class="line number1198 index1197 alt1"><code class="js string">Yanfly.Param.BECHelpAllTx = String(Yanfly.Parameters['</code><code class="js plain">All Help Text</code><code class="js string">']);</code></div><div class="line number1199 index1198 alt2"><code class="js string">Yanfly.Param.BECHelpRandTx = String(Yanfly.Parameters['</code><code class="js plain">Random Help Text</code><code class="js string">']);</code></div><div class="line number1200 index1199 alt1"><code class="js string">Yanfly.Param.BECFrontPosX = String(Yanfly.Parameters['</code><code class="js plain">Front Position X</code><code class="js string">']);</code></div><div class="line number1201 index1200 alt2"><code class="js string">Yanfly.Param.BECFrontPosY = String(Yanfly.Parameters['</code><code class="js plain">Front Position Y</code><code class="js string">']);</code></div><div class="line number1202 index1201 alt1"><code class="js string">Yanfly.Param.BECFrontSprite = String(Yanfly.Parameters['</code><code class="js plain">Front Actor Sprite</code><code class="js string">']);</code></div><div class="line number1203 index1202 alt2"><code class="js string">Yanfly.Param.BECFrontSprite = eval(Yanfly.Param.BECFrontSprite);</code></div><div class="line number1204 index1203 alt1"><code class="js string">Yanfly.Param.BECFrSpPrio = String(Yanfly.Parameters['</code><code class="js plain">Front Sprite Priority</code><code class="js string">']);</code></div><div class="line number1205 index1204 alt2"><code class="js string">Yanfly.Param.BECHomePosX = String(Yanfly.Parameters['</code><code class="js plain">Home Position X</code><code class="js string">']);</code></div><div class="line number1206 index1205 alt1"><code class="js string">Yanfly.Param.BECHomePosY = String(Yanfly.Parameters['</code><code class="js plain">Home Position Y</code><code class="js string">']);</code></div><div class="line number1207 index1206 alt2"><code class="js string">Yanfly.Param.BECSideSpPrio = String(Yanfly.Parameters['</code><code class="js plain">Side Sprite Priority</code><code class="js string">']);</code></div><div class="line number1208 index1207 alt1"><code class="js string">Yanfly.Param.BECSideSpPrio = eval(Yanfly.Param.BECSideSpPrio);</code></div><div class="line number1209 index1208 alt2"><code class="js string">Yanfly.Param.BECAnchorX = Number(Yanfly.Parameters['</code><code class="js plain">Default X Anchor</code><code class="js string">']);</code></div><div class="line number1210 index1209 alt1"><code class="js string">Yanfly.Param.BECAnchorY = Number(Yanfly.Parameters['</code><code class="js plain">Default Y Anchor</code><code class="js string">']);</code></div><div class="line number1211 index1210 alt2"><code class="js string">Yanfly.Param.BECStepDist = Number(Yanfly.Parameters['</code><code class="js plain">Step Distance</code><code class="js string">']);</code></div><div class="line number1212 index1211 alt1"><code class="js string">Yanfly.Param.BECFlinchDist = Number(Yanfly.Parameters['</code><code class="js plain">Flinch Distance</code><code class="js string">']);</code></div><div class="line number1213 index1212 alt2"><code class="js string">Yanfly.Param.BECShowShadows = String(Yanfly.Parameters['</code><code class="js plain">Show Shadows</code><code class="js string">']);</code></div><div class="line number1214 index1213 alt1"><code class="js string">Yanfly.Param.BECShowShadows = eval(Yanfly.Param.BECShowShadows);</code></div><div class="line number1215 index1214 alt2"><code class="js string">Yanfly.Param.BECPopupDur = Number(Yanfly.Parameters['</code><code class="js plain">Popup Duration</code><code class="js string">']);</code></div><div class="line number1216 index1215 alt1"><code class="js string">Yanfly.Param.BECCritPopup = String(Yanfly.Parameters['</code><code class="js plain">Critical Popup</code><code class="js string">']);</code></div><div class="line number1217 index1216 alt2"><code class="js string">Yanfly.Param.BECCritDur = Number(Yanfly.Parameters['</code><code class="js plain">Critical Duration</code><code class="js string">']);</code></div><div class="line number1218 index1217 alt1"><code class="js string">Yanfly.Param.BECActionSpeed = String(Yanfly.Parameters['</code><code class="js plain">Action Speed</code><code class="js string">']);</code></div><div class="line number1219 index1218 alt2"><code class="js string">Yanfly.Param.BECReflectAni = Number(Yanfly.Parameters['</code><code class="js plain">Reflect Animation</code><code class="js string">']);</code></div><div class="line number1220 index1219 alt1"><code class="js string">Yanfly.Param.BECMotionWait = String(Yanfly.Parameters['</code><code class="js plain">Motion Waiting</code><code class="js string">']);</code></div><div class="line number1221 index1220 alt2"><code class="js string">Yanfly.Param.BECMotionWait = eval(Yanfly.Param.BECMotionWait);</code></div><div class="line number1222 index1221 alt1"><code class="js string">Yanfly.Param.BECTimeStates = String(Yanfly.Parameters['</code><code class="js plain">Timed States</code><code class="js string">']);</code></div><div class="line number1223 index1222 alt2"><code class="js string">Yanfly.Param.BECTimeStates = eval(Yanfly.Param.BECTimeStates);</code></div><div class="line number1224 index1223 alt1"><code class="js string">Yanfly.Param.BECTimeBuffs = String(Yanfly.Parameters['</code><code class="js plain">Timed Buffs</code><code class="js string">']);</code></div><div class="line number1225 index1224 alt2"><code class="js string">Yanfly.Param.BECTimeBuffs = eval(Yanfly.Param.BECTimeBuffs);</code></div><div class="line number1226 index1225 alt1"><code class="js string">Yanfly.Param.BECTurnTime = Number(Yanfly.Parameters['</code><code class="js plain">Turn Time</code><code class="js string">']);</code></div><div class="line number1227 index1226 alt2"><code class="js string">Yanfly.Param.BECAISelfTurn = eval(String(Yanfly.Parameters['</code><code class="js plain">AI Self Turns</code><code class="js string">']));</code></div><div class="line number1228 index1227 alt1"><code class="js string">Yanfly.Param.BECLowerWindows = String(Yanfly.Parameters['</code><code class="js plain">Lower Windows</code><code class="js string">']);</code></div><div class="line number1229 index1228 alt2"><code class="js string">Yanfly.Param.BECLowerWindows = eval(Yanfly.Param.BECLowerWindows);</code></div><div class="line number1230 index1229 alt1"><code class="js string">Yanfly.Param.BECSelectMouseOver = eval(String(Yanfly.Parameters['</code><code class="js plain">Mouse Over</code><code class="js string">']));</code></div><div class="line number1231 index1230 alt2"><code class="js string">Yanfly.Param.BECEnemySelect = String(Yanfly.Parameters['</code><code class="js plain">Visual Enemy Select</code><code class="js string">']);</code></div><div class="line number1232 index1231 alt1"><code class="js string">Yanfly.Param.BECEnemySelect = eval(Yanfly.Param.BECEnemySelect);</code></div><div class="line number1233 index1232 alt2"><code class="js string">Yanfly.Param.BECActorSelect = String(Yanfly.Parameters['</code><code class="js plain">Visual Actor Select</code><code class="js string">']);</code></div><div class="line number1234 index1233 alt1"><code class="js string">Yanfly.Param.BECActorSelect = eval(Yanfly.Param.BECActorSelect);</code></div><div class="line number1235 index1234 alt2"><code class="js string">Yanfly.Param.BECWindowRows = Number(Yanfly.Parameters['</code><code class="js plain">Window Rows</code><code class="js string">']);</code></div><div class="line number1236 index1235 alt1"><code class="js string">Yanfly.Param.BECEnemyFontSize = Number(Yanfly.Parameters['</code><code class="js plain">Enemy Font Size</code><code class="js string">']);</code></div><div class="line number1237 index1236 alt2"><code class="js string">Yanfly.Param.BECShowEnemyName = String(Yanfly.Parameters['</code><code class="js plain">Show Enemy Name</code><code class="js string">']);</code></div><div class="line number1238 index1237 alt1"><code class="js string">Yanfly.Param.BECShowEnemyName = eval(Yanfly.Param.BECShowEnemyName);</code></div><div class="line number1239 index1238 alt2"><code class="js string">Yanfly.Param.BECShowSelectBox = String(Yanfly.Parameters['</code><code class="js plain">Show Select Box</code><code class="js string">']);</code></div><div class="line number1240 index1239 alt1"><code class="js string">Yanfly.Param.BECShowSelectBox = eval(Yanfly.Param.BECShowSelectBox);</code></div><div class="line number1241 index1240 alt2"><code class="js string">Yanfly.Param.BECEnemyAutoSel = String(Yanfly.Parameters['</code><code class="js plain">Enemy Auto Select</code><code class="js string">']);</code></div><div class="line number1242 index1241 alt1"><code class="js string">Yanfly.Param.BECCommandAlign = String(Yanfly.Parameters['</code><code class="js plain">Command Alignment</code><code class="js string">']);</code></div><div class="line number1243 index1242 alt2"><code class="js string">Yanfly.Param.BECCommandRows = Number(Yanfly.Parameters['</code><code class="js plain">Command Window Rows</code><code class="js string">']);</code></div><div class="line number1244 index1243 alt1"><code class="js string">Yanfly.Param.BECAniBaseDel = Number(Yanfly.Parameters['</code><code class="js plain">Animation Base Delay</code><code class="js string">']);</code></div><div class="line number1245 index1244 alt2"><code class="js string">Yanfly.Param.BECAniNextDel = Number(Yanfly.Parameters['</code><code class="js plain">Animation Next Delay</code><code class="js string">']);</code></div><div class="line number1246 index1245 alt1">&nbsp;</div><div class="line number1247 index1246 alt2"><code class="js string">Yanfly.Param.BECFullActText = String(Yanfly.Parameters['</code><code class="js plain">Show Action Text</code><code class="js string">']);</code></div><div class="line number1248 index1247 alt1"><code class="js string">Yanfly.Param.BECFullActText = eval(Yanfly.Param.BECFullActText);</code></div><div class="line number1249 index1248 alt2"><code class="js string">Yanfly.Param.BECShowCntText = String(Yanfly.Parameters['</code><code class="js plain">Show Counter Text</code><code class="js string">']);</code></div><div class="line number1250 index1249 alt1"><code class="js string">Yanfly.Param.BECShowCntText = eval(Yanfly.Param.BECShowCntText);</code></div><div class="line number1251 index1250 alt2"><code class="js string">Yanfly.Param.BECShowRflText = String(Yanfly.Parameters['</code><code class="js plain">Show Reflect Text</code><code class="js string">']);</code></div><div class="line number1252 index1251 alt1"><code class="js string">Yanfly.Param.BECShowRflText = eval(Yanfly.Param.BECShowRflText);</code></div><div class="line number1253 index1252 alt2"><code class="js string">Yanfly.Param.BECShowSubText = String(Yanfly.Parameters['</code><code class="js plain">Show Substitute Text</code><code class="js string">']);</code></div><div class="line number1254 index1253 alt1"><code class="js string">Yanfly.Param.BECShowSubText = eval(Yanfly.Param.BECShowSubText);</code></div><div class="line number1255 index1254 alt2"><code class="js string">Yanfly.Param.BECShowFailText = String(Yanfly.Parameters['</code><code class="js plain">Show Fail Text</code><code class="js string">']);</code></div><div class="line number1256 index1255 alt1"><code class="js string">Yanfly.Param.BECShowFailText = eval(Yanfly.Param.BECShowFailText);</code></div><div class="line number1257 index1256 alt2"><code class="js string">Yanfly.Param.BECShowCritText = String(Yanfly.Parameters['</code><code class="js plain">Show Critical Text</code><code class="js string">']);</code></div><div class="line number1258 index1257 alt1"><code class="js string">Yanfly.Param.BECShowCritText = eval(Yanfly.Param.BECShowCritText);</code></div><div class="line number1259 index1258 alt2"><code class="js string">Yanfly.Param.BECShowMissText = String(Yanfly.Parameters['</code><code class="js plain">Show Miss Text</code><code class="js string">']);</code></div><div class="line number1260 index1259 alt1"><code class="js string">Yanfly.Param.BECShowMissText = eval(Yanfly.Param.BECShowMissText);</code></div><div class="line number1261 index1260 alt2"><code class="js string">Yanfly.Param.BECShowEvaText = String(Yanfly.Parameters['</code><code class="js plain">Show Evasion Text</code><code class="js string">']);</code></div><div class="line number1262 index1261 alt1"><code class="js string">Yanfly.Param.BECShowEvaText = eval(Yanfly.Param.BECShowEvaText);</code></div><div class="line number1263 index1262 alt2"><code class="js string">Yanfly.Param.BECShowHpText = String(Yanfly.Parameters['</code><code class="js plain">Show HP Text</code><code class="js string">']);</code></div><div class="line number1264 index1263 alt1"><code class="js string">Yanfly.Param.BECShowHpText = eval(Yanfly.Param.BECShowHpText);</code></div><div class="line number1265 index1264 alt2"><code class="js string">Yanfly.Param.BECShowMpText = String(Yanfly.Parameters['</code><code class="js plain">Show MP Text</code><code class="js string">']);</code></div><div class="line number1266 index1265 alt1"><code class="js string">Yanfly.Param.BECShowMpText = eval(Yanfly.Param.BECShowMpText);</code></div><div class="line number1267 index1266 alt2"><code class="js string">Yanfly.Param.BECShowTpText = String(Yanfly.Parameters['</code><code class="js plain">Show TP Text</code><code class="js string">']);</code></div><div class="line number1268 index1267 alt1"><code class="js string">Yanfly.Param.BECShowTpText = eval(Yanfly.Param.BECShowTpText);</code></div><div class="line number1269 index1268 alt2"><code class="js string">Yanfly.Param.BECShowStateText = String(Yanfly.Parameters['</code><code class="js plain">Show State Text</code><code class="js string">']);</code></div><div class="line number1270 index1269 alt1"><code class="js string">Yanfly.Param.BECShowStateText = eval(Yanfly.Param.BECShowStateText);</code></div><div class="line number1271 index1270 alt2"><code class="js string">Yanfly.Param.BECShowBuffText = String(Yanfly.Parameters['</code><code class="js plain">Show Buff Text</code><code class="js string">']);</code></div><div class="line number1272 index1271 alt1"><code class="js string">Yanfly.Param.BECShowBuffText = eval(Yanfly.Param.BECShowBuffText);</code></div><div class="line number1273 index1272 alt2">&nbsp;</div><div class="line number1274 index1273 alt1"><code class="js string">//=============================================================================</code></div><div class="line number1275 index1274 alt2"><code class="js string">// DataManager</code></div><div class="line number1276 index1275 alt1"><code class="js string">//=============================================================================</code></div><div class="line number1277 index1276 alt2">&nbsp;</div><div class="line number1278 index1277 alt1"><code class="js string">Yanfly.BEC.DataManager_isDatabaseLoaded = DataManager.isDatabaseLoaded;</code></div><div class="line number1279 index1278 alt2"><code class="js string">DataManager.isDatabaseLoaded = function() {</code></div><div class="line number1280 index1279 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (!Yanfly.BEC.DataManager_isDatabaseLoaded.call(this)) return false;</code></div><div class="line number1281 index1280 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (!Yanfly._loaded_YEP_BattleEngineCore) {</code></div><div class="line number1282 index1281 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.processMELODYNotetags($dataSkills);</code></div><div class="line number1283 index1282 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.processMELODYNotetags($dataItems);</code></div><div class="line number1284 index1283 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.processBECNotetags1($dataSkills);</code></div><div class="line number1285 index1284 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.processBECNotetags2($dataSkills);</code></div><div class="line number1286 index1285 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.processBECNotetags2($dataItems);</code></div><div class="line number1287 index1286 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.processBECNotetags3($dataEnemies);</code></div><div class="line number1288 index1287 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.processBECNotetags4($dataActors);</code></div><div class="line number1289 index1288 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.processBECNotetags4($dataClasses);</code></div><div class="line number1290 index1289 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.processBECNotetags4($dataWeapons);</code></div><div class="line number1291 index1290 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.processBECNotetags4($dataArmors);</code></div><div class="line number1292 index1291 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.processBECNotetags4($dataEnemies);</code></div><div class="line number1293 index1292 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.processBECNotetags4($dataStates);</code></div><div class="line number1294 index1293 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.processBECNotetags5($dataActors, true);</code></div><div class="line number1295 index1294 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.processBECNotetags5($dataClasses, false);</code></div><div class="line number1296 index1295 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.processBECNotetags5($dataWeapons, false);</code></div><div class="line number1297 index1296 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.processBECNotetags5($dataArmors, false);</code></div><div class="line number1298 index1297 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.processBECNotetags5($dataStates, false);</code></div><div class="line number1299 index1298 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.processBECNotetags6($dataStates);</code></div><div class="line number1300 index1299 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly._loaded_YEP_BattleEngineCore = true;</code></div><div class="line number1301 index1300 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1302 index1301 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">return true;</code></div><div class="line number1303 index1302 alt2"><code class="js string">};</code></div><div class="line number1304 index1303 alt1">&nbsp;</div><div class="line number1305 index1304 alt2"><code class="js string">DataManager.processMELODYNotetags = function(group) {</code></div><div class="line number1306 index1305 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">for (var n = 1; n &lt; group.length; n++) {</code></div><div class="line number1307 index1306 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var obj = group[n];</code></div><div class="line number1308 index1307 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (obj.actionsMade) continue;</code></div><div class="line number1309 index1308 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.actionsMade = true;</code></div><div class="line number1310 index1309 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var notedata = obj.note.split(/[\r\n]+/);</code></div><div class="line number1311 index1310 alt2">&nbsp;</div><div class="line number1312 index1311 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var actionType = 0;</code></div><div class="line number1313 index1312 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.setDefaultActions(obj);</code></div><div class="line number1314 index1313 alt1">&nbsp;</div><div class="line number1315 index1314 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; notedata.length; i++) {</code></div><div class="line number1316 index1315 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var line = notedata[i];</code></div><div class="line number1317 index1316 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (line.match(/&lt;(?:SETUP ACTION|setup)&gt;/i)) {</code></div><div class="line number1318 index1317 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">actionType = 1;</code></div><div class="line number1319 index1318 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.setupActions = [];</code></div><div class="line number1320 index1319 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (line.match(/&lt;\/(?:SETUP ACTION|setup)&gt;/i)) {</code></div><div class="line number1321 index1320 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var actionType = 0;</code></div><div class="line number1322 index1321 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (line.match(/&lt;(?:WHOLE ACTION|whole)&gt;/i)) {</code></div><div class="line number1323 index1322 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">actionType = 2;</code></div><div class="line number1324 index1323 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.wholeActions = [];</code></div><div class="line number1325 index1324 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (line.match(/&lt;\/(?:WHOLE ACTION|whole)&gt;/i)) {</code></div><div class="line number1326 index1325 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var actionType = 0;</code></div><div class="line number1327 index1326 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (line.match(/&lt;(?:TARGET ACTION|target)&gt;/i)) {</code></div><div class="line number1328 index1327 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">actionType = 3;</code></div><div class="line number1329 index1328 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.targetActions = [];</code></div><div class="line number1330 index1329 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (line.match(/&lt;\/(?:TARGET ACTION|target)&gt;/i)) {</code></div><div class="line number1331 index1330 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var actionType = 0;</code></div><div class="line number1332 index1331 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (line.match(/&lt;(?:FOLLOW ACTION|follow)&gt;/i)) {</code></div><div class="line number1333 index1332 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">actionType = 4;</code></div><div class="line number1334 index1333 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.followActions = [];</code></div><div class="line number1335 index1334 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (line.match(/&lt;\/(?:FOLLOW ACTION|follow)&gt;/i)) {</code></div><div class="line number1336 index1335 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var actionType = 0;</code></div><div class="line number1337 index1336 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (line.match(/&lt;(?:FINISH ACTION|finish)&gt;/i)) {</code></div><div class="line number1338 index1337 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">actionType = 5;</code></div><div class="line number1339 index1338 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.finishActions = [];</code></div><div class="line number1340 index1339 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (line.match(/&lt;\/(?:FINISH ACTION|finish)&gt;/i)) {</code></div><div class="line number1341 index1340 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var actionType = 0;</code></div><div class="line number1342 index1341 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number1343 index1342 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.convertSequenceLine(obj, line, actionType);</code></div><div class="line number1344 index1343 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1345 index1344 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1346 index1345 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1347 index1346 alt2"><code class="js string">};</code></div><div class="line number1348 index1347 alt1">&nbsp;</div><div class="line number1349 index1348 alt2"><code class="js string">Yanfly.BEC.DefaultActionSetup = [</code></div><div class="line number1350 index1349 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">['</code><code class="js plain">CLEAR BATTLE LOG</code><code class="js string">'],</code></div><div class="line number1351 index1350 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">['</code><code class="js plain">DISPLAY ACTION</code><code class="js string">'],</code></div><div class="line number1352 index1351 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">['</code><code class="js plain">IMMORTAL</code><code class="js string">', ['</code><code class="js plain">TARGETS</code><code class="js string">', '</code><code class="js plain">TRUE</code><code class="js string">']],</code></div><div class="line number1353 index1352 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">['</code><code class="js plain">PERFORM START</code><code class="js string">'],</code></div><div class="line number1354 index1353 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">['</code><code class="js plain">WAIT FOR MOVEMENT</code><code class="js string">'],</code></div><div class="line number1355 index1354 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">['</code><code class="js plain">CAST ANIMATION</code><code class="js string">'],</code></div><div class="line number1356 index1355 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">['</code><code class="js plain">WAIT FOR ANIMATION</code><code class="js string">']</code></div><div class="line number1357 index1356 alt2"><code class="js string">];</code></div><div class="line number1358 index1357 alt1"><code class="js string">Yanfly.BEC.DefaultActionWhole = [</code></div><div class="line number1359 index1358 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">['</code><code class="js plain">PERFORM ACTION</code><code class="js string">'],</code></div><div class="line number1360 index1359 alt1"><code class="js string">];</code></div><div class="line number1361 index1360 alt2"><code class="js string">Yanfly.BEC.DefaultActionTarget = [</code></div><div class="line number1362 index1361 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">['</code><code class="js plain">PERFORM ACTION</code><code class="js string">'],</code></div><div class="line number1363 index1362 alt2"><code class="js string">];</code></div><div class="line number1364 index1363 alt1"><code class="js string">if (Yanfly.Param.BECMotionWait) {</code></div><div class="line number1365 index1364 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.DefaultActionWhole.push(['</code><code class="js plain">MOTION WAIT</code><code class="js string">', ['</code><code class="js plain">USER</code><code class="js string">']]);</code></div><div class="line number1366 index1365 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.DefaultActionTarget.push(['</code><code class="js plain">MOTION WAIT</code><code class="js string">', ['</code><code class="js plain">USER</code><code class="js string">']]);</code></div><div class="line number1367 index1366 alt2"><code class="js string">} else {</code></div><div class="line number1368 index1367 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.DefaultActionWhole.push(['</code><code class="js plain">WAIT</code><code class="js string">', [10]]);</code></div><div class="line number1369 index1368 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.DefaultActionTarget.push(['</code><code class="js plain">WAIT</code><code class="js string">', [10]]);</code></div><div class="line number1370 index1369 alt1"><code class="js string">};</code></div><div class="line number1371 index1370 alt2"><code class="js string">Yanfly.BEC.DefaultActionWhole.push(['</code><code class="js plain">ACTION ANIMATION</code><code class="js string">']);</code></div><div class="line number1372 index1371 alt1"><code class="js string">Yanfly.BEC.DefaultActionWhole.push(['</code><code class="js plain">WAIT FOR ANIMATION</code><code class="js string">']);</code></div><div class="line number1373 index1372 alt2"><code class="js string">Yanfly.BEC.DefaultActionTarget.push(['</code><code class="js plain">ACTION ANIMATION</code><code class="js string">']);</code></div><div class="line number1374 index1373 alt1"><code class="js string">Yanfly.BEC.DefaultActionTarget.push(['</code><code class="js plain">WAIT FOR ANIMATION</code><code class="js string">']);</code></div><div class="line number1375 index1374 alt2"><code class="js string">Yanfly.BEC.DefaultActionFollow = [</code></div><div class="line number1376 index1375 alt1"><code class="js string">];</code></div><div class="line number1377 index1376 alt2"><code class="js string">Yanfly.BEC.DefaultActionFinish = [</code></div><div class="line number1378 index1377 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">['</code><code class="js plain">IMMORTAL</code><code class="js string">', ['</code><code class="js plain">TARGETS</code><code class="js string">', '</code><code class="js plain">FALSE</code><code class="js string">']],</code></div><div class="line number1379 index1378 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">['</code><code class="js plain">WAIT FOR NEW LINE</code><code class="js string">'],</code></div><div class="line number1380 index1379 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">['</code><code class="js plain">CLEAR BATTLE LOG</code><code class="js string">'],</code></div><div class="line number1381 index1380 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">['</code><code class="js plain">PERFORM FINISH</code><code class="js string">'],</code></div><div class="line number1382 index1381 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">['</code><code class="js plain">WAIT FOR MOVEMENT</code><code class="js string">'],</code></div><div class="line number1383 index1382 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">['</code><code class="js plain">WAIT FOR EFFECT</code><code class="js string">'],</code></div><div class="line number1384 index1383 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">['</code><code class="js plain">ACTION COMMON EVENT</code><code class="js string">'],</code></div><div class="line number1385 index1384 alt2"><code class="js string">];</code></div><div class="line number1386 index1385 alt1"><code class="js string">DataManager.setDefaultActions = function(obj) {</code></div><div class="line number1387 index1386 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.setupActions = Yanfly.BEC.DefaultActionSetup.slice();</code></div><div class="line number1388 index1387 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isWholeAction(obj)) {</code></div><div class="line number1389 index1388 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.wholeActions = Yanfly.BEC.DefaultActionWhole.slice();</code></div><div class="line number1390 index1389 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.addActionEffects(obj, obj.wholeActions);</code></div><div class="line number1391 index1390 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.targetActions = [];</code></div><div class="line number1392 index1391 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number1393 index1392 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.wholeActions = [];</code></div><div class="line number1394 index1393 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.targetActions = Yanfly.BEC.DefaultActionTarget.slice();</code></div><div class="line number1395 index1394 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.addActionEffects(obj, obj.targetActions);</code></div><div class="line number1396 index1395 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1397 index1396 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.followActions = Yanfly.BEC.DefaultActionFollow.slice();</code></div><div class="line number1398 index1397 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.finishActions = Yanfly.BEC.DefaultActionFinish.slice();</code></div><div class="line number1399 index1398 alt2"><code class="js string">};</code></div><div class="line number1400 index1399 alt1">&nbsp;</div><div class="line number1401 index1400 alt2"><code class="js string">DataManager.isWholeAction = function(obj) {</code></div><div class="line number1402 index1401 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (obj.animationId &gt; 0 &amp;&amp; $dataAnimations[obj.animationId]) {</code></div><div class="line number1403 index1402 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var animation = $dataAnimations[obj.animationId];</code></div><div class="line number1404 index1403 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (animation.position === 3) return true;</code></div><div class="line number1405 index1404 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (animation.position !== 3 &amp;&amp; [2, 8, 10].contains(obj.scope)) return true;</code></div><div class="line number1406 index1405 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1407 index1406 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">return false;</code></div><div class="line number1408 index1407 alt1"><code class="js string">};</code></div><div class="line number1409 index1408 alt2">&nbsp;</div><div class="line number1410 index1409 alt1"><code class="js string">DataManager.addActionEffects = function(obj, array) {</code></div><div class="line number1411 index1410 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (;;) {</code></div><div class="line number1412 index1411 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">array[array.length] = ['</code><code class="js plain">ACTION EFFECT</code><code class="js string">'];</code></div><div class="line number1413 index1412 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">array[array.length] = ['</code><code class="js plain">DEATH BREAK</code><code class="js string">'];</code></div><div class="line number1414 index1413 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.repeats -= 1;</code></div><div class="line number1415 index1414 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (obj.repeats &lt;= 0) break;</code></div><div class="line number1416 index1415 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">array[array.length] = ['</code><code class="js plain">WAIT</code><code class="js string">', [8]];</code></div><div class="line number1417 index1416 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1418 index1417 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.repeats = 1;</code></div><div class="line number1419 index1418 alt2"><code class="js string">};</code></div><div class="line number1420 index1419 alt1">&nbsp;</div><div class="line number1421 index1420 alt2"><code class="js string">Yanfly.BEC.SeqType6 =</code></div><div class="line number1422 index1421 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">/[ ]*(.*):[ ](.*),[ ](.*),[ ](.*),[ ](.*),[ ](.*),[ ](.*)/i;</code></div><div class="line number1423 index1422 alt2"><code class="js string">Yanfly.BEC.SeqType5 =</code></div><div class="line number1424 index1423 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">/[ ]*(.*):[ ](.*),[ ](.*),[ ](.*),[ ](.*),[ ](.*)/i;</code></div><div class="line number1425 index1424 alt2"><code class="js string">Yanfly.BEC.SeqType4 =</code></div><div class="line number1426 index1425 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">/[ ]*(.*):[ ](.*),[ ](.*),[ ](.*),[ ](.*)/i;</code></div><div class="line number1427 index1426 alt2"><code class="js string">Yanfly.BEC.SeqType3 =</code></div><div class="line number1428 index1427 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">/[ ]*(.*):[ ](.*),[ ](.*),[ ](.*)/i;</code></div><div class="line number1429 index1428 alt2"><code class="js string">Yanfly.BEC.SeqType2 =</code></div><div class="line number1430 index1429 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">/[ ]*(.*):[ ](.*),[ ](.*)/i;</code></div><div class="line number1431 index1430 alt2"><code class="js string">Yanfly.BEC.SeqType1 =</code></div><div class="line number1432 index1431 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">/[ ]*(.*):[ ](.*)/i;</code></div><div class="line number1433 index1432 alt2"><code class="js string">Yanfly.BEC.SeqType0 =</code></div><div class="line number1434 index1433 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">/[ ]*(.*)/i;</code></div><div class="line number1435 index1434 alt2"><code class="js string">DataManager.convertSequenceLine = function(obj, line, actionType) {</code></div><div class="line number1436 index1435 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (actionType &lt;= 0 || actionType &gt; 5) return;</code></div><div class="line number1437 index1436 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.SeqType;</code></div><div class="line number1438 index1437 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var seqArgs;</code></div><div class="line number1439 index1438 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (line.match(Yanfly.BEC.SeqType6)) {</code></div><div class="line number1440 index1439 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.SeqType = RegExp.$1;</code></div><div class="line number1441 index1440 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">seqArgs =</code></div><div class="line number1442 index1441 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">[RegExp.$2, RegExp.$3, RegExp.$4, RegExp.$5, RegExp.$6, RegExp.$7];</code></div><div class="line number1443 index1442 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">} else if (line.match(Yanfly.BEC.SeqType5)) {</code></div><div class="line number1444 index1443 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.SeqType = RegExp.$1;</code></div><div class="line number1445 index1444 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">seqArgs = [RegExp.$2, RegExp.$3, RegExp.$4, RegExp.$5, RegExp.$6];</code></div><div class="line number1446 index1445 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">} else if (line.match(Yanfly.BEC.SeqType4)) {</code></div><div class="line number1447 index1446 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.SeqType = RegExp.$1;</code></div><div class="line number1448 index1447 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">seqArgs = [RegExp.$2, RegExp.$3, RegExp.$4, RegExp.$5];</code></div><div class="line number1449 index1448 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">} else if (line.match(Yanfly.BEC.SeqType3)) {</code></div><div class="line number1450 index1449 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.SeqType = RegExp.$1;</code></div><div class="line number1451 index1450 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">seqArgs = [RegExp.$2, RegExp.$3, RegExp.$4];</code></div><div class="line number1452 index1451 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">} else if (line.match(Yanfly.BEC.SeqType2)) {</code></div><div class="line number1453 index1452 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.SeqType = RegExp.$1;</code></div><div class="line number1454 index1453 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">seqArgs = [RegExp.$2, RegExp.$3];</code></div><div class="line number1455 index1454 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">} else if (line.match(Yanfly.BEC.SeqType1)) {</code></div><div class="line number1456 index1455 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.SeqType = RegExp.$1;</code></div><div class="line number1457 index1456 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">seqArgs = [RegExp.$2];</code></div><div class="line number1458 index1457 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">} else if (line.match(Yanfly.BEC.SeqType0)) {</code></div><div class="line number1459 index1458 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.SeqType = RegExp.$1;</code></div><div class="line number1460 index1459 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">seqArgs = [];</code></div><div class="line number1461 index1460 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number1462 index1461 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return;</code></div><div class="line number1463 index1462 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1464 index1463 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var array = [Yanfly.BEC.SeqType, seqArgs];</code></div><div class="line number1465 index1464 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (actionType === 1) obj.setupActions[obj.setupActions.length] = array;</code></div><div class="line number1466 index1465 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (actionType === 2) obj.wholeActions[obj.wholeActions.length] = array;</code></div><div class="line number1467 index1466 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (actionType === 3) obj.targetActions[obj.targetActions.length] = array;</code></div><div class="line number1468 index1467 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (actionType === 4) obj.followActions[obj.followActions.length] = array;</code></div><div class="line number1469 index1468 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (actionType === 5) obj.finishActions[obj.finishActions.length] = array;</code></div><div class="line number1470 index1469 alt1"><code class="js string">};</code></div><div class="line number1471 index1470 alt2">&nbsp;</div><div class="line number1472 index1471 alt1"><code class="js string">DataManager.processBECNotetags1 = function(group) {</code></div><div class="line number1473 index1472 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var note1 = /&lt;(?:CAST ANIMATION|cast ani):[ ](\d+)&gt;/i;</code></div><div class="line number1474 index1473 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">for (var n = 1; n &lt; group.length; n++) {</code></div><div class="line number1475 index1474 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var obj = group[n];</code></div><div class="line number1476 index1475 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var notedata = obj.note.split(/[\r\n]+/);</code></div><div class="line number1477 index1476 alt2">&nbsp;</div><div class="line number1478 index1477 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.castAnimation = 0;</code></div><div class="line number1479 index1478 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (obj.hitType === 0) obj.castAnimation = Yanfly.Param.CastCertHit;</code></div><div class="line number1480 index1479 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (obj.hitType === 1) obj.castAnimation = Yanfly.Param.CastPhysical;</code></div><div class="line number1481 index1480 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (obj.hitType === 2) obj.castAnimation = Yanfly.Param.CastMagical;</code></div><div class="line number1482 index1481 alt1">&nbsp;</div><div class="line number1483 index1482 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; notedata.length; i++) {</code></div><div class="line number1484 index1483 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var line = notedata[i];</code></div><div class="line number1485 index1484 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (line.match(note1)) {</code></div><div class="line number1486 index1485 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.castAnimation = parseInt(RegExp.$1);</code></div><div class="line number1487 index1486 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1488 index1487 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1489 index1488 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1490 index1489 alt1"><code class="js string">};</code></div><div class="line number1491 index1490 alt2">&nbsp;</div><div class="line number1492 index1491 alt1"><code class="js string">DataManager.processBECNotetags2 = function(group) {</code></div><div class="line number1493 index1492 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var note1 = /&lt;(?:ACTION COPY):[ ](.*):[ ]*(\d+)&gt;/i;</code></div><div class="line number1494 index1493 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var note2 = /&lt;(?:SPEED):[ ]([\+\-]\d+)&gt;/i;</code></div><div class="line number1495 index1494 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var note3 = /&lt;(?:DISPLAY NAME|DISPLAY TEXT):[ ](.*)&gt;/i;</code></div><div class="line number1496 index1495 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var note4 = /&lt;(?:DISPLAY ICON):[ ](\d+)&gt;/i;</code></div><div class="line number1497 index1496 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">for (var n = 1; n &lt; group.length; n++) {</code></div><div class="line number1498 index1497 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var obj = group[n];</code></div><div class="line number1499 index1498 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var notedata = obj.note.split(/[\r\n]+/);</code></div><div class="line number1500 index1499 alt1">&nbsp;</div><div class="line number1501 index1500 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.battleDisplayText = obj.name;</code></div><div class="line number1502 index1501 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.battleDisplayIcon = obj.iconIndex;</code></div><div class="line number1503 index1502 alt2">&nbsp;</div><div class="line number1504 index1503 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; notedata.length; i++) {</code></div><div class="line number1505 index1504 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var line = notedata[i];</code></div><div class="line number1506 index1505 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (line.match(note1)) {</code></div><div class="line number1507 index1506 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var text = String(RegExp.$1).toUpperCase();</code></div><div class="line number1508 index1507 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target;</code></div><div class="line number1509 index1508 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (['</code><code class="js plain">I</code><code class="js string">', '</code><code class="js plain">ITEM</code><code class="js string">'].contains(text)) {</code></div><div class="line number1510 index1509 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">target = $dataItems[parseInt(RegExp.$2)];</code></div><div class="line number1511 index1510 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (['</code><code class="js plain">S</code><code class="js string">', '</code><code class="js plain">SKILL</code><code class="js string">'].contains(text)) {</code></div><div class="line number1512 index1511 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">target = $dataSkills[parseInt(RegExp.$2)];</code></div><div class="line number1513 index1512 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1514 index1513 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target) {</code></div><div class="line number1515 index1514 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.setupActions = target.setupActions.slice();</code></div><div class="line number1516 index1515 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.wholeActions = target.wholeActions.slice();</code></div><div class="line number1517 index1516 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.targetActions = target.targetActions.slice();</code></div><div class="line number1518 index1517 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.followActions = target.followActions.slice();</code></div><div class="line number1519 index1518 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.finishActions = target.finishActions.slice();</code></div><div class="line number1520 index1519 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1521 index1520 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (line.match(note2)) {</code></div><div class="line number1522 index1521 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.speed = parseInt(RegExp.$1);</code></div><div class="line number1523 index1522 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (line.match(note3)) {</code></div><div class="line number1524 index1523 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.battleDisplayText = String(RegExp.$1);</code></div><div class="line number1525 index1524 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (line.match(note4)) {</code></div><div class="line number1526 index1525 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.battleDisplayIcon = parseInt(RegExp.$1);</code></div><div class="line number1527 index1526 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1528 index1527 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1529 index1528 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1530 index1529 alt1"><code class="js string">};</code></div><div class="line number1531 index1530 alt2">&nbsp;</div><div class="line number1532 index1531 alt1"><code class="js string">DataManager.processBECNotetags3 = function(group) {</code></div><div class="line number1533 index1532 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var note1 = /&lt;(?:ATTACK ANIMATION|attack ani):[ ](\d+)&gt;/i;</code></div><div class="line number1534 index1533 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">for (var n = 1; n &lt; group.length; n++) {</code></div><div class="line number1535 index1534 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var obj = group[n];</code></div><div class="line number1536 index1535 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var notedata = obj.note.split(/[\r\n]+/);</code></div><div class="line number1537 index1536 alt2">&nbsp;</div><div class="line number1538 index1537 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.attackAnimationId = Yanfly.Param.EnemyAtkAni;</code></div><div class="line number1539 index1538 alt2">&nbsp;</div><div class="line number1540 index1539 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; notedata.length; i++) {</code></div><div class="line number1541 index1540 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var line = notedata[i];</code></div><div class="line number1542 index1541 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (line.match(note1)) {</code></div><div class="line number1543 index1542 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.attackAnimationId = parseInt(RegExp.$1);</code></div><div class="line number1544 index1543 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1545 index1544 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1546 index1545 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1547 index1546 alt2"><code class="js string">};</code></div><div class="line number1548 index1547 alt1">&nbsp;</div><div class="line number1549 index1548 alt2"><code class="js string">DataManager.processBECNotetags4 = function(group) {</code></div><div class="line number1550 index1549 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var note1 = /&lt;(?:REFLECT ANIMATION|reflect ani):[ ](\d+)&gt;/i;</code></div><div class="line number1551 index1550 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">for (var n = 1; n &lt; group.length; n++) {</code></div><div class="line number1552 index1551 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var obj = group[n];</code></div><div class="line number1553 index1552 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var notedata = obj.note.split(/[\r\n]+/);</code></div><div class="line number1554 index1553 alt1">&nbsp;</div><div class="line number1555 index1554 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.reflectAnimationId = 0;</code></div><div class="line number1556 index1555 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.spriteCannotMove = false;</code></div><div class="line number1557 index1556 alt2">&nbsp;</div><div class="line number1558 index1557 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; notedata.length; i++) {</code></div><div class="line number1559 index1558 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var line = notedata[i];</code></div><div class="line number1560 index1559 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (line.match(note1)) {</code></div><div class="line number1561 index1560 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.reflectAnimationId = parseInt(RegExp.$1);</code></div><div class="line number1562 index1561 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (line.match(/&lt;(?:SPRITE CANNOT MOVE)&gt;/i)) {</code></div><div class="line number1563 index1562 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.spriteCannotMove = true;</code></div><div class="line number1564 index1563 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1565 index1564 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1566 index1565 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1567 index1566 alt2"><code class="js string">};</code></div><div class="line number1568 index1567 alt1">&nbsp;</div><div class="line number1569 index1568 alt2"><code class="js string">DataManager.processBECNotetags5 = function(group, isActor) {</code></div><div class="line number1570 index1569 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">for (var n = 1; n &lt; group.length; n++) {</code></div><div class="line number1571 index1570 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var obj = group[n];</code></div><div class="line number1572 index1571 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var notedata = obj.note.split(/[\r\n]+/);</code></div><div class="line number1573 index1572 alt2">&nbsp;</div><div class="line number1574 index1573 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (isActor) {</code></div><div class="line number1575 index1574 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.anchorX = Yanfly.Param.BECAnchorX;</code></div><div class="line number1576 index1575 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.anchorY = Yanfly.Param.BECAnchorY;</code></div><div class="line number1577 index1576 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1578 index1577 alt1">&nbsp;</div><div class="line number1579 index1578 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; notedata.length; i++) {</code></div><div class="line number1580 index1579 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var line = notedata[i];</code></div><div class="line number1581 index1580 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (line.match(/&lt;(?:ANCHOR X):[ ](\d+)[.](\d+)&gt;/i)) {</code></div><div class="line number1582 index1581 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.anchorX = eval(String(RegExp.$1) + '</code><code class="js plain">.</code><code class="js string">' + String(RegExp.$2));</code></div><div class="line number1583 index1582 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (line.match(/&lt;(?:ANCHOR Y):[ ](\d+)[.](\d+)&gt;/i)) {</code></div><div class="line number1584 index1583 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.anchorY = eval(String(RegExp.$1) + '</code><code class="js plain">.</code><code class="js string">' + String(RegExp.$2));</code></div><div class="line number1585 index1584 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1586 index1585 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1587 index1586 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1588 index1587 alt1"><code class="js string">};</code></div><div class="line number1589 index1588 alt2">&nbsp;</div><div class="line number1590 index1589 alt1"><code class="js string">DataManager.processBECNotetags6 = function(group) {</code></div><div class="line number1591 index1590 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var note1a = /&lt;(?:ACTION START):[ ](\d+)&gt;/i;</code></div><div class="line number1592 index1591 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var note1b = /&lt;(?:ACTION START):[ ](\d+)[ ](?:THROUGH|to)[ ](\d+)&gt;/i;</code></div><div class="line number1593 index1592 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var note2a = /&lt;(?:TURN START):[ ](\d+)&gt;/i;</code></div><div class="line number1594 index1593 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var note2b = /&lt;(?:TURN START):[ ](\d+)[ ](?:THROUGH|to)[ ](\d+)&gt;/i;</code></div><div class="line number1595 index1594 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">for (var n = 1; n &lt; group.length; n++) {</code></div><div class="line number1596 index1595 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var obj = group[n];</code></div><div class="line number1597 index1596 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var notedata = obj.note.split(/[\r\n]+/);</code></div><div class="line number1598 index1597 alt1">&nbsp;</div><div class="line number1599 index1598 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; notedata.length; i++) {</code></div><div class="line number1600 index1599 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var line = notedata[i];</code></div><div class="line number1601 index1600 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (line.match(note1a)) {</code></div><div class="line number1602 index1601 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var turns = parseInt(RegExp.$1);</code></div><div class="line number1603 index1602 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.autoRemovalTiming = 3;</code></div><div class="line number1604 index1603 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.maxTurns = turns;</code></div><div class="line number1605 index1604 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.minTurns = turns;</code></div><div class="line number1606 index1605 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (line.match(note1b)) {</code></div><div class="line number1607 index1606 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var turns1 = parseInt(RegExp.$1);</code></div><div class="line number1608 index1607 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var turns2 = parseInt(RegExp.$2);</code></div><div class="line number1609 index1608 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.autoRemovalTiming = 3;</code></div><div class="line number1610 index1609 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.maxTurns = turns1;</code></div><div class="line number1611 index1610 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.minTurns = turns2;</code></div><div class="line number1612 index1611 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (line.match(note2a)) {</code></div><div class="line number1613 index1612 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var turns = parseInt(RegExp.$1);</code></div><div class="line number1614 index1613 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.autoRemovalTiming = 4;</code></div><div class="line number1615 index1614 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.maxTurns = turns;</code></div><div class="line number1616 index1615 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.minTurns = turns;</code></div><div class="line number1617 index1616 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (line.match(note2b)) {</code></div><div class="line number1618 index1617 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var turns1 = parseInt(RegExp.$1);</code></div><div class="line number1619 index1618 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var turns2 = parseInt(RegExp.$2);</code></div><div class="line number1620 index1619 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.autoRemovalTiming = 4;</code></div><div class="line number1621 index1620 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.maxTurns = turns1;</code></div><div class="line number1622 index1621 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">obj.minTurns = turns2;</code></div><div class="line number1623 index1622 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1624 index1623 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1625 index1624 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1626 index1625 alt1"><code class="js string">};</code></div><div class="line number1627 index1626 alt2">&nbsp;</div><div class="line number1628 index1627 alt1"><code class="js string">//=============================================================================</code></div><div class="line number1629 index1628 alt2"><code class="js string">// TouchInput</code></div><div class="line number1630 index1629 alt1"><code class="js string">//=============================================================================</code></div><div class="line number1631 index1630 alt2">&nbsp;</div><div class="line number1632 index1631 alt1"><code class="js string">Yanfly.BEC.TouchInput_onMouseMove = TouchInput._onMouseMove;</code></div><div class="line number1633 index1632 alt2"><code class="js string">TouchInput._onMouseMove = function(event) {</code></div><div class="line number1634 index1633 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.TouchInput_onMouseMove.call(this, event);</code></div><div class="line number1635 index1634 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._mouseOverX = Graphics.pageToCanvasX(event.pageX);</code></div><div class="line number1636 index1635 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._mouseOverY = Graphics.pageToCanvasY(event.pageY);</code></div><div class="line number1637 index1636 alt2"><code class="js string">};</code></div><div class="line number1638 index1637 alt1">&nbsp;</div><div class="line number1639 index1638 alt2"><code class="js string">//=============================================================================</code></div><div class="line number1640 index1639 alt1"><code class="js string">// BattleManager</code></div><div class="line number1641 index1640 alt2"><code class="js string">//=============================================================================</code></div><div class="line number1642 index1641 alt1">&nbsp;</div><div class="line number1643 index1642 alt2"><code class="js string">Yanfly.BEC.BattleManager_initMembers = BattleManager.initMembers;</code></div><div class="line number1644 index1643 alt1"><code class="js string">BattleManager.initMembers = function() {</code></div><div class="line number1645 index1644 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.BattleManager_initMembers.call(this);</code></div><div class="line number1646 index1645 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._forceSelection = false;</code></div><div class="line number1647 index1646 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._allSelection = false;</code></div><div class="line number1648 index1647 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._victoryPhase = false;</code></div><div class="line number1649 index1648 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._forceActionQueue = [];</code></div><div class="line number1650 index1649 alt1"><code class="js string">};</code></div><div class="line number1651 index1650 alt2">&nbsp;</div><div class="line number1652 index1651 alt1"><code class="js string">BattleManager.isBattleSystem = function(value) {</code></div><div class="line number1653 index1652 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return value.toLowerCase() === $gameSystem.getBattleSystem();</code></div><div class="line number1654 index1653 alt1"><code class="js string">};</code></div><div class="line number1655 index1654 alt2">&nbsp;</div><div class="line number1656 index1655 alt1"><code class="js string">BattleManager.isDTB = function() {</code></div><div class="line number1657 index1656 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.isBattleSystem('</code><code class="js plain">dtb</code><code class="js string">');</code></div><div class="line number1658 index1657 alt1"><code class="js string">};</code></div><div class="line number1659 index1658 alt2">&nbsp;</div><div class="line number1660 index1659 alt1"><code class="js string">BattleManager.isTurnBased = function() {</code></div><div class="line number1661 index1660 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isDTB()) return true;</code></div><div class="line number1662 index1661 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return false;</code></div><div class="line number1663 index1662 alt2"><code class="js string">};</code></div><div class="line number1664 index1663 alt1">&nbsp;</div><div class="line number1665 index1664 alt2"><code class="js string">BattleManager.isTickBased = function() {</code></div><div class="line number1666 index1665 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return !this.isTurnBased();</code></div><div class="line number1667 index1666 alt2"><code class="js string">};</code></div><div class="line number1668 index1667 alt1">&nbsp;</div><div class="line number1669 index1668 alt2"><code class="js string">BattleManager.tickRate = function() {</code></div><div class="line number1670 index1669 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return 1;</code></div><div class="line number1671 index1670 alt2"><code class="js string">};</code></div><div class="line number1672 index1671 alt1">&nbsp;</div><div class="line number1673 index1672 alt2"><code class="js string">BattleManager.forceSelection = function() {</code></div><div class="line number1674 index1673 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._forceSelection = true;</code></div><div class="line number1675 index1674 alt2"><code class="js string">};</code></div><div class="line number1676 index1675 alt1">&nbsp;</div><div class="line number1677 index1676 alt2"><code class="js string">BattleManager.isForceSelection = function() {</code></div><div class="line number1678 index1677 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this._forceSelection;</code></div><div class="line number1679 index1678 alt2"><code class="js string">};</code></div><div class="line number1680 index1679 alt1">&nbsp;</div><div class="line number1681 index1680 alt2"><code class="js string">BattleManager.resetSelection = function() {</code></div><div class="line number1682 index1681 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._forceSelection = false;</code></div><div class="line number1683 index1682 alt2"><code class="js string">};</code></div><div class="line number1684 index1683 alt1">&nbsp;</div><div class="line number1685 index1684 alt2"><code class="js string">BattleManager.startAllSelection = function() {</code></div><div class="line number1686 index1685 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._allSelection = true;</code></div><div class="line number1687 index1686 alt2"><code class="js string">};</code></div><div class="line number1688 index1687 alt1">&nbsp;</div><div class="line number1689 index1688 alt2"><code class="js string">BattleManager.isAllSelection = function() {</code></div><div class="line number1690 index1689 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this._allSelection &amp;&amp; BattleManager.isInputting();</code></div><div class="line number1691 index1690 alt2"><code class="js string">};</code></div><div class="line number1692 index1691 alt1">&nbsp;</div><div class="line number1693 index1692 alt2"><code class="js string">BattleManager.stopAllSelection = function() {</code></div><div class="line number1694 index1693 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._allSelection = false;</code></div><div class="line number1695 index1694 alt2"><code class="js string">};</code></div><div class="line number1696 index1695 alt1">&nbsp;</div><div class="line number1697 index1696 alt2"><code class="js string">Yanfly.BEC.BattleManager_makeEscapeRatio = BattleManager.makeEscapeRatio;</code></div><div class="line number1698 index1697 alt1"><code class="js string">BattleManager.makeEscapeRatio = function() {</code></div><div class="line number1699 index1698 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isDTB()) {</code></div><div class="line number1700 index1699 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var code = Yanfly.Param.BECEscRatio;</code></div><div class="line number1701 index1700 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">try {</code></div><div class="line number1702 index1701 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._escapeRatio = eval(code);</code></div><div class="line number1703 index1702 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} catch (e) {</code></div><div class="line number1704 index1703 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._escapeRatio = 0;</code></div><div class="line number1705 index1704 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.Util.displayError(e, code, '</code><code class="js plain">ESCAPE RATIO FORMULA ERROR</code><code class="js string">');</code></div><div class="line number1706 index1705 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1707 index1706 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var code = Yanfly.Param.BECEscFail;</code></div><div class="line number1708 index1707 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">try {</code></div><div class="line number1709 index1708 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._escapeFailBoost = eval(code);</code></div><div class="line number1710 index1709 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} catch (e) {</code></div><div class="line number1711 index1710 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._escapeFailBoost = 0;</code></div><div class="line number1712 index1711 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.Util.displayError(e, code, '</code><code class="js plain">ESCAPE FAIL BOOST FORMULA ERROR</code><code class="js string">');</code></div><div class="line number1713 index1712 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1714 index1713 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number1715 index1714 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._escapeFailBoost = 0.1;</code></div><div class="line number1716 index1715 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.BattleManager_makeEscapeRatio.call(this);</code></div><div class="line number1717 index1716 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1718 index1717 alt1"><code class="js string">};</code></div><div class="line number1719 index1718 alt2">&nbsp;</div><div class="line number1720 index1719 alt1"><code class="js string">BattleManager.timeBasedStates = function() {</code></div><div class="line number1721 index1720 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!$gameParty.inBattle()) return false;</code></div><div class="line number1722 index1721 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isTurnBased()) return false;</code></div><div class="line number1723 index1722 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._timeBasedStates !== undefined) return this._timeBasedStates;</code></div><div class="line number1724 index1723 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._timeBasedStates = Yanfly.Param.BECTimeStates;</code></div><div class="line number1725 index1724 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this._timeBasedStates;</code></div><div class="line number1726 index1725 alt1"><code class="js string">};</code></div><div class="line number1727 index1726 alt2">&nbsp;</div><div class="line number1728 index1727 alt1"><code class="js string">BattleManager.timeBasedBuffs = function() {</code></div><div class="line number1729 index1728 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!$gameParty.inBattle()) return false;</code></div><div class="line number1730 index1729 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isTurnBased()) return false;</code></div><div class="line number1731 index1730 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._timeBasedBuffs !== undefined) return this._timeBasedBuffs;</code></div><div class="line number1732 index1731 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._timeBasedBuffs = Yanfly.Param.BECTimeBuffs;</code></div><div class="line number1733 index1732 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this._timeBasedBuffs;</code></div><div class="line number1734 index1733 alt1"><code class="js string">};</code></div><div class="line number1735 index1734 alt2">&nbsp;</div><div class="line number1736 index1735 alt1"><code class="js string">BattleManager.displayStartMessages = function() {</code></div><div class="line number1737 index1736 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Yanfly.Param.BECEmergeText) {</code></div><div class="line number1738 index1737 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">$gameTroop.enemyNames().forEach(function(name) {</code></div><div class="line number1739 index1738 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">$gameMessage.add(TextManager.emerge.format(name));</code></div><div class="line number1740 index1739 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">});</code></div><div class="line number1741 index1740 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1742 index1741 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._preemptive &amp;&amp; Yanfly.Param.BECPreEmpText) {</code></div><div class="line number1743 index1742 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">$gameMessage.add(TextManager.preemptive.format($gameParty.name()));</code></div><div class="line number1744 index1743 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (this._surprise &amp;&amp; Yanfly.Param.BECSurpText) {</code></div><div class="line number1745 index1744 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">$gameMessage.add(TextManager.surprise.format($gameParty.name()));</code></div><div class="line number1746 index1745 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1747 index1746 alt2"><code class="js string">};</code></div><div class="line number1748 index1747 alt1">&nbsp;</div><div class="line number1749 index1748 alt2"><code class="js string">BattleManager.registerSprite = function(battler, sprite) {</code></div><div class="line number1750 index1749 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (!this._registeredSprites) this._registeredSprites = {};</code></div><div class="line number1751 index1750 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (battler.isActor()) var id = 100000 + battler.actorId();</code></div><div class="line number1752 index1751 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (battler.isEnemy()) var id = 200000 + battler.index();</code></div><div class="line number1753 index1752 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">this._registeredSprites[id] = sprite;</code></div><div class="line number1754 index1753 alt1"><code class="js string">};</code></div><div class="line number1755 index1754 alt2">&nbsp;</div><div class="line number1756 index1755 alt1"><code class="js string">BattleManager.getSprite = function(battler) {</code></div><div class="line number1757 index1756 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (!this._registeredSprites) this._registeredSprites = {};</code></div><div class="line number1758 index1757 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (battler.isActor()) var id = 100000 + battler.actorId();</code></div><div class="line number1759 index1758 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (battler.isEnemy()) var id = 200000 + battler.index();</code></div><div class="line number1760 index1759 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">return this._registeredSprites[id];</code></div><div class="line number1761 index1760 alt2"><code class="js string">};</code></div><div class="line number1762 index1761 alt1">&nbsp;</div><div class="line number1763 index1762 alt2"><code class="js string">BattleManager.setSpritePriority = function() {</code></div><div class="line number1764 index1763 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameSystem.isSideView()) {</code></div><div class="line number1765 index1764 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._spritePriority = Yanfly.Param.BECSideSpPrio;</code></div><div class="line number1766 index1765 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number1767 index1766 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._spritePriority = Yanfly.Param.BECFrontSprite;</code></div><div class="line number1768 index1767 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1769 index1768 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._spritePriority === false) this._spritePriority = 0;</code></div><div class="line number1770 index1769 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._spritePriority === true) this._spritePriority = 1;</code></div><div class="line number1771 index1770 alt2"><code class="js string">};</code></div><div class="line number1772 index1771 alt1">&nbsp;</div><div class="line number1773 index1772 alt2"><code class="js string">BattleManager.getSpritePriority = function() {</code></div><div class="line number1774 index1773 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this._spritePriority) this.setSpritePriority();</code></div><div class="line number1775 index1774 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this._spritePriority;</code></div><div class="line number1776 index1775 alt1"><code class="js string">};</code></div><div class="line number1777 index1776 alt2">&nbsp;</div><div class="line number1778 index1777 alt1"><code class="js string">BattleManager.changeActor = function(newActorIndex, lastActorActionState) {</code></div><div class="line number1779 index1778 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var lastActor = this.actor();</code></div><div class="line number1780 index1779 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._actorIndex = newActorIndex;</code></div><div class="line number1781 index1780 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var newActor = this.actor();</code></div><div class="line number1782 index1781 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (lastActor) {</code></div><div class="line number1783 index1782 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">lastActor.setActionState(lastActorActionState);</code></div><div class="line number1784 index1783 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">lastActor.spriteReturnHome();</code></div><div class="line number1785 index1784 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1786 index1785 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (newActor) {</code></div><div class="line number1787 index1786 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">newActor.setActionState('</code><code class="js plain">inputting</code><code class="js string">');</code></div><div class="line number1788 index1787 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">newActor.spriteStepForward();</code></div><div class="line number1789 index1788 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1790 index1789 alt1"><code class="js string">};</code></div><div class="line number1791 index1790 alt2">&nbsp;</div><div class="line number1792 index1791 alt1"><code class="js string">BattleManager.createActions = function() {</code></div><div class="line number1793 index1792 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">$gameParty.createActions();</code></div><div class="line number1794 index1793 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">$gameTroop.createActions();</code></div><div class="line number1795 index1794 alt2"><code class="js string">};</code></div><div class="line number1796 index1795 alt1">&nbsp;</div><div class="line number1797 index1796 alt2"><code class="js string">BattleManager.clearInputtingAction = function() {</code></div><div class="line number1798 index1797 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.inputtingAction()) this.inputtingAction().clear();</code></div><div class="line number1799 index1798 alt2"><code class="js string">};</code></div><div class="line number1800 index1799 alt1">&nbsp;</div><div class="line number1801 index1800 alt2"><code class="js string">Yanfly.BEC.BattleManager_checkBattleEnd = BattleManager.checkBattleEnd;</code></div><div class="line number1802 index1801 alt1"><code class="js string">BattleManager.checkBattleEnd = function() {</code></div><div class="line number1803 index1802 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._phase === '</code><code class="js plain">actionList</code><code class="js string">') return false;</code></div><div class="line number1804 index1803 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._phase === '</code><code class="js plain">actionTargetList</code><code class="js string">') return false;</code></div><div class="line number1805 index1804 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._phase === '</code><code class="js plain">action</code><code class="js string">') return false;</code></div><div class="line number1806 index1805 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._phase === '</code><code class="js plain">phaseChange</code><code class="js string">') return false;</code></div><div class="line number1807 index1806 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameTroop.isEventRunning()) return false;</code></div><div class="line number1808 index1807 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return Yanfly.BEC.BattleManager_checkBattleEnd.call(this);</code></div><div class="line number1809 index1808 alt2"><code class="js string">};</code></div><div class="line number1810 index1809 alt1">&nbsp;</div><div class="line number1811 index1810 alt2"><code class="js string">Yanfly.BEC.BattleManager_processTurn = BattleManager.processTurn;</code></div><div class="line number1812 index1811 alt1"><code class="js string">BattleManager.processTurn = function() {</code></div><div class="line number1813 index1812 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._processTurn = true;</code></div><div class="line number1814 index1813 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.BattleManager_processTurn.call(this);</code></div><div class="line number1815 index1814 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._processTurn = false;</code></div><div class="line number1816 index1815 alt1"><code class="js string">};</code></div><div class="line number1817 index1816 alt2">&nbsp;</div><div class="line number1818 index1817 alt1"><code class="js string">Yanfly.BEC.BattleManager_processVictory = BattleManager.processVictory;</code></div><div class="line number1819 index1818 alt2"><code class="js string">BattleManager.processVictory = function() {</code></div><div class="line number1820 index1819 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._logWindow.clear();</code></div><div class="line number1821 index1820 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._victoryPhase = true;</code></div><div class="line number1822 index1821 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._windowLayer) this._windowLayer.x = 0;</code></div><div class="line number1823 index1822 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.BattleManager_processVictory.call(this);</code></div><div class="line number1824 index1823 alt1"><code class="js string">};</code></div><div class="line number1825 index1824 alt2">&nbsp;</div><div class="line number1826 index1825 alt1"><code class="js string">BattleManager.processEscape = function() {</code></div><div class="line number1827 index1826 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">$gameParty.performEscape();</code></div><div class="line number1828 index1827 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">SoundManager.playEscape();</code></div><div class="line number1829 index1828 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var success = this._preemptive ? true : (Math.random() &lt; this._escapeRatio);</code></div><div class="line number1830 index1829 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gamePlayer.isDebugThrough()) success = true;</code></div><div class="line number1831 index1830 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (success) {</code></div><div class="line number1832 index1831 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">$gameParty.performEscapeSuccess();</code></div><div class="line number1833 index1832 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.displayEscapeSuccessMessage();</code></div><div class="line number1834 index1833 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._escaped = true;</code></div><div class="line number1835 index1834 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.processAbort();</code></div><div class="line number1836 index1835 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number1837 index1836 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.displayEscapeFailureMessage();</code></div><div class="line number1838 index1837 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._escapeRatio += this._escapeFailBoost;</code></div><div class="line number1839 index1838 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">$gameParty.clearActions();</code></div><div class="line number1840 index1839 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.startTurn();</code></div><div class="line number1841 index1840 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1842 index1841 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return success;</code></div><div class="line number1843 index1842 alt2"><code class="js string">};</code></div><div class="line number1844 index1843 alt1">&nbsp;</div><div class="line number1845 index1844 alt2"><code class="js string">Yanfly.BEC.BattleManager_processAbort = BattleManager.processAbort;</code></div><div class="line number1846 index1845 alt1"><code class="js string">BattleManager.processAbort = function() {</code></div><div class="line number1847 index1846 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">$gameParty.removeBattleStates();</code></div><div class="line number1848 index1847 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.BattleManager_processAbort.call(this);</code></div><div class="line number1849 index1848 alt2"><code class="js string">};</code></div><div class="line number1850 index1849 alt1">&nbsp;</div><div class="line number1851 index1850 alt2"><code class="js string">BattleManager.refreshAllMembers = function() {</code></div><div class="line number1852 index1851 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">$gameParty.refreshMembers();</code></div><div class="line number1853 index1852 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">$gameTroop.refreshMembers();</code></div><div class="line number1854 index1853 alt1"><code class="js string">};</code></div><div class="line number1855 index1854 alt2">&nbsp;</div><div class="line number1856 index1855 alt1"><code class="js string">BattleManager.startTurn = function() {</code></div><div class="line number1857 index1856 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._enteredEndPhase = false;</code></div><div class="line number1858 index1857 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._phase = '</code><code class="js plain">turn</code><code class="js string">';</code></div><div class="line number1859 index1858 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.clearActor();</code></div><div class="line number1860 index1859 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">$gameTroop.increaseTurn();</code></div><div class="line number1861 index1860 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">$gameParty.onTurnStart();</code></div><div class="line number1862 index1861 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">$gameTroop.onTurnStart();</code></div><div class="line number1863 index1862 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._performedBattlers = [];</code></div><div class="line number1864 index1863 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.makeActionOrders();</code></div><div class="line number1865 index1864 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">$gameParty.requestMotionRefresh();</code></div><div class="line number1866 index1865 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._logWindow.startTurn();</code></div><div class="line number1867 index1866 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._subject = this.getNextSubject();</code></div><div class="line number1868 index1867 alt1"><code class="js string">};</code></div><div class="line number1869 index1868 alt2">&nbsp;</div><div class="line number1870 index1869 alt1"><code class="js string">Yanfly.BEC.BattleManager_endTurn = BattleManager.endTurn;</code></div><div class="line number1871 index1870 alt2"><code class="js string">BattleManager.endTurn = function() {</code></div><div class="line number1872 index1871 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isTurnBased() &amp;&amp; this._spriteset.isPopupPlaying()) return;</code></div><div class="line number1873 index1872 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isTurnBased() &amp;&amp; this._enteredEndPhase) {</code></div><div class="line number1874 index1873 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._phase = '</code><code class="js plain">turnEnd</code><code class="js string">';</code></div><div class="line number1875 index1874 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._preemptive = false;</code></div><div class="line number1876 index1875 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._surprise = false;</code></div><div class="line number1877 index1876 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return;</code></div><div class="line number1878 index1877 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1879 index1878 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._enteredEndPhase = true;</code></div><div class="line number1880 index1879 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.BattleManager_endTurn.call(this);</code></div><div class="line number1881 index1880 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">BattleManager.refreshAllMembers();</code></div><div class="line number1882 index1881 alt1"><code class="js string">};</code></div><div class="line number1883 index1882 alt2">&nbsp;</div><div class="line number1884 index1883 alt1"><code class="js string">BattleManager.getNextSubject = function() {</code></div><div class="line number1885 index1884 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameTroop.turnCount() &lt;= 0) return;</code></div><div class="line number1886 index1885 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._performedBattlers = this._performedBattlers || [];</code></div><div class="line number1887 index1886 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.makeActionOrders();</code></div><div class="line number1888 index1887 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (;;) {</code></div><div class="line number1889 index1888 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var battlerArray = [];</code></div><div class="line number1890 index1889 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; this._actionBattlers.length; ++i) {</code></div><div class="line number1891 index1890 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var obj = this._actionBattlers[i];</code></div><div class="line number1892 index1891 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this._performedBattlers.contains(obj)) battlerArray.push(obj);</code></div><div class="line number1893 index1892 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1894 index1893 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._actionBattlers = battlerArray;</code></div><div class="line number1895 index1894 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var battler = this._actionBattlers.shift();</code></div><div class="line number1896 index1895 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!battler) return null;</code></div><div class="line number1897 index1896 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (battler.isBattleMember() &amp;&amp; battler.isAlive()) {</code></div><div class="line number1898 index1897 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.pushPerformedBattler(battler);</code></div><div class="line number1899 index1898 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return battler;</code></div><div class="line number1900 index1899 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1901 index1900 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1902 index1901 alt1"><code class="js string">};</code></div><div class="line number1903 index1902 alt2">&nbsp;</div><div class="line number1904 index1903 alt1"><code class="js string">BattleManager.pushPerformedBattler = function(battler) {</code></div><div class="line number1905 index1904 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">this._performedBattlers.push(battler);</code></div><div class="line number1906 index1905 alt1"><code class="js string">};</code></div><div class="line number1907 index1906 alt2">&nbsp;</div><div class="line number1908 index1907 alt1"><code class="js string">BattleManager.update = function() {</code></div><div class="line number1909 index1908 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this.isBusy() &amp;&amp; !this.updateEvent()) {</code></div><div class="line number1910 index1909 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">switch (this._phase) {</code></div><div class="line number1911 index1910 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">case '</code><code class="js plain">start</code><code class="js string">':</code></div><div class="line number1912 index1911 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.startInput();</code></div><div class="line number1913 index1912 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">break;</code></div><div class="line number1914 index1913 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">case '</code><code class="js plain">turn</code><code class="js string">':</code></div><div class="line number1915 index1914 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateTurn();</code></div><div class="line number1916 index1915 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">break;</code></div><div class="line number1917 index1916 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">case '</code><code class="js plain">action</code><code class="js string">':</code></div><div class="line number1918 index1917 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateAction();</code></div><div class="line number1919 index1918 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">break;</code></div><div class="line number1920 index1919 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">case '</code><code class="js plain">phaseChange</code><code class="js string">':</code></div><div class="line number1921 index1920 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updatePhase();</code></div><div class="line number1922 index1921 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">break;</code></div><div class="line number1923 index1922 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">case '</code><code class="js plain">actionList</code><code class="js string">':</code></div><div class="line number1924 index1923 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateActionList()</code></div><div class="line number1925 index1924 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">break;</code></div><div class="line number1926 index1925 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">case '</code><code class="js plain">actionTargetList</code><code class="js string">':</code></div><div class="line number1927 index1926 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateActionTargetList()</code></div><div class="line number1928 index1927 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">break;</code></div><div class="line number1929 index1928 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">case '</code><code class="js plain">turnEnd</code><code class="js string">':</code></div><div class="line number1930 index1929 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateTurnEnd();</code></div><div class="line number1931 index1930 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">break;</code></div><div class="line number1932 index1931 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">case '</code><code class="js plain">battleEnd</code><code class="js string">':</code></div><div class="line number1933 index1932 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateBattleEnd();</code></div><div class="line number1934 index1933 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">break;</code></div><div class="line number1935 index1934 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1936 index1935 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1937 index1936 alt2"><code class="js string">};</code></div><div class="line number1938 index1937 alt1">&nbsp;</div><div class="line number1939 index1938 alt2"><code class="js string">BattleManager.updateEvent = function() {</code></div><div class="line number1940 index1939 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._processingForcedAction) return false;</code></div><div class="line number1941 index1940 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">switch (this._phase) {</code></div><div class="line number1942 index1941 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">case '</code><code class="js plain">start</code><code class="js string">':</code></div><div class="line number1943 index1942 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">case '</code><code class="js plain">turn</code><code class="js string">':</code></div><div class="line number1944 index1943 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">case '</code><code class="js plain">turnEnd</code><code class="js string">':</code></div><div class="line number1945 index1944 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">case '</code><code class="js plain">actionList</code><code class="js string">':</code></div><div class="line number1946 index1945 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">case '</code><code class="js plain">actionTargetList</code><code class="js string">':</code></div><div class="line number1947 index1946 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isActionForced()) {</code></div><div class="line number1948 index1947 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.processForcedAction();</code></div><div class="line number1949 index1948 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return true;</code></div><div class="line number1950 index1949 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number1951 index1950 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.updateEventMain();</code></div><div class="line number1952 index1951 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1953 index1952 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1954 index1953 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.checkAbort();</code></div><div class="line number1955 index1954 alt2"><code class="js string">};</code></div><div class="line number1956 index1955 alt1">&nbsp;</div><div class="line number1957 index1956 alt2"><code class="js string">BattleManager.queueForceAction = function(user, skillId, target) {</code></div><div class="line number1958 index1957 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target === undefined) {</code></div><div class="line number1959 index1958 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var targetIndex = 0;</code></div><div class="line number1960 index1959 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (typeof target === '</code><code class="js plain">number</code><code class="js string">') {</code></div><div class="line number1961 index1960 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var targetIndex = target;</code></div><div class="line number1962 index1961 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number1963 index1962 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var targetIndex = target.index();</code></div><div class="line number1964 index1963 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1965 index1964 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var param = [</code></div><div class="line number1966 index1965 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">user.isEnemy() ? 0 : 1,</code></div><div class="line number1967 index1966 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">user.isActor() ? user.actorId() : user.index(),</code></div><div class="line number1968 index1967 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">skillId,</code></div><div class="line number1969 index1968 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">targetIndex</code></div><div class="line number1970 index1969 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">];</code></div><div class="line number1971 index1970 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var command = {</code></div><div class="line number1972 index1971 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">code: 339,</code></div><div class="line number1973 index1972 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">indent: 0,</code></div><div class="line number1974 index1973 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">parameters: param</code></div><div class="line number1975 index1974 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1976 index1975 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">$gameTemp.forceActionQueue(command);</code></div><div class="line number1977 index1976 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.clearResults();</code></div><div class="line number1978 index1977 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isTickBased()) this._phase = '</code><code class="js plain">action</code><code class="js string">';</code></div><div class="line number1979 index1978 alt2"><code class="js string">};</code></div><div class="line number1980 index1979 alt1">&nbsp;</div><div class="line number1981 index1980 alt2"><code class="js string">BattleManager.addText = function(text, wait) {</code></div><div class="line number1982 index1981 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (!SceneManager._scene._logWindow) return;</code></div><div class="line number1983 index1982 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">wait = wait || 0;</code></div><div class="line number1984 index1983 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">SceneManager._scene._logWindow.addText(text);</code></div><div class="line number1985 index1984 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (wait &lt;= 0) return;</code></div><div class="line number1986 index1985 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var last = this._actionList[this._actionList.length - 1];</code></div><div class="line number1987 index1986 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (last &amp;&amp; last[0] === '</code><code class="js plain">WAIT</code><code class="js string">') return;</code></div><div class="line number1988 index1987 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">this._actionList.push(['</code><code class="js plain">WAIT</code><code class="js string">', [wait]]);</code></div><div class="line number1989 index1988 alt2"><code class="js string">};</code></div><div class="line number1990 index1989 alt1">&nbsp;</div><div class="line number1991 index1990 alt2"><code class="js string">BattleManager.clearResults = function() {</code></div><div class="line number1992 index1991 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var group = this.allBattleMembers();</code></div><div class="line number1993 index1992 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var length = group.length;</code></div><div class="line number1994 index1993 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; length; ++i) {</code></div><div class="line number1995 index1994 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var member = group[i];</code></div><div class="line number1996 index1995 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (member) member.clearResult();</code></div><div class="line number1997 index1996 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number1998 index1997 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">this._allTargets = [];</code></div><div class="line number1999 index1998 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">this._targets = [];</code></div><div class="line number2000 index1999 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">this._target = undefined;</code></div><div class="line number2001 index2000 alt2"><code class="js string">};</code></div><div class="line number2002 index2001 alt1">&nbsp;</div><div class="line number2003 index2002 alt2"><code class="js string">Yanfly.BEC.BattleManager_forceAction = BattleManager.forceAction;</code></div><div class="line number2004 index2003 alt1"><code class="js string">BattleManager.forceAction = function(battler) {</code></div><div class="line number2005 index2004 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._subject) this._subject.clearResult();</code></div><div class="line number2006 index2005 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.createForceActionFailSafes();</code></div><div class="line number2007 index2006 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.savePreForceActionSettings();</code></div><div class="line number2008 index2007 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.BattleManager_forceAction.call(this, battler);</code></div><div class="line number2009 index2008 alt2"><code class="js string">};</code></div><div class="line number2010 index2009 alt1">&nbsp;</div><div class="line number2011 index2010 alt2"><code class="js string">BattleManager.createForceActionFailSafes = function() {</code></div><div class="line number2012 index2011 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._actionList = this._actionList || [];</code></div><div class="line number2013 index2012 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._targets = this._targets || [];</code></div><div class="line number2014 index2013 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._allTargets = this._allTargets || [];</code></div><div class="line number2015 index2014 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._individualTargets = this._individualTargets || [];</code></div><div class="line number2016 index2015 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._phaseSteps = this._phaseSteps || [];</code></div><div class="line number2017 index2016 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._conditionFlags = this._conditionFlags || [];</code></div><div class="line number2018 index2017 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._trueFlags = this._trueFlags || [];</code></div><div class="line number2019 index2018 alt2"><code class="js string">};</code></div><div class="line number2020 index2019 alt1">&nbsp;</div><div class="line number2021 index2020 alt2"><code class="js string">BattleManager.savePreForceActionSettings = function() {</code></div><div class="line number2022 index2021 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var settings = this.setPreForceActionSettings();</code></div><div class="line number2023 index2022 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._forceActionQueue.push(settings);</code></div><div class="line number2024 index2023 alt1"><code class="js string">};</code></div><div class="line number2025 index2024 alt2">&nbsp;</div><div class="line number2026 index2025 alt1"><code class="js string">BattleManager.setPreForceActionSettings = function() {</code></div><div class="line number2027 index2026 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return {</code></div><div class="line number2028 index2027 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">subject: this._subject,</code></div><div class="line number2029 index2028 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">action: JsonEx.makeDeepCopy(this._action),</code></div><div class="line number2030 index2029 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">actionList: JsonEx.makeDeepCopy(this._actionList),</code></div><div class="line number2031 index2030 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">targets: this._targets.slice(),</code></div><div class="line number2032 index2031 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">allTargets: this._allTargets.slice(),</code></div><div class="line number2033 index2032 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">indTargets: this._individualTargets.slice(),</code></div><div class="line number2034 index2033 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">phaseSteps: JsonEx.makeDeepCopy(this._phaseSteps),</code></div><div class="line number2035 index2034 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">returnPhase: this._returnPhase,</code></div><div class="line number2036 index2035 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">phase: this._phase,</code></div><div class="line number2037 index2036 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">conditionFlags: JsonEx.makeDeepCopy(this._conditionFlags),</code></div><div class="line number2038 index2037 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">trueFlags: JsonEx.makeDeepCopy(this._trueFlags)</code></div><div class="line number2039 index2038 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2040 index2039 alt1"><code class="js string">};</code></div><div class="line number2041 index2040 alt2">&nbsp;</div><div class="line number2042 index2041 alt1"><code class="js string">BattleManager.loadPreForceActionSettings = function() {</code></div><div class="line number2043 index2042 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var settings = this._forceActionQueue[0];</code></div><div class="line number2044 index2043 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (settings) {</code></div><div class="line number2045 index2044 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._forceActionQueue.shift();</code></div><div class="line number2046 index2045 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.resetPreForceActionSettings(settings);</code></div><div class="line number2047 index2046 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this._subject &amp;&amp; this._subject.isAppeared();</code></div><div class="line number2048 index2047 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number2049 index2048 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return false;</code></div><div class="line number2050 index2049 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}&nbsp;&nbsp;&nbsp; </code></div><div class="line number2051 index2050 alt2"><code class="js string">};</code></div><div class="line number2052 index2051 alt1">&nbsp;</div><div class="line number2053 index2052 alt2"><code class="js string">BattleManager.resetPreForceActionSettings = function(settings) {</code></div><div class="line number2054 index2053 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._subject = settings['</code><code class="js plain">subject</code><code class="js string">'];</code></div><div class="line number2055 index2054 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._action = settings['</code><code class="js plain">action</code><code class="js string">'];</code></div><div class="line number2056 index2055 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._actionList = settings['</code><code class="js plain">actionList</code><code class="js string">'];</code></div><div class="line number2057 index2056 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._targets = settings['</code><code class="js plain">targets</code><code class="js string">'];</code></div><div class="line number2058 index2057 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._allTargets = settings['</code><code class="js plain">allTargets</code><code class="js string">'];</code></div><div class="line number2059 index2058 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._individualTargets = settings['</code><code class="js plain">indTargets</code><code class="js string">'];</code></div><div class="line number2060 index2059 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._phaseSteps = settings['</code><code class="js plain">phaseSteps</code><code class="js string">'];</code></div><div class="line number2061 index2060 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._returnPhase = settings['</code><code class="js plain">returnPhase</code><code class="js string">'];</code></div><div class="line number2062 index2061 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._conditionFlags = settings['</code><code class="js plain">conditionFlags</code><code class="js string">'];</code></div><div class="line number2063 index2062 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._trueFlags = settings['</code><code class="js plain">trueFlags</code><code class="js string">'];</code></div><div class="line number2064 index2063 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._phase = settings['</code><code class="js plain">phase</code><code class="js string">'];&nbsp;&nbsp; </code></div><div class="line number2065 index2064 alt2"><code class="js string">};</code></div><div class="line number2066 index2065 alt1">&nbsp;</div><div class="line number2067 index2066 alt2"><code class="js string">Yanfly.BEC.BattleManager_processForcedAction =</code></div><div class="line number2068 index2067 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">BattleManager.processForcedAction;</code></div><div class="line number2069 index2068 alt2"><code class="js string">BattleManager.processForcedAction = function() {</code></div><div class="line number2070 index2069 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._actionForcedBattler) {</code></div><div class="line number2071 index2070 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._preForcePhase = this._phase;</code></div><div class="line number2072 index2071 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._processingForcedAction = true;</code></div><div class="line number2073 index2072 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2074 index2073 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.BattleManager_processForcedAction.call(this);</code></div><div class="line number2075 index2074 alt2"><code class="js string">};</code></div><div class="line number2076 index2075 alt1">&nbsp;</div><div class="line number2077 index2076 alt2"><code class="js string">BattleManager.setTargets = function(array) {</code></div><div class="line number2078 index2077 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._targets = [];</code></div><div class="line number2079 index2078 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var max = array.length;</code></div><div class="line number2080 index2079 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; max; ++i) {</code></div><div class="line number2081 index2080 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = array[i];</code></div><div class="line number2082 index2081 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target) this._targets.push(target);</code></div><div class="line number2083 index2082 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2084 index2083 alt1"><code class="js string">};</code></div><div class="line number2085 index2084 alt2">&nbsp;</div><div class="line number2086 index2085 alt1"><code class="js string">BattleManager.updateAction = function() {</code></div><div class="line number2087 index2086 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = this._targets.shift();</code></div><div class="line number2088 index2087 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target) {</code></div><div class="line number2089 index2088 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.invokeAction(this._subject, target);</code></div><div class="line number2090 index2089 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number2091 index2090 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._returnPhase === '</code><code class="js plain">target</code><code class="js string">') {</code></div><div class="line number2092 index2091 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.setTargets([this._individualTargets[0]]);</code></div><div class="line number2093 index2092 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._phase = '</code><code class="js plain">actionTargetList</code><code class="js string">';</code></div><div class="line number2094 index2093 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number2095 index2094 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.setTargets(this._allTargets.slice());</code></div><div class="line number2096 index2095 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._phase = '</code><code class="js plain">actionList</code><code class="js string">';</code></div><div class="line number2097 index2096 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2098 index2097 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2099 index2098 alt2"><code class="js string">};</code></div><div class="line number2100 index2099 alt1">&nbsp;</div><div class="line number2101 index2100 alt2"><code class="js string">BattleManager.invokeAction = function(subject, target) {</code></div><div class="line number2102 index2101 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (!Yanfly.Param.BECOptSpeed)&nbsp; this._logWindow.push('</code><code class="js plain">pushBaseLine</code><code class="js string">');</code></div><div class="line number2103 index2102 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var normal = true;</code></div><div class="line number2104 index2103 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (Math.random() &lt; this._action.itemMrf(target)) {</code></div><div class="line number2105 index2104 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.invokeMagicReflection(subject, target);</code></div><div class="line number2106 index2105 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">} else if (Math.random() &lt; this._action.itemCnt(target)) {</code></div><div class="line number2107 index2106 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.invokeCounterAttack(subject, target);</code></div><div class="line number2108 index2107 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number2109 index2108 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.invokeNormalAction(subject, target);</code></div><div class="line number2110 index2109 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2111 index2110 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (subject) subject.setLastTarget(target);</code></div><div class="line number2112 index2111 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (!Yanfly.Param.BECOptSpeed) this._logWindow.push('</code><code class="js plain">popBaseLine</code><code class="js string">');</code></div><div class="line number2113 index2112 alt2"><code class="js string">};</code></div><div class="line number2114 index2113 alt1">&nbsp;</div><div class="line number2115 index2114 alt2"><code class="js string">BattleManager.invokeCounterAttack = function(subject, target) {</code></div><div class="line number2116 index2115 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var action = new Game_Action(target);</code></div><div class="line number2117 index2116 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._logWindow.displayCounter(target);</code></div><div class="line number2118 index2117 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">action.setAttack();</code></div><div class="line number2119 index2118 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">action.apply(subject);</code></div><div class="line number2120 index2119 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._logWindow.displayActionResults(target, subject);</code></div><div class="line number2121 index2120 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (subject.isDead()) subject.performCollapse();</code></div><div class="line number2122 index2121 alt1"><code class="js string">};</code></div><div class="line number2123 index2122 alt2">&nbsp;</div><div class="line number2124 index2123 alt1"><code class="js string">Yanfly.BEC.BattleManager_invokeMagicReflection =</code></div><div class="line number2125 index2124 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">BattleManager.invokeMagicReflection;</code></div><div class="line number2126 index2125 alt1"><code class="js string">BattleManager.invokeMagicReflection = function(subject, target) {</code></div><div class="line number2127 index2126 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.BattleManager_invokeMagicReflection.call(this, subject, target);</code></div><div class="line number2128 index2127 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (subject.isDead()) subject.performCollapse();</code></div><div class="line number2129 index2128 alt2"><code class="js string">};</code></div><div class="line number2130 index2129 alt1">&nbsp;</div><div class="line number2131 index2130 alt2"><code class="js string">BattleManager.updatePhase = function() {</code></div><div class="line number2132 index2131 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var phase = this._phaseSteps.shift();</code></div><div class="line number2133 index2132 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (phase) this.createPhaseChanges();</code></div><div class="line number2134 index2133 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">switch (phase) {</code></div><div class="line number2135 index2134 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">case '</code><code class="js plain">setup</code><code class="js string">':</code></div><div class="line number2136 index2135 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.createSetupActions();</code></div><div class="line number2137 index2136 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">break;</code></div><div class="line number2138 index2137 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">case '</code><code class="js plain">whole</code><code class="js string">':</code></div><div class="line number2139 index2138 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.createWholeActions();</code></div><div class="line number2140 index2139 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">break;</code></div><div class="line number2141 index2140 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">case '</code><code class="js plain">target</code><code class="js string">':</code></div><div class="line number2142 index2141 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.createTargetActions();</code></div><div class="line number2143 index2142 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">break;</code></div><div class="line number2144 index2143 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">case '</code><code class="js plain">follow</code><code class="js string">':</code></div><div class="line number2145 index2144 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.createFollowActions();</code></div><div class="line number2146 index2145 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">break;</code></div><div class="line number2147 index2146 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">case '</code><code class="js plain">finish</code><code class="js string">':</code></div><div class="line number2148 index2147 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.createFinishActions();</code></div><div class="line number2149 index2148 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">break;</code></div><div class="line number2150 index2149 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">default:</code></div><div class="line number2151 index2150 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.endAction();</code></div><div class="line number2152 index2151 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">break;</code></div><div class="line number2153 index2152 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2154 index2153 alt1"><code class="js string">};</code></div><div class="line number2155 index2154 alt2">&nbsp;</div><div class="line number2156 index2155 alt1"><code class="js string">BattleManager.createPhaseChanges = function() {</code></div><div class="line number2157 index2156 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._phase = '</code><code class="js plain">actionList</code><code class="js string">';</code></div><div class="line number2158 index2157 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.setTargets(this._allTargets.slice());</code></div><div class="line number2159 index2158 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._conditionFlags = [];</code></div><div class="line number2160 index2159 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._trueFlags = [];</code></div><div class="line number2161 index2160 alt2"><code class="js string">};</code></div><div class="line number2162 index2161 alt1">&nbsp;</div><div class="line number2163 index2162 alt2"><code class="js string">BattleManager.createSetupActions = function() {</code></div><div class="line number2164 index2163 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">$gameTemp.clearActionSequenceSettings();</code></div><div class="line number2165 index2164 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._returnPhase = '</code><code class="js plain">setup</code><code class="js string">';</code></div><div class="line number2166 index2165 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._actionList = this._action.item().setupActions.slice();</code></div><div class="line number2167 index2166 alt2"><code class="js string">};</code></div><div class="line number2168 index2167 alt1">&nbsp;</div><div class="line number2169 index2168 alt2"><code class="js string">BattleManager.createWholeActions = function() {</code></div><div class="line number2170 index2169 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._returnPhase = '</code><code class="js plain">whole</code><code class="js string">';</code></div><div class="line number2171 index2170 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._actionList = this._action.item().wholeActions.slice();</code></div><div class="line number2172 index2171 alt1"><code class="js string">};</code></div><div class="line number2173 index2172 alt2">&nbsp;</div><div class="line number2174 index2173 alt1"><code class="js string">BattleManager.createTargetActions = function() {</code></div><div class="line number2175 index2174 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._returnPhase = '</code><code class="js plain">target</code><code class="js string">';</code></div><div class="line number2176 index2175 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._phase = '</code><code class="js plain">actionTargetList</code><code class="js string">';</code></div><div class="line number2177 index2176 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.setTargets([this._individualTargets[0]]);</code></div><div class="line number2178 index2177 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._actionList = this._action.item().targetActions.slice();</code></div><div class="line number2179 index2178 alt2"><code class="js string">};</code></div><div class="line number2180 index2179 alt1">&nbsp;</div><div class="line number2181 index2180 alt2"><code class="js string">BattleManager.createFollowActions = function() {</code></div><div class="line number2182 index2181 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._returnPhase = '</code><code class="js plain">follow</code><code class="js string">';</code></div><div class="line number2183 index2182 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._actionList = this._action.item().followActions.slice();</code></div><div class="line number2184 index2183 alt1"><code class="js string">};</code></div><div class="line number2185 index2184 alt2">&nbsp;</div><div class="line number2186 index2185 alt1"><code class="js string">BattleManager.createFinishActions = function() {</code></div><div class="line number2187 index2186 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._returnPhase = '</code><code class="js plain">finish</code><code class="js string">';</code></div><div class="line number2188 index2187 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._actionList = this._action.item().finishActions.slice();</code></div><div class="line number2189 index2188 alt2"><code class="js string">};</code></div><div class="line number2190 index2189 alt1">&nbsp;</div><div class="line number2191 index2190 alt2"><code class="js string">Yanfly.BEC.BattleManager_endAction = BattleManager.endAction;</code></div><div class="line number2192 index2191 alt1"><code class="js string">BattleManager.endAction = function() {</code></div><div class="line number2193 index2192 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._subject) {</code></div><div class="line number2194 index2193 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._subject.onAllActionsEnd();</code></div><div class="line number2195 index2194 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2196 index2195 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._processingForcedAction) {</code></div><div class="line number2197 index2196 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._subject.removeCurrentAction();</code></div><div class="line number2198 index2197 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._phase = this._preForcePhase;</code></div><div class="line number2199 index2198 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2200 index2199 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._processingForcedAction = false;</code></div><div class="line number2201 index2200 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.loadPreForceActionSettings()) return;</code></div><div class="line number2202 index2201 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.BattleManager_endAction.call(this);</code></div><div class="line number2203 index2202 alt2"><code class="js string">};</code></div><div class="line number2204 index2203 alt1">&nbsp;</div><div class="line number2205 index2204 alt2"><code class="js string">BattleManager.updateActionList = function() {</code></div><div class="line number2206 index2205 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (;;) {</code></div><div class="line number2207 index2206 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._actSeq = this._actionList.shift();</code></div><div class="line number2208 index2207 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._actSeq) {</code></div><div class="line number2209 index2208 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this.actionConditionsMet(this._actSeq)) continue;</code></div><div class="line number2210 index2209 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var seqName = this._actSeq[0].toUpperCase();</code></div><div class="line number2211 index2210 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this.processActionSequenceCheck(seqName, this._actSeq[1])) {</code></div><div class="line number2212 index2211 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">break;</code></div><div class="line number2213 index2212 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2214 index2213 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number2215 index2214 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._phase = '</code><code class="js plain">phaseChange</code><code class="js string">';</code></div><div class="line number2216 index2215 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">break;</code></div><div class="line number2217 index2216 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2218 index2217 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2219 index2218 alt2"><code class="js string">};</code></div><div class="line number2220 index2219 alt1">&nbsp;</div><div class="line number2221 index2220 alt2"><code class="js string">BattleManager.updateActionTargetList = function() {</code></div><div class="line number2222 index2221 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (;;) {</code></div><div class="line number2223 index2222 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._actSeq = this._actionList.shift();</code></div><div class="line number2224 index2223 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._actSeq) {</code></div><div class="line number2225 index2224 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this.actionConditionsMet(this._actSeq)) continue;</code></div><div class="line number2226 index2225 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var seqName = this._actSeq[0].toUpperCase();</code></div><div class="line number2227 index2226 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this.processActionSequenceCheck(seqName, this._actSeq[1])) {</code></div><div class="line number2228 index2227 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">break;</code></div><div class="line number2229 index2228 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2230 index2229 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (this._individualTargets.length &gt; 0) {</code></div><div class="line number2231 index2230 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._individualTargets.shift();</code></div><div class="line number2232 index2231 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._individualTargets.length &gt; 0) {</code></div><div class="line number2233 index2232 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.setTargets([this._individualTargets[0]]);</code></div><div class="line number2234 index2233 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._actionList = this._action.item().targetActions.slice();</code></div><div class="line number2235 index2234 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number2236 index2235 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._phase = '</code><code class="js plain">phaseChange</code><code class="js string">';</code></div><div class="line number2237 index2236 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">break;</code></div><div class="line number2238 index2237 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2239 index2238 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number2240 index2239 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._phase = '</code><code class="js plain">phaseChange</code><code class="js string">';</code></div><div class="line number2241 index2240 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">break;</code></div><div class="line number2242 index2241 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2243 index2242 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2244 index2243 alt1"><code class="js string">};</code></div><div class="line number2245 index2244 alt2">&nbsp;</div><div class="line number2246 index2245 alt1"><code class="js string">BattleManager.updateActionTargetList = function() {</code></div><div class="line number2247 index2246 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (;;) {</code></div><div class="line number2248 index2247 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._actSeq = this._actionList.shift();</code></div><div class="line number2249 index2248 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._actSeq) {</code></div><div class="line number2250 index2249 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this.actionConditionsMet(this._actSeq)) continue;</code></div><div class="line number2251 index2250 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var seqName = this._actSeq[0].toUpperCase();</code></div><div class="line number2252 index2251 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this.processActionSequenceCheck(seqName, this._actSeq[1])) {</code></div><div class="line number2253 index2252 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">break;</code></div><div class="line number2254 index2253 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2255 index2254 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (this._individualTargets.length &gt; 0) {</code></div><div class="line number2256 index2255 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._individualTargets.shift();</code></div><div class="line number2257 index2256 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._individualTargets.length &gt; 0) {</code></div><div class="line number2258 index2257 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.setTargets([this._individualTargets[0]]);</code></div><div class="line number2259 index2258 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._actionList = this._action.item().targetActions.slice();</code></div><div class="line number2260 index2259 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number2261 index2260 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._phase = '</code><code class="js plain">phaseChange</code><code class="js string">';</code></div><div class="line number2262 index2261 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">break;</code></div><div class="line number2263 index2262 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2264 index2263 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number2265 index2264 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._phase = '</code><code class="js plain">phaseChange</code><code class="js string">';</code></div><div class="line number2266 index2265 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">break;</code></div><div class="line number2267 index2266 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2268 index2267 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2269 index2268 alt2"><code class="js string">};</code></div><div class="line number2270 index2269 alt1">&nbsp;</div><div class="line number2271 index2270 alt2"><code class="js string">BattleManager.startAction = function() {</code></div><div class="line number2272 index2271 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var subject = this._subject;</code></div><div class="line number2273 index2272 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!subject) return this.endAction();</code></div><div class="line number2274 index2273 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var action = subject.currentAction();</code></div><div class="line number2275 index2274 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._action = action;</code></div><div class="line number2276 index2275 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this._action) return this.endAction();</code></div><div class="line number2277 index2276 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this._action.item()) return this.endAction();</code></div><div class="line number2278 index2277 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var targets = action.makeTargets();</code></div><div class="line number2279 index2278 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.setTargets(targets);</code></div><div class="line number2280 index2279 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._allTargets = targets.slice();</code></div><div class="line number2281 index2280 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._individualTargets = targets.slice();</code></div><div class="line number2282 index2281 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._phase = '</code><code class="js plain">phaseChange</code><code class="js string">';</code></div><div class="line number2283 index2282 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._phaseSteps = ['</code><code class="js plain">setup</code><code class="js string">', '</code><code class="js plain">whole</code><code class="js string">', '</code><code class="js plain">target</code><code class="js string">', '</code><code class="js plain">follow</code><code class="js string">', '</code><code class="js plain">finish</code><code class="js string">'];</code></div><div class="line number2284 index2283 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._returnPhase = '</code><code class="js string">';</code></div><div class="line number2285 index2284 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._actionList = [];</code></div><div class="line number2286 index2285 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">subject.useItem(this._action.item());</code></div><div class="line number2287 index2286 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._action.applyGlobal();</code></div><div class="line number2288 index2287 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._logWindow.startAction(this._subject, this._action, this._targets);</code></div><div class="line number2289 index2288 alt2"><code class="js string">};</code></div><div class="line number2290 index2289 alt1">&nbsp;</div><div class="line number2291 index2290 alt2"><code class="js string">BattleManager.processActionSequenceCheck = function(actionName, actionArgs) {</code></div><div class="line number2292 index2291 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">// IF condition</code></div><div class="line number2293 index2292 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actionName.match(/IF[ ](.*)/i)) {</code></div><div class="line number2294 index2293 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.actionIfConditions(actionName, actionArgs);</code></div><div class="line number2295 index2294 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2296 index2295 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.processActionSequence(actionName, actionArgs)</code></div><div class="line number2297 index2296 alt2"><code class="js string">};</code></div><div class="line number2298 index2297 alt1">&nbsp;</div><div class="line number2299 index2298 alt2"><code class="js string">BattleManager.processActionSequence = function(actionName, actionArgs) {</code></div><div class="line number2300 index2299 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">// NO ACTION</code></div><div class="line number2301 index2300 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actionName === '</code><code class="js string">') {</code></div><div class="line number2302 index2301 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return true;</code></div><div class="line number2303 index2302 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2304 index2303 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">// ACTION ANIMATION</code></div><div class="line number2305 index2304 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actionName === '</code><code class="js plain">ACTION ANIMATION</code><code class="js string">') {</code></div><div class="line number2306 index2305 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.actionActionAnimation(actionArgs);</code></div><div class="line number2307 index2306 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2308 index2307 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">// ACTION EFFECT</code></div><div class="line number2309 index2308 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actionName === '</code><code class="js plain">ACTION COMMON EVENT</code><code class="js string">') {</code></div><div class="line number2310 index2309 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.actionActionCommonEvent();</code></div><div class="line number2311 index2310 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2312 index2311 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">// ACTION EFFECT</code></div><div class="line number2313 index2312 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actionName === '</code><code class="js plain">ACTION EFFECT</code><code class="js string">') {</code></div><div class="line number2314 index2313 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.actionActionEffect(actionArgs);</code></div><div class="line number2315 index2314 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2316 index2315 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">// ANI WAIT: frames</code></div><div class="line number2317 index2316 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (['</code><code class="js plain">ANI WAIT</code><code class="js string">', '</code><code class="js plain">ANIWAIT</code><code class="js string">', '</code><code class="js plain">ANIMATION WAIT</code><code class="js string">'].contains(actionName)) {</code></div><div class="line number2318 index2317 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.actionAniWait(actionArgs[0]);</code></div><div class="line number2319 index2318 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2320 index2319 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">// CAST ANIMATION</code></div><div class="line number2321 index2320 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actionName === '</code><code class="js plain">CAST ANIMATION</code><code class="js string">') {</code></div><div class="line number2322 index2321 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.actionCastAnimation();</code></div><div class="line number2323 index2322 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2324 index2323 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">// CLEAR BATTLE LOG</code></div><div class="line number2325 index2324 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actionName === '</code><code class="js plain">CLEAR BATTLE LOG</code><code class="js string">') {</code></div><div class="line number2326 index2325 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.actionClearBattleLog();</code></div><div class="line number2327 index2326 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2328 index2327 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">// DEATH BREAK</code></div><div class="line number2329 index2328 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actionName === '</code><code class="js plain">DEATH BREAK</code><code class="js string">') {</code></div><div class="line number2330 index2329 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.actionDeathBreak();</code></div><div class="line number2331 index2330 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2332 index2331 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">// DISPLAY ACTION</code></div><div class="line number2333 index2332 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actionName === '</code><code class="js plain">DISPLAY ACTION</code><code class="js string">') {</code></div><div class="line number2334 index2333 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.actionDisplayAction();</code></div><div class="line number2335 index2334 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2336 index2335 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">// IMMORTAL: targets, true/false</code></div><div class="line number2337 index2336 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actionName === '</code><code class="js plain">IMMORTAL</code><code class="js string">') {</code></div><div class="line number2338 index2337 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.actionImmortal(actionArgs);</code></div><div class="line number2339 index2338 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2340 index2339 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">// MOTION WAIT</code></div><div class="line number2341 index2340 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actionName === '</code><code class="js plain">MOTION WAIT</code><code class="js string">') {</code></div><div class="line number2342 index2341 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.actionMotionWait(actionArgs);</code></div><div class="line number2343 index2342 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2344 index2343 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">// PERFORM ACTION</code></div><div class="line number2345 index2344 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actionName === '</code><code class="js plain">PERFORM ACTION</code><code class="js string">') {</code></div><div class="line number2346 index2345 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.actionPerformAction();</code></div><div class="line number2347 index2346 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2348 index2347 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">// PERFORM FINISH</code></div><div class="line number2349 index2348 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actionName === '</code><code class="js plain">PERFORM FINISH</code><code class="js string">') {</code></div><div class="line number2350 index2349 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.actionPerformFinish();</code></div><div class="line number2351 index2350 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2352 index2351 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">// PERFORM START</code></div><div class="line number2353 index2352 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actionName === '</code><code class="js plain">PERFORM START</code><code class="js string">') {</code></div><div class="line number2354 index2353 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.actionPerformStart();</code></div><div class="line number2355 index2354 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2356 index2355 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">// WAIT: frames</code></div><div class="line number2357 index2356 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actionName === '</code><code class="js plain">WAIT</code><code class="js string">') {</code></div><div class="line number2358 index2357 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.actionWait(actionArgs[0]);</code></div><div class="line number2359 index2358 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2360 index2359 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">// WAIT FOR ANIMATION</code></div><div class="line number2361 index2360 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actionName === '</code><code class="js plain">WAIT FOR ANIMATION</code><code class="js string">') {</code></div><div class="line number2362 index2361 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.actionWaitForAnimation();</code></div><div class="line number2363 index2362 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2364 index2363 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">// WAIT FOR EFFECT</code></div><div class="line number2365 index2364 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actionName === '</code><code class="js plain">WAIT FOR EFFECT</code><code class="js string">') {</code></div><div class="line number2366 index2365 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.actionWaitForEffect();</code></div><div class="line number2367 index2366 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2368 index2367 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">// WAIT FOR MOVEMENT</code></div><div class="line number2369 index2368 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actionName === '</code><code class="js plain">WAIT FOR MOVEMENT</code><code class="js string">') {</code></div><div class="line number2370 index2369 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.actionWaitForMovement();</code></div><div class="line number2371 index2370 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2372 index2371 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">// WAIT FOR NEW LINE</code></div><div class="line number2373 index2372 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actionName === '</code><code class="js plain">WAIT FOR NEW LINE</code><code class="js string">') {</code></div><div class="line number2374 index2373 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.actionWaitForNewLine();</code></div><div class="line number2375 index2374 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2376 index2375 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">// WAIT FOR POPUPS</code></div><div class="line number2377 index2376 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actionName === '</code><code class="js plain">WAIT FOR POPUPS</code><code class="js string">') {</code></div><div class="line number2378 index2377 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.actionWaitForPopups();</code></div><div class="line number2379 index2378 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2380 index2379 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return false;</code></div><div class="line number2381 index2380 alt2"><code class="js string">};</code></div><div class="line number2382 index2381 alt1">&nbsp;</div><div class="line number2383 index2382 alt2"><code class="js string">BattleManager.makeActionTargets = function(string) {</code></div><div class="line number2384 index2383 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var targets = []</code></div><div class="line number2385 index2384 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">string = string.toUpperCase()</code></div><div class="line number2386 index2385 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (['</code><code class="js plain">SUBJECT</code><code class="js string">', '</code><code class="js plain">USER</code><code class="js string">'].contains(string)) {</code></div><div class="line number2387 index2386 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return [this._subject];</code></div><div class="line number2388 index2387 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2389 index2388 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (['</code><code class="js plain">TARGET</code><code class="js string">', '</code><code class="js plain">TARGETS</code><code class="js string">'].contains(string)) {</code></div><div class="line number2390 index2389 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var group = this._targets;</code></div><div class="line number2391 index2390 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; group.length; ++i) {</code></div><div class="line number2392 index2391 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = group[i];</code></div><div class="line number2393 index2392 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target &amp;&amp; target.isAppeared()) targets.push(target);</code></div><div class="line number2394 index2393 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2395 index2394 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return targets;</code></div><div class="line number2396 index2395 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2397 index2396 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (['</code><code class="js plain">ACTORS</code><code class="js string">', '</code><code class="js plain">EXISTING ACTORS</code><code class="js string">', '</code><code class="js plain">ALIVE ACTORS</code><code class="js string">'].contains(string)) {</code></div><div class="line number2398 index2397 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var group = $gameParty.aliveMembers();</code></div><div class="line number2399 index2398 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; group.length; ++i) {</code></div><div class="line number2400 index2399 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = group[i];</code></div><div class="line number2401 index2400 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target &amp;&amp; target.isAppeared()) targets.push(target);</code></div><div class="line number2402 index2401 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2403 index2402 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return targets;</code></div><div class="line number2404 index2403 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2405 index2404 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (['</code><code class="js plain">ACTORS ALL</code><code class="js string">', '</code><code class="js plain">ALL ACTORS</code><code class="js string">', '</code><code class="js plain">PARTY</code><code class="js string">'].contains(string)) {</code></div><div class="line number2406 index2405 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var group = $gameParty.battleMembers();</code></div><div class="line number2407 index2406 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; group.length; ++i) {</code></div><div class="line number2408 index2407 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = group[i];</code></div><div class="line number2409 index2408 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target &amp;&amp; target.isAppeared()) targets.push(target);</code></div><div class="line number2410 index2409 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2411 index2410 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return targets;</code></div><div class="line number2412 index2411 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2413 index2412 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (['</code><code class="js plain">DEAD ACTORS</code><code class="js string">', '</code><code class="js plain">DEAD ACTOR</code><code class="js string">'].contains(string)) {</code></div><div class="line number2414 index2413 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var group = $gameParty.deadMembers();</code></div><div class="line number2415 index2414 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; group.length; ++i) {</code></div><div class="line number2416 index2415 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = group[i];</code></div><div class="line number2417 index2416 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target) targets.push(target);</code></div><div class="line number2418 index2417 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2419 index2418 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return targets;</code></div><div class="line number2420 index2419 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2421 index2420 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (['</code><code class="js plain">ACTORS NOT USER</code><code class="js string">', '</code><code class="js plain">ACTORS NOT SUBJECT</code><code class="js string">'].contains(string)) {</code></div><div class="line number2422 index2421 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var group = $gameParty.aliveMembers();</code></div><div class="line number2423 index2422 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; group.length; ++i) {</code></div><div class="line number2424 index2423 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = group[i];</code></div><div class="line number2425 index2424 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target &amp;&amp; target !== this._subject &amp;&amp; target.isAppeared()) {</code></div><div class="line number2426 index2425 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">targets.push(target);</code></div><div class="line number2427 index2426 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2428 index2427 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2429 index2428 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return targets;</code></div><div class="line number2430 index2429 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2431 index2430 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (['</code><code class="js plain">ENEMIES</code><code class="js string">', '</code><code class="js plain">EXISTING ENEMIES</code><code class="js string">', '</code><code class="js plain">ALIVE ENEMIES</code><code class="js string">', '</code><code class="js plain">TROOP</code><code class="js string">',</code></div><div class="line number2432 index2431 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">'</code><code class="js plain">TROOPS</code><code class="js string">'].contains(string)) {</code></div><div class="line number2433 index2432 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var group = $gameTroop.aliveMembers();</code></div><div class="line number2434 index2433 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; group.length; ++i) {</code></div><div class="line number2435 index2434 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = group[i];</code></div><div class="line number2436 index2435 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target &amp;&amp; target.isAppeared()) targets.push(target);</code></div><div class="line number2437 index2436 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2438 index2437 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return targets;</code></div><div class="line number2439 index2438 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2440 index2439 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (['</code><code class="js plain">ENEMIES ALL</code><code class="js string">', '</code><code class="js plain">ALL ENEMIES</code><code class="js string">'].contains(string)) {</code></div><div class="line number2441 index2440 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var group = $gameTroop.members();</code></div><div class="line number2442 index2441 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; group.length; ++i) {</code></div><div class="line number2443 index2442 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = group[i];</code></div><div class="line number2444 index2443 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target &amp;&amp; target.isAppeared()) targets.push(target);</code></div><div class="line number2445 index2444 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2446 index2445 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return targets;</code></div><div class="line number2447 index2446 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2448 index2447 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (['</code><code class="js plain">DEAD ENEMIES</code><code class="js string">', '</code><code class="js plain">DEAD ENEMY</code><code class="js string">'].contains(string)) {</code></div><div class="line number2449 index2448 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var group = $gameTroop.deadMembers();</code></div><div class="line number2450 index2449 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; group.length; ++i) {</code></div><div class="line number2451 index2450 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = group[i];</code></div><div class="line number2452 index2451 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target) targets.push(target);</code></div><div class="line number2453 index2452 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2454 index2453 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return targets;</code></div><div class="line number2455 index2454 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2456 index2455 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (['</code><code class="js plain">ENEMIES NOT USER</code><code class="js string">', '</code><code class="js plain">ENEMIES NOT SUBJECT</code><code class="js string">', '</code><code class="js plain">TROOP NOT USER</code><code class="js string">',</code></div><div class="line number2457 index2456 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">'</code><code class="js plain">TROOP NOT SUBJECT</code><code class="js string">'].contains(string)) {</code></div><div class="line number2458 index2457 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var group = $gameTroop.aliveMembers();</code></div><div class="line number2459 index2458 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; group.length; ++i) {</code></div><div class="line number2460 index2459 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = group[i];</code></div><div class="line number2461 index2460 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target &amp;&amp; target !== this._subject &amp;&amp; target.isAppeared()) {</code></div><div class="line number2462 index2461 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">targets.push(target);</code></div><div class="line number2463 index2462 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2464 index2463 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2465 index2464 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return targets;</code></div><div class="line number2466 index2465 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2467 index2466 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (string.match(/ACTOR[ ](\d+)/i)) {</code></div><div class="line number2468 index2467 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = $gameParty.battleMembers()[parseInt(RegExp.$1)];</code></div><div class="line number2469 index2468 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target &amp;&amp; target.isAppeared()) return [target];</code></div><div class="line number2470 index2469 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2471 index2470 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (string.match(/ENEMY[ ](\d+)/i)) {</code></div><div class="line number2472 index2471 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = $gameTroop.members()[parseInt(RegExp.$1)];</code></div><div class="line number2473 index2472 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target &amp;&amp; target.isAppeared()) return [target];</code></div><div class="line number2474 index2473 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2475 index2474 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (['</code><code class="js plain">FRIEND</code><code class="js string">', '</code><code class="js plain">FRIENDS</code><code class="js string">', '</code><code class="js plain">ALLIES</code><code class="js string">'].contains(string)) {</code></div><div class="line number2476 index2475 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var group = this._action.friendsUnit().aliveMembers();</code></div><div class="line number2477 index2476 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; group.length; ++i) {</code></div><div class="line number2478 index2477 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = group[i];</code></div><div class="line number2479 index2478 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target &amp;&amp; target.isAppeared()) targets.push(target);</code></div><div class="line number2480 index2479 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2481 index2480 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return targets;</code></div><div class="line number2482 index2481 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2483 index2482 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (['</code><code class="js plain">ALL FRIENDS</code><code class="js string">', '</code><code class="js plain">ALL ALLIES</code><code class="js string">'].contains(string)) {</code></div><div class="line number2484 index2483 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var group = this._action.friendsUnit().members();</code></div><div class="line number2485 index2484 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; group.length; ++i) {</code></div><div class="line number2486 index2485 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = group[i];</code></div><div class="line number2487 index2486 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target &amp;&amp; target.isAppeared()) targets.push(target);</code></div><div class="line number2488 index2487 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2489 index2488 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return targets;</code></div><div class="line number2490 index2489 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2491 index2490 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (['</code><code class="js plain">DEAD FRIEND</code><code class="js string">', '</code><code class="js plain">DEAD FRIENDS</code><code class="js string">', '</code><code class="js plain">DEAD ALLIES</code><code class="js string">'].contains(string)) {</code></div><div class="line number2492 index2491 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var group = this._action.friendsUnit().deadMembers();</code></div><div class="line number2493 index2492 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; group.length; ++i) {</code></div><div class="line number2494 index2493 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = group[i];</code></div><div class="line number2495 index2494 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target &amp;&amp; target.isAppeared()) targets.push(target);</code></div><div class="line number2496 index2495 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2497 index2496 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return targets;</code></div><div class="line number2498 index2497 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2499 index2498 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (['</code><code class="js plain">OPPONENT</code><code class="js string">', '</code><code class="js plain">OPPONENTS</code><code class="js string">', '</code><code class="js plain">RIVALS</code><code class="js string">', '</code><code class="js plain">FOES</code><code class="js string">'].contains(string)) {</code></div><div class="line number2500 index2499 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var group = this._action.opponentsUnit().aliveMembers();</code></div><div class="line number2501 index2500 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; group.length; ++i) {</code></div><div class="line number2502 index2501 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = group[i];</code></div><div class="line number2503 index2502 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target &amp;&amp; target.isAppeared()) targets.push(target);</code></div><div class="line number2504 index2503 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2505 index2504 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return targets;</code></div><div class="line number2506 index2505 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2507 index2506 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (['</code><code class="js plain">ALL OPPONENTS</code><code class="js string">', '</code><code class="js plain">ALL RIVALS</code><code class="js string">', '</code><code class="js plain">ALL FOES</code><code class="js string">'].contains(string)) {</code></div><div class="line number2508 index2507 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var group = this._action.opponentsUnit().members();</code></div><div class="line number2509 index2508 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; group.length; ++i) {</code></div><div class="line number2510 index2509 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = group[i];</code></div><div class="line number2511 index2510 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target &amp;&amp; target.isAppeared()) targets.push(target);</code></div><div class="line number2512 index2511 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2513 index2512 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return targets;</code></div><div class="line number2514 index2513 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2515 index2514 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (['</code><code class="js plain">DEAD OPPONENT</code><code class="js string">', '</code><code class="js plain">DEAD OPPONENTS</code><code class="js string">', '</code><code class="js plain">DEAD RIVALS</code><code class="js string">',</code></div><div class="line number2516 index2515 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">'</code><code class="js plain">DEAD FOES</code><code class="js string">'].contains(string)) {</code></div><div class="line number2517 index2516 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var group = this._action.opponentsUnit().deadMembers();</code></div><div class="line number2518 index2517 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; group.length; ++i) {</code></div><div class="line number2519 index2518 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = group[i];</code></div><div class="line number2520 index2519 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target) targets.push(target);</code></div><div class="line number2521 index2520 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2522 index2521 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return targets;</code></div><div class="line number2523 index2522 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2524 index2523 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (['</code><code class="js plain">FRIENDS NOT USER</code><code class="js string">', '</code><code class="js plain">ALLIES NOT USER</code><code class="js string">'].contains(string)) {</code></div><div class="line number2525 index2524 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var group = this._action.friendsUnit().aliveMembers();</code></div><div class="line number2526 index2525 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; group.length; ++i) {</code></div><div class="line number2527 index2526 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = group[i];</code></div><div class="line number2528 index2527 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target &amp;&amp; target !== this._subject &amp;&amp; target.isAppeared()) {</code></div><div class="line number2529 index2528 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">targets.push(target);</code></div><div class="line number2530 index2529 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2531 index2530 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2532 index2531 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return targets;</code></div><div class="line number2533 index2532 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2534 index2533 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (string.match(/(?:FRIEND|ALLY)[ ](\d+)/i)) {</code></div><div class="line number2535 index2534 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = this._action.friendsUnit().members()[parseInt(RegExp.$1)];</code></div><div class="line number2536 index2535 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target &amp;&amp; target.isAppeared()) return [target];</code></div><div class="line number2537 index2536 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2538 index2537 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (string.match(/(?:OPPONENT|FOE|RIVAL)[ ](\d+)/i)) {</code></div><div class="line number2539 index2538 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = this._action.opponentsUnit().members()[parseInt(RegExp.$1)]</code></div><div class="line number2540 index2539 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target &amp;&amp; target.isAppeared()) return [target];</code></div><div class="line number2541 index2540 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2542 index2541 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (['</code><code class="js plain">ALL ALIVE</code><code class="js string">'].contains(string)) {</code></div><div class="line number2543 index2542 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var group = this._action.friendsUnit().aliveMembers();</code></div><div class="line number2544 index2543 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">group = group.concat(this._action.opponentsUnit().aliveMembers());</code></div><div class="line number2545 index2544 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; group.length; ++i) {</code></div><div class="line number2546 index2545 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = group[i];</code></div><div class="line number2547 index2546 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target &amp;&amp; target.isAppeared()) targets.push(target);</code></div><div class="line number2548 index2547 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2549 index2548 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return targets;</code></div><div class="line number2550 index2549 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2551 index2550 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (['</code><code class="js plain">ALL MEMBERS</code><code class="js string">'].contains(string)) {</code></div><div class="line number2552 index2551 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var group = this._action.friendsUnit().members();</code></div><div class="line number2553 index2552 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">group = group.concat(this._action.opponentsUnit().members());</code></div><div class="line number2554 index2553 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; group.length; ++i) {</code></div><div class="line number2555 index2554 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = group[i];</code></div><div class="line number2556 index2555 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target &amp;&amp; target.isAppeared()) targets.push(target);</code></div><div class="line number2557 index2556 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2558 index2557 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return targets;</code></div><div class="line number2559 index2558 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2560 index2559 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (['</code><code class="js plain">ALL DEAD</code><code class="js string">'].contains(string)) {</code></div><div class="line number2561 index2560 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var group = this._action.friendsUnit().deadMembers();</code></div><div class="line number2562 index2561 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">group = group.concat(this._action.opponentsUnit().deadMembers());</code></div><div class="line number2563 index2562 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; group.length; ++i) {</code></div><div class="line number2564 index2563 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = group[i];</code></div><div class="line number2565 index2564 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target) targets.push(target);</code></div><div class="line number2566 index2565 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2567 index2566 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return targets;</code></div><div class="line number2568 index2567 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2569 index2568 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (['</code><code class="js plain">ALL NOT USER</code><code class="js string">'].contains(string)) {</code></div><div class="line number2570 index2569 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var group = this._action.friendsUnit().aliveMembers();</code></div><div class="line number2571 index2570 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">group = group.concat(this._action.opponentsUnit().aliveMembers());</code></div><div class="line number2572 index2571 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; group.length; ++i) {</code></div><div class="line number2573 index2572 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = group[i];</code></div><div class="line number2574 index2573 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target &amp;&amp; target !== this._subject &amp;&amp; target.isAppeared()) {</code></div><div class="line number2575 index2574 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">targets.push(target);</code></div><div class="line number2576 index2575 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2577 index2576 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2578 index2577 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return targets;</code></div><div class="line number2579 index2578 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2580 index2579 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (['</code><code class="js plain">FOCUS</code><code class="js string">', '</code><code class="js plain">PARTICIPANTS</code><code class="js string">'].contains(string)) {</code></div><div class="line number2581 index2580 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var group = this._targets;</code></div><div class="line number2582 index2581 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; group.length; ++i) {</code></div><div class="line number2583 index2582 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = group[i];</code></div><div class="line number2584 index2583 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target &amp;&amp; target.isAppeared()) targets.push(target);</code></div><div class="line number2585 index2584 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2586 index2585 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!targets.contains(this._subject)) targets.push(this._subject);</code></div><div class="line number2587 index2586 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return targets;</code></div><div class="line number2588 index2587 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2589 index2588 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (['</code><code class="js plain">NOT FOCUS</code><code class="js string">', '</code><code class="js plain">NONPARTICIPANTS</code><code class="js string">'].contains(string)) {</code></div><div class="line number2590 index2589 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var group = this._action.friendsUnit().members();</code></div><div class="line number2591 index2590 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">group = group.concat(this._action.opponentsUnit().members());</code></div><div class="line number2592 index2591 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; group.length; ++i) {</code></div><div class="line number2593 index2592 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = group[i];</code></div><div class="line number2594 index2593 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target) {</code></div><div class="line number2595 index2594 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target === this._subject) continue;</code></div><div class="line number2596 index2595 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target.isHidden()) continue;</code></div><div class="line number2597 index2596 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._targets.contains(target)) continue;</code></div><div class="line number2598 index2597 alt1">&nbsp;</div><div class="line number2599 index2598 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target.isDead()) {</code></div><div class="line number2600 index2599 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Imported.YEP_X_AnimatedSVEnemies &amp;&amp; target.isEnemy()) {</code></div><div class="line number2601 index2600 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target.hasSVBattler() &amp;&amp; !target.sideviewCollapse()) {</code></div><div class="line number2602 index2601 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">// Ignore</code></div><div class="line number2603 index2602 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number2604 index2603 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">continue;</code></div><div class="line number2605 index2604 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2606 index2605 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (target.isActor()) {</code></div><div class="line number2607 index2606 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">// Ignore</code></div><div class="line number2608 index2607 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number2609 index2608 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">continue;</code></div><div class="line number2610 index2609 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2611 index2610 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2612 index2611 alt1">&nbsp;</div><div class="line number2613 index2612 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">targets.push(target);</code></div><div class="line number2614 index2613 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2615 index2614 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2616 index2615 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return targets;</code></div><div class="line number2617 index2616 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2618 index2617 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (string.match(/(?:CHAR|CHARA|CHARACTER)[ ](\d+)/i)) {</code></div><div class="line number2619 index2618 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var actorId = parseInt(RegExp.$1);</code></div><div class="line number2620 index2619 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var actor = $gameActors.actor(actorId);</code></div><div class="line number2621 index2620 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actor &amp;&amp; $gameParty.battleMembers().contains(actor)) {</code></div><div class="line number2622 index2621 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return [actor];</code></div><div class="line number2623 index2622 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2624 index2623 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2625 index2624 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ('</code><code class="js plain">FIRST</code><code class="js string">' === string.toUpperCase()) {</code></div><div class="line number2626 index2625 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return [this._targets[0]];</code></div><div class="line number2627 index2626 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2628 index2627 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return targets;</code></div><div class="line number2629 index2628 alt2"><code class="js string">};</code></div><div class="line number2630 index2629 alt1">&nbsp;</div><div class="line number2631 index2630 alt2"><code class="js string">BattleManager.actionConditionsMet = function(actSeq) {</code></div><div class="line number2632 index2631 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var ci = this._conditionFlags.length - 1;</code></div><div class="line number2633 index2632 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var actionName = actSeq[0];</code></div><div class="line number2634 index2633 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var actionArgs = actSeq[1];</code></div><div class="line number2635 index2634 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var subject = this._subject;</code></div><div class="line number2636 index2635 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var user = this._subject;</code></div><div class="line number2637 index2636 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var target = this._targets[0];</code></div><div class="line number2638 index2637 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var targets = this._targets;</code></div><div class="line number2639 index2638 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var action = this._action;</code></div><div class="line number2640 index2639 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var item = this._action.item();</code></div><div class="line number2641 index2640 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (actionName.match(/ELSE[ ]IF[ ](.*)/i)) {</code></div><div class="line number2642 index2641 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._conditionFlags.length &lt;= 0) return false;</code></div><div class="line number2643 index2642 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._conditionFlags[ci]) {</code></div><div class="line number2644 index2643 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._conditionFlags[ci] = false;</code></div><div class="line number2645 index2644 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._trueFlags[ci] = true;</code></div><div class="line number2646 index2645 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (!this._conditionFlags[ci] &amp;&amp; !this._trueFlags[ci]) {</code></div><div class="line number2647 index2646 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var text = String(RegExp.$1);</code></div><div class="line number2648 index2647 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">try {</code></div><div class="line number2649 index2648 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._conditionFlags[ci] = eval(text);</code></div><div class="line number2650 index2649 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._trueFlags[ci] = eval(text);</code></div><div class="line number2651 index2650 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} catch (e) {</code></div><div class="line number2652 index2651 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.Util.displayError(e, text, '</code><code class="js plain">ACTION SEQUENCE IF CONDITION ERROR</code><code class="js string">');</code></div><div class="line number2653 index2652 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._conditionFlags[ci] = false;</code></div><div class="line number2654 index2653 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._trueFlags[ci] = false;</code></div><div class="line number2655 index2654 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2656 index2655 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2657 index2656 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return false;</code></div><div class="line number2658 index2657 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">} else if (actionName.match(/ELSE[ ]*(.*)/i)) {</code></div><div class="line number2659 index2658 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._conditionFlags.length &lt;= 0) return false;</code></div><div class="line number2660 index2659 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._conditionFlags[ci]) {</code></div><div class="line number2661 index2660 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._conditionFlags[ci] = false;</code></div><div class="line number2662 index2661 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._trueFlags[ci] = true;</code></div><div class="line number2663 index2662 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (!this._conditionFlags[ci] &amp;&amp; !this._trueFlags[ci]) {</code></div><div class="line number2664 index2663 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._conditionFlags[ci] = true;</code></div><div class="line number2665 index2664 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._trueFlags[ci] = true;</code></div><div class="line number2666 index2665 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2667 index2666 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return false;</code></div><div class="line number2668 index2667 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">} else if (actionName.toUpperCase() === '</code><code class="js plain">END</code><code class="js string">') {</code></div><div class="line number2669 index2668 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._conditionFlags.length &lt;= 0) return false;</code></div><div class="line number2670 index2669 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._conditionFlags.pop();</code></div><div class="line number2671 index2670 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._trueFlags.pop();</code></div><div class="line number2672 index2671 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return false;</code></div><div class="line number2673 index2672 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2674 index2673 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (this._conditionFlags.length &gt; 0) return this._conditionFlags[ci];</code></div><div class="line number2675 index2674 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">return true</code></div><div class="line number2676 index2675 alt1"><code class="js string">};</code></div><div class="line number2677 index2676 alt2">&nbsp;</div><div class="line number2678 index2677 alt1"><code class="js string">BattleManager.actionActionAnimation = function(actionArgs) {</code></div><div class="line number2679 index2678 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actionArgs &amp;&amp; actionArgs[0]) {</code></div><div class="line number2680 index2679 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var targets = this.makeActionTargets(actionArgs[0]);</code></div><div class="line number2681 index2680 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number2682 index2681 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var targets = this._targets;</code></div><div class="line number2683 index2682 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2684 index2683 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var mirror = false;</code></div><div class="line number2685 index2684 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actionArgs &amp;&amp; actionArgs[1]) {</code></div><div class="line number2686 index2685 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actionArgs[1].toUpperCase() === '</code><code class="js plain">MIRROR</code><code class="js string">') mirror = true;</code></div><div class="line number2687 index2686 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2688 index2687 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var subject = this._subject;</code></div><div class="line number2689 index2688 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var group = targets.filter(Yanfly.Util.onlyUnique);</code></div><div class="line number2690 index2689 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var aniId = this._action.item().animationId;</code></div><div class="line number2691 index2690 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (aniId &lt; 0) {</code></div><div class="line number2692 index2691 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (mirror) {</code></div><div class="line number2693 index2692 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._logWindow.showActorAtkAniMirror(subject, group);</code></div><div class="line number2694 index2693 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number2695 index2694 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._logWindow.showAttackAnimation(subject, group);</code></div><div class="line number2696 index2695 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2697 index2696 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number2698 index2697 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._logWindow.showNormalAnimation(group, aniId, mirror);</code></div><div class="line number2699 index2698 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2700 index2699 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return true;</code></div><div class="line number2701 index2700 alt2"><code class="js string">};</code></div><div class="line number2702 index2701 alt1">&nbsp;</div><div class="line number2703 index2702 alt2"><code class="js string">BattleManager.actionActionCommonEvent = function() {</code></div><div class="line number2704 index2703 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._action.item().effects.forEach(function(effect) {</code></div><div class="line number2705 index2704 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (effect.code === Game_Action.EFFECT_COMMON_EVENT) {</code></div><div class="line number2706 index2705 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">$gameTemp.reserveCommonEvent(effect.dataId);</code></div><div class="line number2707 index2706 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2708 index2707 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}, this);</code></div><div class="line number2709 index2708 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return false;</code></div><div class="line number2710 index2709 alt1"><code class="js string">};</code></div><div class="line number2711 index2710 alt2">&nbsp;</div><div class="line number2712 index2711 alt1"><code class="js string">BattleManager.actionActionEffect = function(actionArgs) {</code></div><div class="line number2713 index2712 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actionArgs &amp;&amp; actionArgs[0]) {</code></div><div class="line number2714 index2713 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var targets = this.makeActionTargets(actionArgs[0]);</code></div><div class="line number2715 index2714 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number2716 index2715 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var targets = this._targets;</code></div><div class="line number2717 index2716 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2718 index2717 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">targets.forEach(function(target) {</code></div><div class="line number2719 index2718 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target !== undefined) {</code></div><div class="line number2720 index2719 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var alreadyDead = target.isDead();</code></div><div class="line number2721 index2720 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.invokeAction(this._subject, target);</code></div><div class="line number2722 index2721 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target.isDead() &amp;&amp; !alreadyDead) {</code></div><div class="line number2723 index2722 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">target.performCollapse();</code></div><div class="line number2724 index2723 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2725 index2724 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2726 index2725 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}, this);</code></div><div class="line number2727 index2726 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return true;</code></div><div class="line number2728 index2727 alt1"><code class="js string">};</code></div><div class="line number2729 index2728 alt2">&nbsp;</div><div class="line number2730 index2729 alt1"><code class="js string">BattleManager.actionAniWait = function(frames) {</code></div><div class="line number2731 index2730 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">frames *= Yanfly.Param.AnimationRate || 4;</code></div><div class="line number2732 index2731 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._logWindow._waitCount = parseInt(frames);</code></div><div class="line number2733 index2732 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return false;</code></div><div class="line number2734 index2733 alt1"><code class="js string">};</code></div><div class="line number2735 index2734 alt2">&nbsp;</div><div class="line number2736 index2735 alt1"><code class="js string">BattleManager.actionCastAnimation = function() {</code></div><div class="line number2737 index2736 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (!$gameSystem.isSideView() &amp;&amp; this._subject.isActor()) return true;</code></div><div class="line number2738 index2737 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (!this._action.isAttack() &amp;&amp; !this._action.isGuard() &amp;&amp;</code></div><div class="line number2739 index2738 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">this._action.isSkill()) {</code></div><div class="line number2740 index2739 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._action.item().castAnimation &gt; 0) {</code></div><div class="line number2741 index2740 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var ani = $dataAnimations[this._action.item().castAnimation]</code></div><div class="line number2742 index2741 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._logWindow.showAnimation(this._subject, [this._subject],</code></div><div class="line number2743 index2742 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._action.item().castAnimation);</code></div><div class="line number2744 index2743 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2745 index2744 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2746 index2745 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">return true;</code></div><div class="line number2747 index2746 alt2"><code class="js string">};</code></div><div class="line number2748 index2747 alt1">&nbsp;</div><div class="line number2749 index2748 alt2">&nbsp;</div><div class="line number2750 index2749 alt1"><code class="js string">BattleManager.actionClearBattleLog = function() {</code></div><div class="line number2751 index2750 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._logWindow.clear();</code></div><div class="line number2752 index2751 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return false;</code></div><div class="line number2753 index2752 alt2"><code class="js string">};</code></div><div class="line number2754 index2753 alt1">&nbsp;</div><div class="line number2755 index2754 alt2"><code class="js string">BattleManager.actionDeathBreak = function() {</code></div><div class="line number2756 index2755 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._subject.isDead()) {</code></div><div class="line number2757 index2756 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._targets = [];</code></div><div class="line number2758 index2757 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._actionList = [];</code></div><div class="line number2759 index2758 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._individualTargets = [];</code></div><div class="line number2760 index2759 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._phase = '</code><code class="js plain">phaseChange</code><code class="js string">';</code></div><div class="line number2761 index2760 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return false;</code></div><div class="line number2762 index2761 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2763 index2762 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return true;</code></div><div class="line number2764 index2763 alt1"><code class="js string">};</code></div><div class="line number2765 index2764 alt2">&nbsp;</div><div class="line number2766 index2765 alt1"><code class="js string">BattleManager.actionDisplayAction = function() {</code></div><div class="line number2767 index2766 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._logWindow.displayAction(this._subject, this._action.item());</code></div><div class="line number2768 index2767 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return false;</code></div><div class="line number2769 index2768 alt2"><code class="js string">};</code></div><div class="line number2770 index2769 alt1">&nbsp;</div><div class="line number2771 index2770 alt2"><code class="js string">BattleManager.actionIfConditions = function(actionName, actionArgs) {</code></div><div class="line number2772 index2771 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var subject = this._subject;</code></div><div class="line number2773 index2772 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var user = this._subject;</code></div><div class="line number2774 index2773 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var target = this._targets[0];</code></div><div class="line number2775 index2774 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var critical = false;</code></div><div class="line number2776 index2775 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (target &amp;&amp; target.result()) critical = target.result().critical;</code></div><div class="line number2777 index2776 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var targets = this._targets;</code></div><div class="line number2778 index2777 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var action = this._action;</code></div><div class="line number2779 index2778 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var item = this._action.item();</code></div><div class="line number2780 index2779 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var actionName = this._actSeq[0];</code></div><div class="line number2781 index2780 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (actionName.match(/IF[ ](.*)/i)) {</code></div><div class="line number2782 index2781 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var text = String(RegExp.$1);</code></div><div class="line number2783 index2782 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">try {</code></div><div class="line number2784 index2783 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._conditionFlags.push(eval(text));</code></div><div class="line number2785 index2784 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} catch (e) {</code></div><div class="line number2786 index2785 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._conditionFlags.push(false);</code></div><div class="line number2787 index2786 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.Util.displayError(e, text, '</code><code class="js plain">ACTION SEQUENCE IF CONDITION ERROR</code><code class="js string">');</code></div><div class="line number2788 index2787 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2789 index2788 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._trueFlags.push(false);</code></div><div class="line number2790 index2789 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var ci = this._conditionFlags.length;</code></div><div class="line number2791 index2790 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2792 index2791 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">return true;</code></div><div class="line number2793 index2792 alt2"><code class="js string">};</code></div><div class="line number2794 index2793 alt1">&nbsp;</div><div class="line number2795 index2794 alt2"><code class="js string">BattleManager.actionImmortal = function(actionArgs) {</code></div><div class="line number2796 index2795 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var targets =</code></div><div class="line number2797 index2796 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.makeActionTargets(actionArgs[0]).filter(Yanfly.Util.onlyUnique);</code></div><div class="line number2798 index2797 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">try {</code></div><div class="line number2799 index2798 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var value = eval(String(actionArgs[1]).toLowerCase());</code></div><div class="line number2800 index2799 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} catch (e) {</code></div><div class="line number2801 index2800 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var value = false;</code></div><div class="line number2802 index2801 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2803 index2802 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">targets.forEach(function (target) {</code></div><div class="line number2804 index2803 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (value) {</code></div><div class="line number2805 index2804 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">target.addImmortal();</code></div><div class="line number2806 index2805 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number2807 index2806 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var alreadyDead = target.isDead();</code></div><div class="line number2808 index2807 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">target.removeImmortal();</code></div><div class="line number2809 index2808 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2810 index2809 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}, this);</code></div><div class="line number2811 index2810 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return true;</code></div><div class="line number2812 index2811 alt1"><code class="js string">};</code></div><div class="line number2813 index2812 alt2">&nbsp;</div><div class="line number2814 index2813 alt1"><code class="js string">BattleManager.actionMotionWait = function(actionArgs) {</code></div><div class="line number2815 index2814 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var targets = this.makeActionTargets(actionArgs[0]);</code></div><div class="line number2816 index2815 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (targets[0].isActor() &amp;&amp; targets[0].isSpriteVisible()) {</code></div><div class="line number2817 index2816 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._logWindow._waitCount += 12;</code></div><div class="line number2818 index2817 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return false;</code></div><div class="line number2819 index2818 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2820 index2819 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return true;</code></div><div class="line number2821 index2820 alt2"><code class="js string">};</code></div><div class="line number2822 index2821 alt1">&nbsp;</div><div class="line number2823 index2822 alt2"><code class="js string">BattleManager.actionPerformAction = function() {</code></div><div class="line number2824 index2823 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._logWindow.performAction(this._subject, this._action);</code></div><div class="line number2825 index2824 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._subject.isActor() &amp;&amp; this._subject.isSpriteVisible) {</code></div><div class="line number2826 index2825 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._logWindow._waitCount += 20;</code></div><div class="line number2827 index2826 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return false;</code></div><div class="line number2828 index2827 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2829 index2828 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return true;</code></div><div class="line number2830 index2829 alt1"><code class="js string">};</code></div><div class="line number2831 index2830 alt2">&nbsp;</div><div class="line number2832 index2831 alt1"><code class="js string">BattleManager.actionPerformFinish = function() {</code></div><div class="line number2833 index2832 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._logWindow.performActionEnd(this._subject);</code></div><div class="line number2834 index2833 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">$gameParty.aliveMembers().forEach(function(member) {</code></div><div class="line number2835 index2834 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">member.spriteReturnHome();</code></div><div class="line number2836 index2835 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">});</code></div><div class="line number2837 index2836 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">$gameTroop.aliveMembers().forEach(function(member) {</code></div><div class="line number2838 index2837 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">member.spriteReturnHome();</code></div><div class="line number2839 index2838 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">});</code></div><div class="line number2840 index2839 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return true;</code></div><div class="line number2841 index2840 alt2"><code class="js string">};</code></div><div class="line number2842 index2841 alt1">&nbsp;</div><div class="line number2843 index2842 alt2"><code class="js string">BattleManager.actionPerformStart = function() {</code></div><div class="line number2844 index2843 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._logWindow.performActionStart(this._subject, this._action);</code></div><div class="line number2845 index2844 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return true;</code></div><div class="line number2846 index2845 alt1"><code class="js string">};</code></div><div class="line number2847 index2846 alt2">&nbsp;</div><div class="line number2848 index2847 alt1"><code class="js string">BattleManager.actionWait = function(frames) {</code></div><div class="line number2849 index2848 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._logWindow._waitCount = parseInt(frames);</code></div><div class="line number2850 index2849 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return false;</code></div><div class="line number2851 index2850 alt2"><code class="js string">};</code></div><div class="line number2852 index2851 alt1">&nbsp;</div><div class="line number2853 index2852 alt2"><code class="js string">BattleManager.actionWaitForAnimation = function() {</code></div><div class="line number2854 index2853 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._logWindow.waitForAnimation();</code></div><div class="line number2855 index2854 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return false;</code></div><div class="line number2856 index2855 alt1"><code class="js string">};</code></div><div class="line number2857 index2856 alt2">&nbsp;</div><div class="line number2858 index2857 alt1"><code class="js string">BattleManager.actionWaitForEffect = function() {</code></div><div class="line number2859 index2858 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._logWindow.waitForEffect();</code></div><div class="line number2860 index2859 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return false;</code></div><div class="line number2861 index2860 alt2"><code class="js string">};</code></div><div class="line number2862 index2861 alt1">&nbsp;</div><div class="line number2863 index2862 alt2"><code class="js string">BattleManager.actionWaitForMovement = function() {</code></div><div class="line number2864 index2863 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._logWindow.waitForMovement();</code></div><div class="line number2865 index2864 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return false;</code></div><div class="line number2866 index2865 alt1"><code class="js string">};</code></div><div class="line number2867 index2866 alt2">&nbsp;</div><div class="line number2868 index2867 alt1"><code class="js string">BattleManager.actionWaitForNewLine = function() {</code></div><div class="line number2869 index2868 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._logWindow.waitForNewLine();</code></div><div class="line number2870 index2869 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return false;</code></div><div class="line number2871 index2870 alt2"><code class="js string">};</code></div><div class="line number2872 index2871 alt1">&nbsp;</div><div class="line number2873 index2872 alt2"><code class="js string">BattleManager.actionWaitForPopups = function() {</code></div><div class="line number2874 index2873 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._logWindow.waitForPopups();</code></div><div class="line number2875 index2874 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return false;</code></div><div class="line number2876 index2875 alt1"><code class="js string">};</code></div><div class="line number2877 index2876 alt2">&nbsp;</div><div class="line number2878 index2877 alt1"><code class="js string">//=============================================================================</code></div><div class="line number2879 index2878 alt2"><code class="js string">// SceneManager</code></div><div class="line number2880 index2879 alt1"><code class="js string">//=============================================================================</code></div><div class="line number2881 index2880 alt2">&nbsp;</div><div class="line number2882 index2881 alt1"><code class="js string">Yanfly.BEC.SceneManager_snapForBackground = SceneManager.snapForBackground;</code></div><div class="line number2883 index2882 alt2"><code class="js string">SceneManager.snapForBackground = function() {</code></div><div class="line number2884 index2883 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameParty.inBattle()) {</code></div><div class="line number2885 index2884 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var spriteset = this._scene._spriteset;</code></div><div class="line number2886 index2885 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (spriteset.battleback1Name() === '</code><code class="js string">' &amp;&amp; </code></div><div class="line number2887 index2886 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">spriteset.battleback2Name() === '</code><code class="js string">') {</code></div><div class="line number2888 index2887 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return;</code></div><div class="line number2889 index2888 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2890 index2889 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2891 index2890 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.SceneManager_snapForBackground.call(this);</code></div><div class="line number2892 index2891 alt1"><code class="js string">};</code></div><div class="line number2893 index2892 alt2">&nbsp;</div><div class="line number2894 index2893 alt1"><code class="js string">//=============================================================================</code></div><div class="line number2895 index2894 alt2"><code class="js string">// Sprite_Battler</code></div><div class="line number2896 index2895 alt1"><code class="js string">//=============================================================================</code></div><div class="line number2897 index2896 alt2">&nbsp;</div><div class="line number2898 index2897 alt1"><code class="js string">Yanfly.BEC.Sprite_Battler_initialize = Sprite_Battler.prototype.initialize;</code></div><div class="line number2899 index2898 alt2"><code class="js string">Sprite_Battler.prototype.initialize = function(battler) {</code></div><div class="line number2900 index2899 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.preSpriteInitialize(battler);</code></div><div class="line number2901 index2900 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Sprite_Battler_initialize.call(this, battler);</code></div><div class="line number2902 index2901 alt1"><code class="js string">};</code></div><div class="line number2903 index2902 alt2">&nbsp;</div><div class="line number2904 index2903 alt1"><code class="js string">Sprite_Battler.prototype.preSpriteInitialize = function(battler) {</code></div><div class="line number2905 index2904 alt2"><code class="js string">};</code></div><div class="line number2906 index2905 alt1">&nbsp;</div><div class="line number2907 index2906 alt2"><code class="js string">Yanfly.BEC.Sprite_Battler_update = Sprite_Battler.prototype.update;</code></div><div class="line number2908 index2907 alt1"><code class="js string">Sprite_Battler.prototype.update = function() {</code></div><div class="line number2909 index2908 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Sprite_Battler_update.call(this);</code></div><div class="line number2910 index2909 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._postSpriteInitialized) return;</code></div><div class="line number2911 index2910 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.postSpriteInitialize();</code></div><div class="line number2912 index2911 alt1"><code class="js string">};</code></div><div class="line number2913 index2912 alt2">&nbsp;</div><div class="line number2914 index2913 alt1"><code class="js string">Sprite_Battler.prototype.postSpriteInitialize = function() {</code></div><div class="line number2915 index2914 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._postSpriteInitialized = true;</code></div><div class="line number2916 index2915 alt1"><code class="js string">};</code></div><div class="line number2917 index2916 alt2">&nbsp;</div><div class="line number2918 index2917 alt1"><code class="js string">Yanfly.BEC.Sprite_Battler_initMembers = Sprite_Battler.prototype.initMembers;</code></div><div class="line number2919 index2918 alt2"><code class="js string">Sprite_Battler.prototype.initMembers = function() {</code></div><div class="line number2920 index2919 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Sprite_Battler_initMembers.call(this);</code></div><div class="line number2921 index2920 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.adjustAnchor();</code></div><div class="line number2922 index2921 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.setZ();</code></div><div class="line number2923 index2922 alt2"><code class="js string">};</code></div><div class="line number2924 index2923 alt1">&nbsp;</div><div class="line number2925 index2924 alt2"><code class="js string">Sprite_Battler.prototype.adjustAnchor = function() {</code></div><div class="line number2926 index2925 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.anchor.x = 0.5;</code></div><div class="line number2927 index2926 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.anchor.y = 1.0;</code></div><div class="line number2928 index2927 alt1"><code class="js string">};</code></div><div class="line number2929 index2928 alt2">&nbsp;</div><div class="line number2930 index2929 alt1"><code class="js string">Sprite_Battler.prototype.setZ = function() {</code></div><div class="line number2931 index2930 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.z = 1;</code></div><div class="line number2932 index2931 alt1"><code class="js string">};</code></div><div class="line number2933 index2932 alt2">&nbsp;</div><div class="line number2934 index2933 alt1"><code class="js string">Sprite_Battler.prototype.setupDamagePopup = function() {</code></div><div class="line number2935 index2934 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._battler.isDamagePopupRequested()) {</code></div><div class="line number2936 index2935 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._battler.isSpriteVisible()) {</code></div><div class="line number2937 index2936 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var sprite = new Sprite_Damage();</code></div><div class="line number2938 index2937 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">sprite.x = this.x + this.damageOffsetX();</code></div><div class="line number2939 index2938 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">sprite.y = this.y + this.damageOffsetY();</code></div><div class="line number2940 index2939 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">sprite.setup(this._battler);</code></div><div class="line number2941 index2940 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.pushDamageSprite(sprite);</code></div><div class="line number2942 index2941 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">BattleManager._spriteset.addChild(sprite);</code></div><div class="line number2943 index2942 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._battler.clearResult();</code></div><div class="line number2944 index2943 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2945 index2944 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number2946 index2945 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._battler.clearDamagePopup();</code></div><div class="line number2947 index2946 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2948 index2947 alt1"><code class="js string">};</code></div><div class="line number2949 index2948 alt2">&nbsp;</div><div class="line number2950 index2949 alt1"><code class="js string">Sprite_Battler.prototype.pushDamageSprite = function(sprite) {</code></div><div class="line number2951 index2950 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var heightBuffer = Yanfly.Param.BECPopupOverlap;</code></div><div class="line number2952 index2951 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Yanfly.Param.BECNewPopBottom) {</code></div><div class="line number2953 index2952 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._damages.push(sprite);</code></div><div class="line number2954 index2953 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._damages.forEach(function(spr) {</code></div><div class="line number2955 index2954 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; spr.children.length; i++) {</code></div><div class="line number2956 index2955 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">childSprite = spr.children[i];</code></div><div class="line number2957 index2956 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">childSprite.anchor.y += heightBuffer;</code></div><div class="line number2958 index2957 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2959 index2958 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}, this);</code></div><div class="line number2960 index2959 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number2961 index2960 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._damages.push(sprite);</code></div><div class="line number2962 index2961 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">heightBuffer *= this._damages.length</code></div><div class="line number2963 index2962 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; sprite.children.length; i++) {</code></div><div class="line number2964 index2963 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">childSprite = sprite.children[i];</code></div><div class="line number2965 index2964 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">childSprite.anchor.y += heightBuffer;</code></div><div class="line number2966 index2965 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2967 index2966 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number2968 index2967 alt1"><code class="js string">};</code></div><div class="line number2969 index2968 alt2">&nbsp;</div><div class="line number2970 index2969 alt1"><code class="js string">Yanfly.BEC.Sprite_Battler_setBattler = Sprite_Battler.prototype.setBattler;</code></div><div class="line number2971 index2970 alt2"><code class="js string">Sprite_Battler.prototype.setBattler = function(battler) {</code></div><div class="line number2972 index2971 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Sprite_Battler_setBattler.call(this, battler);</code></div><div class="line number2973 index2972 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (battler) battler.setBattler(this);</code></div><div class="line number2974 index2973 alt1"><code class="js string">};</code></div><div class="line number2975 index2974 alt2">&nbsp;</div><div class="line number2976 index2975 alt1"><code class="js string">Yanfly.BEC.Sprite_Battler_startMove = Sprite_Battler.prototype.startMove;</code></div><div class="line number2977 index2976 alt2"><code class="js string">Sprite_Battler.prototype.startMove = function(x, y, duration) {</code></div><div class="line number2978 index2977 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._battler &amp;&amp; !this._battler.spriteCanMove()) return;</code></div><div class="line number2979 index2978 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Sprite_Battler_startMove.call(this, x, y, duration);</code></div><div class="line number2980 index2979 alt1"><code class="js string">};</code></div><div class="line number2981 index2980 alt2">&nbsp;</div><div class="line number2982 index2981 alt1"><code class="js string">Sprite_Battler.prototype.stepForward = function() {</code></div><div class="line number2983 index2982 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.startMove(Yanfly.Param.BECStepDist, 0, 12);</code></div><div class="line number2984 index2983 alt1"><code class="js string">};</code></div><div class="line number2985 index2984 alt2">&nbsp;</div><div class="line number2986 index2985 alt1"><code class="js string">Sprite_Battler.prototype.stepBack = function() {</code></div><div class="line number2987 index2986 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.startMove(0, 0, 12);</code></div><div class="line number2988 index2987 alt1"><code class="js string">};</code></div><div class="line number2989 index2988 alt2">&nbsp;</div><div class="line number2990 index2989 alt1"><code class="js string">Sprite_Battler.prototype.stepFlinch = function() {</code></div><div class="line number2991 index2990 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var flinchX = this.x - this._homeX - Yanfly.Param.BECFlinchDist;</code></div><div class="line number2992 index2991 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var flinchY = this.y - this._homeY;</code></div><div class="line number2993 index2992 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.startMove(flinchX, flinchY, 6);</code></div><div class="line number2994 index2993 alt1"><code class="js string">};</code></div><div class="line number2995 index2994 alt2">&nbsp;</div><div class="line number2996 index2995 alt1"><code class="js string">Sprite_Battler.prototype.stepSubBack = function() {</code></div><div class="line number2997 index2996 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var backX = -1 * this.width / 2;</code></div><div class="line number2998 index2997 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.startMove(backX, 0, 6);</code></div><div class="line number2999 index2998 alt2"><code class="js string">};</code></div><div class="line number3000 index2999 alt1">&nbsp;</div><div class="line number3001 index3000 alt2"><code class="js string">Sprite_Battler.prototype.stepToSubstitute = function(focus) {</code></div><div class="line number3002 index3001 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = focus.battler();</code></div><div class="line number3003 index3002 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var targetX = (this.x - this._homeX) + (target._homeX - this._homeX);</code></div><div class="line number3004 index3003 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var targetY = (this.y - this._homeY) + (target._homeY - this._homeY);;</code></div><div class="line number3005 index3004 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (focus.isActor()) targetX -= this._mainSprite.width / 2;</code></div><div class="line number3006 index3005 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (focus.isEnemy()) targetX += this.width / 2;</code></div><div class="line number3007 index3006 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.startMove(targetX, targetY, 1);</code></div><div class="line number3008 index3007 alt1"><code class="js string">};</code></div><div class="line number3009 index3008 alt2">&nbsp;</div><div class="line number3010 index3009 alt1"><code class="js string">Sprite_Battler.prototype.startMotion = function(motionType) {</code></div><div class="line number3011 index3010 alt2"><code class="js string">};</code></div><div class="line number3012 index3011 alt1">&nbsp;</div><div class="line number3013 index3012 alt2"><code class="js string">Sprite_Battler.prototype.forceMotion = function(motionType) {</code></div><div class="line number3014 index3013 alt1"><code class="js string">};</code></div><div class="line number3015 index3014 alt2">&nbsp;</div><div class="line number3016 index3015 alt1"><code class="js string">Sprite_Battler.prototype.refreshMotion = function() {</code></div><div class="line number3017 index3016 alt2"><code class="js string">};</code></div><div class="line number3018 index3017 alt1">&nbsp;</div><div class="line number3019 index3018 alt2"><code class="js string">Sprite_Battler.prototype.startActionMotion = function() {</code></div><div class="line number3020 index3019 alt1"><code class="js string">};</code></div><div class="line number3021 index3020 alt2">&nbsp;</div><div class="line number3022 index3021 alt1"><code class="js string">Sprite_Battler.prototype.moveForward = function(distance, frames) {</code></div><div class="line number3023 index3022 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">distance = parseInt(distance);</code></div><div class="line number3024 index3023 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">frames = parseInt(frames);</code></div><div class="line number3025 index3024 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._battler.isActor()) distance *= -1;</code></div><div class="line number3026 index3025 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var moveX = this.x - this._homeX + distance;</code></div><div class="line number3027 index3026 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var moveY = this.y - this._homeY;</code></div><div class="line number3028 index3027 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.startMove(moveX, moveY, frames);</code></div><div class="line number3029 index3028 alt2"><code class="js string">};</code></div><div class="line number3030 index3029 alt1">&nbsp;</div><div class="line number3031 index3030 alt2"><code class="js string">Sprite_Battler.prototype.moveToPoint = function(pointX, pointY, frames) {</code></div><div class="line number3032 index3031 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">pointX = parseInt(pointX);</code></div><div class="line number3033 index3032 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">pointY = parseInt(pointY);</code></div><div class="line number3034 index3033 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var targetX = pointX - this._homeX;</code></div><div class="line number3035 index3034 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var targetY = pointY - this._homeY;</code></div><div class="line number3036 index3035 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.startMove(targetX, targetY, frames);</code></div><div class="line number3037 index3036 alt2"><code class="js string">};</code></div><div class="line number3038 index3037 alt1">&nbsp;</div><div class="line number3039 index3038 alt2"><code class="js string">Sprite_Battler.prototype.setMirror = function(value) {</code></div><div class="line number3040 index3039 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.scale.x &gt; 0 &amp;&amp; value) this.scale.x *= -1;</code></div><div class="line number3041 index3040 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.scale.x &lt; 0 &amp;&amp; !value) this.scale.x *= -1;</code></div><div class="line number3042 index3041 alt1"><code class="js string">};</code></div><div class="line number3043 index3042 alt2">&nbsp;</div><div class="line number3044 index3043 alt1"><code class="js string">Sprite_Battler.prototype.isPopupPlaying = function() {</code></div><div class="line number3045 index3044 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._damages.length &gt; 0) {</code></div><div class="line number3046 index3045 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; this._damages.length; ++i) {</code></div><div class="line number3047 index3046 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this._damages[i].isPlaying();</code></div><div class="line number3048 index3047 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3049 index3048 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3050 index3049 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return false;</code></div><div class="line number3051 index3050 alt2"><code class="js string">};</code></div><div class="line number3052 index3051 alt1">&nbsp;</div><div class="line number3053 index3052 alt2"><code class="js string">//=============================================================================</code></div><div class="line number3054 index3053 alt1"><code class="js string">// Sprite_Actor</code></div><div class="line number3055 index3054 alt2"><code class="js string">//=============================================================================</code></div><div class="line number3056 index3055 alt1">&nbsp;</div><div class="line number3057 index3056 alt2"><code class="js string">Sprite_Actor.prototype.preSpriteInitialize = function(battler) {</code></div><div class="line number3058 index3057 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Sprite_Battler.prototype.preSpriteInitialize.call(this, battler);</code></div><div class="line number3059 index3058 alt2"><code class="js string">};</code></div><div class="line number3060 index3059 alt1">&nbsp;</div><div class="line number3061 index3060 alt2"><code class="js string">Sprite_Actor.prototype.postSpriteInitialize = function() {</code></div><div class="line number3062 index3061 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Sprite_Battler.prototype.postSpriteInitialize.call(this);</code></div><div class="line number3063 index3062 alt2"><code class="js string">};</code></div><div class="line number3064 index3063 alt1">&nbsp;</div><div class="line number3065 index3064 alt2"><code class="js string">Yanfly.BEC.Sprite_Actor_updateShadow = Sprite_Actor.prototype.updateShadow;</code></div><div class="line number3066 index3065 alt1"><code class="js string">Sprite_Actor.prototype.updateShadow = function() {</code></div><div class="line number3067 index3066 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._hideShadows === undefined) {</code></div><div class="line number3068 index3067 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._hideShadows = Yanfly.Param.BECShowShadows;</code></div><div class="line number3069 index3068 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3070 index3069 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this._hideShadows) return this._shadowSprite.visible = false;</code></div><div class="line number3071 index3070 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Sprite_Actor_updateShadow.call(this);</code></div><div class="line number3072 index3071 alt1"><code class="js string">};</code></div><div class="line number3073 index3072 alt2">&nbsp;</div><div class="line number3074 index3073 alt1"><code class="js string">Sprite_Actor.prototype.setActorHome = function(index) {</code></div><div class="line number3075 index3074 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var screenWidth = Graphics.boxWidth;</code></div><div class="line number3076 index3075 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var screenHeight = Graphics.boxHeight;</code></div><div class="line number3077 index3076 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var maxSize = $gameParty.maxBattleMembers();</code></div><div class="line number3078 index3077 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var partySize = $gameParty.battleMembers().length;</code></div><div class="line number3079 index3078 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var statusHeight = eval(Yanfly.Param.BECCommandRows);</code></div><div class="line number3080 index3079 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">statusHeight *= Window_Base.prototype.lineHeight.call(this);</code></div><div class="line number3081 index3080 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">statusHeight += Window_Base.prototype.standardPadding.call(this) * 2;</code></div><div class="line number3082 index3081 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameSystem.isSideView()) {</code></div><div class="line number3083 index3082 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var code = Yanfly.Param.BECHomePosX;</code></div><div class="line number3084 index3083 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">try {</code></div><div class="line number3085 index3084 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var homeX = eval(code);</code></div><div class="line number3086 index3085 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} catch (e) {</code></div><div class="line number3087 index3086 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var homeX = 0;</code></div><div class="line number3088 index3087 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.Util.displayError(e, code, '</code><code class="js plain">SIDE VIEW HOME X FORMULA ERROR</code><code class="js string">');</code></div><div class="line number3089 index3088 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3090 index3089 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var code = Yanfly.Param.BECHomePosY;</code></div><div class="line number3091 index3090 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">try {</code></div><div class="line number3092 index3091 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var homeY = eval(code);</code></div><div class="line number3093 index3092 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} catch (e) {</code></div><div class="line number3094 index3093 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var homeY = 0;</code></div><div class="line number3095 index3094 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.Util.displayError(e, code, '</code><code class="js plain">SIDE VIEW HOME Y FORMULA ERROR</code><code class="js string">');</code></div><div class="line number3096 index3095 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3097 index3096 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number3098 index3097 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var code = Yanfly.Param.BECFrontPosX;</code></div><div class="line number3099 index3098 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">try {</code></div><div class="line number3100 index3099 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var homeX = eval(code);</code></div><div class="line number3101 index3100 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} catch (e) {</code></div><div class="line number3102 index3101 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var homeX = 0;</code></div><div class="line number3103 index3102 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.Util.displayError(e, code, '</code><code class="js plain">FRONT VIEW HOME X FORMULA ERROR</code><code class="js string">');</code></div><div class="line number3104 index3103 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3105 index3104 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var code = Yanfly.Param.BECFrontPosY;</code></div><div class="line number3106 index3105 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">try {</code></div><div class="line number3107 index3106 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var homeY = eval(code);</code></div><div class="line number3108 index3107 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} catch (e) {</code></div><div class="line number3109 index3108 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var homeY = 0;</code></div><div class="line number3110 index3109 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.Util.displayError(e, code, '</code><code class="js plain">FRONT VIEW HOME Y FORMULA ERROR</code><code class="js string">');</code></div><div class="line number3111 index3110 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3112 index3111 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3113 index3112 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._checkAliveStatus = false;</code></div><div class="line number3114 index3113 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameParty.battleMembers()[index]) {</code></div><div class="line number3115 index3114 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var actor = $gameParty.battleMembers()[index];</code></div><div class="line number3116 index3115 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actor.isAlive()) this._checkAliveStatus = true;</code></div><div class="line number3117 index3116 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3118 index3117 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.setHome(homeX, homeY);</code></div><div class="line number3119 index3118 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.moveToStartPosition();</code></div><div class="line number3120 index3119 alt1"><code class="js string">};</code></div><div class="line number3121 index3120 alt2">&nbsp;</div><div class="line number3122 index3121 alt1"><code class="js string">Sprite_Actor.prototype.moveToStartPosition = function() {</code></div><div class="line number3123 index3122 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (BattleManager._bypassMoveToStartLocation) return;</code></div><div class="line number3124 index3123 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameSystem.isSideView() &amp;&amp; this._checkAliveStatus) {</code></div><div class="line number3125 index3124 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.startMove(300, 0, 0);</code></div><div class="line number3126 index3125 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3127 index3126 alt2"><code class="js string">};</code></div><div class="line number3128 index3127 alt1">&nbsp;</div><div class="line number3129 index3128 alt2"><code class="js string">Sprite_Actor.prototype.setupMotion = function() {</code></div><div class="line number3130 index3129 alt1"><code class="js string">};</code></div><div class="line number3131 index3130 alt2">&nbsp;</div><div class="line number3132 index3131 alt1"><code class="js string">Sprite_Actor.prototype.forceMotion = function(motionType) {</code></div><div class="line number3133 index3132 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var newMotion = Sprite_Actor.MOTIONS[motionType];</code></div><div class="line number3134 index3133 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._motion = newMotion;</code></div><div class="line number3135 index3134 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._motionCount = 0;</code></div><div class="line number3136 index3135 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._pattern = 0;</code></div><div class="line number3137 index3136 alt2"><code class="js string">};</code></div><div class="line number3138 index3137 alt1">&nbsp;</div><div class="line number3139 index3138 alt2"><code class="js string">Sprite_Actor.prototype.updateTargetPosition = function() {</code></div><div class="line number3140 index3139 alt1"><code class="js string">};</code></div><div class="line number3141 index3140 alt2">&nbsp;</div><div class="line number3142 index3141 alt1"><code class="js string">Sprite_Actor.prototype.updateMotion = function() {</code></div><div class="line number3143 index3142 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateMotionCount();</code></div><div class="line number3144 index3143 alt1"><code class="js string">};</code></div><div class="line number3145 index3144 alt2">&nbsp;</div><div class="line number3146 index3145 alt1"><code class="js string">Sprite_Actor.prototype.onMoveEnd = function() {</code></div><div class="line number3147 index3146 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Sprite_Battler.prototype.onMoveEnd.call(this);</code></div><div class="line number3148 index3147 alt1"><code class="js string">};</code></div><div class="line number3149 index3148 alt2">&nbsp;</div><div class="line number3150 index3149 alt1"><code class="js string">Sprite_Actor.prototype.stepForward = function() {</code></div><div class="line number3151 index3150 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.startMove(-Yanfly.Param.BECStepDist, 0, 12);</code></div><div class="line number3152 index3151 alt1"><code class="js string">};</code></div><div class="line number3153 index3152 alt2">&nbsp;</div><div class="line number3154 index3153 alt1"><code class="js string">Sprite_Actor.prototype.stepFlinch = function() {</code></div><div class="line number3155 index3154 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var flinchX = this.x - this._homeX + Yanfly.Param.BECFlinchDist;</code></div><div class="line number3156 index3155 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var flinchY = this.y - this._homeY;</code></div><div class="line number3157 index3156 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.startMove(flinchX, flinchY, 6);</code></div><div class="line number3158 index3157 alt1"><code class="js string">};</code></div><div class="line number3159 index3158 alt2">&nbsp;</div><div class="line number3160 index3159 alt1"><code class="js string">Sprite_Actor.prototype.stepSubBack = function() {</code></div><div class="line number3161 index3160 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var backX = this._mainSprite.width / 2;</code></div><div class="line number3162 index3161 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.startMove(backX, 0, 6);</code></div><div class="line number3163 index3162 alt2"><code class="js string">};</code></div><div class="line number3164 index3163 alt1">&nbsp;</div><div class="line number3165 index3164 alt2"><code class="js string">Yanfly.BEC.Sprite_Actor_updateBitmap = Sprite_Actor.prototype.updateBitmap;</code></div><div class="line number3166 index3165 alt1"><code class="js string">Sprite_Actor.prototype.updateBitmap = function() {</code></div><div class="line number3167 index3166 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var name = this._actor.battlerName();</code></div><div class="line number3168 index3167 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var needUpdate = false;</code></div><div class="line number3169 index3168 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._battlerName !== name) needUpdate = true;</code></div><div class="line number3170 index3169 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Sprite_Actor_updateBitmap.call(this);</code></div><div class="line number3171 index3170 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (needUpdate) this.adjustAnchor();</code></div><div class="line number3172 index3171 alt1"><code class="js string">};</code></div><div class="line number3173 index3172 alt2">&nbsp;</div><div class="line number3174 index3173 alt1"><code class="js string">Sprite_Actor.prototype.adjustAnchor = function() {</code></div><div class="line number3175 index3174 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this._mainSprite) return;</code></div><div class="line number3176 index3175 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._mainSprite.anchor.x = this._actor.anchorX();</code></div><div class="line number3177 index3176 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._mainSprite.anchor.y = this._actor.anchorY();</code></div><div class="line number3178 index3177 alt1"><code class="js string">};</code></div><div class="line number3179 index3178 alt2">&nbsp;</div><div class="line number3180 index3179 alt1"><code class="js string">Yanfly.BEC.Sprite_Actor_updateFrame = Sprite_Actor.prototype.updateFrame;</code></div><div class="line number3181 index3180 alt2"><code class="js string">Sprite_Actor.prototype.updateFrame = function() {</code></div><div class="line number3182 index3181 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Sprite_Actor_updateFrame.call(this);</code></div><div class="line number3183 index3182 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this._mainSprite) return;</code></div><div class="line number3184 index3183 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this._mainSprite.bitmap) return;</code></div><div class="line number3185 index3184 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._mainSprite.bitmap.width &gt; 0 &amp;&amp; !this.bitmap) {</code></div><div class="line number3186 index3185 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var sw = this._mainSprite.bitmap.width / 9;</code></div><div class="line number3187 index3186 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var sh = this._mainSprite.bitmap.height / 6;</code></div><div class="line number3188 index3187 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.bitmap = new Bitmap(sw, sh);</code></div><div class="line number3189 index3188 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3190 index3189 alt1"><code class="js string">};</code></div><div class="line number3191 index3190 alt2">&nbsp;</div><div class="line number3192 index3191 alt1"><code class="js string">Yanfly.BEC.Sprite_Actor_refreshMotion = Sprite_Actor.prototype.refreshMotion;</code></div><div class="line number3193 index3192 alt2"><code class="js string">Sprite_Actor.prototype.refreshMotion = function() {</code></div><div class="line number3194 index3193 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var actor = this._actor;</code></div><div class="line number3195 index3194 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!actor) return;</code></div><div class="line number3196 index3195 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var motionGuard = Sprite_Actor.MOTIONS['</code><code class="js plain">guard</code><code class="js string">'];</code></div><div class="line number3197 index3196 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._motion === motionGuard &amp;&amp; !BattleManager.isInputting()) return;</code></div><div class="line number3198 index3197 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var stateMotion = actor.stateMotionIndex();</code></div><div class="line number3199 index3198 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actor.isInputting() || actor.isActing()) {</code></div><div class="line number3200 index3199 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.startMotion(actor.idleMotion());</code></div><div class="line number3201 index3200 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (stateMotion === 3) {</code></div><div class="line number3202 index3201 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.startMotion(actor.deadMotion());</code></div><div class="line number3203 index3202 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (stateMotion === 2) {</code></div><div class="line number3204 index3203 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.startMotion(actor.sleepMotion());</code></div><div class="line number3205 index3204 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (actor.isChanting()) {</code></div><div class="line number3206 index3205 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.startMotion(actor.chantMotion());</code></div><div class="line number3207 index3206 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (actor.isGuard() || actor.isGuardWaiting()) {</code></div><div class="line number3208 index3207 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.startMotion(actor.guardMotion());</code></div><div class="line number3209 index3208 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (stateMotion === 1) {</code></div><div class="line number3210 index3209 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.startMotion(actor.abnormalMotion());</code></div><div class="line number3211 index3210 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (actor.isDying()) {</code></div><div class="line number3212 index3211 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.startMotion(actor.dyingMotion());</code></div><div class="line number3213 index3212 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (actor.isUndecided()) {</code></div><div class="line number3214 index3213 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.startMotion(actor.idleMotion());</code></div><div class="line number3215 index3214 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number3216 index3215 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.startMotion(actor.waitMotion());</code></div><div class="line number3217 index3216 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3218 index3217 alt1"><code class="js string">};</code></div><div class="line number3219 index3218 alt2">&nbsp;</div><div class="line number3220 index3219 alt1"><code class="js string">//=============================================================================</code></div><div class="line number3221 index3220 alt2"><code class="js string">// Sprite_Enemy</code></div><div class="line number3222 index3221 alt1"><code class="js string">//=============================================================================</code></div><div class="line number3223 index3222 alt2">&nbsp;</div><div class="line number3224 index3223 alt1"><code class="js string">Sprite_Enemy.prototype.preSpriteInitialize = function(battler) {</code></div><div class="line number3225 index3224 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Sprite_Battler.prototype.preSpriteInitialize.call(this, battler);</code></div><div class="line number3226 index3225 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._visualSelect = Yanfly.Param.BECEnemySelect;</code></div><div class="line number3227 index3226 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._visualSelect) this.createVisualSelectWindow();</code></div><div class="line number3228 index3227 alt1"><code class="js string">};</code></div><div class="line number3229 index3228 alt2">&nbsp;</div><div class="line number3230 index3229 alt1"><code class="js string">Yanfly.BEC.Sprite_Enemy_update = Sprite_Enemy.prototype.update;</code></div><div class="line number3231 index3230 alt2"><code class="js string">Sprite_Enemy.prototype.update = function() {</code></div><div class="line number3232 index3231 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Sprite_Enemy_update.call(this);</code></div><div class="line number3233 index3232 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.addVisualSelectWindow();</code></div><div class="line number3234 index3233 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.checkExistInSceneChildren()</code></div><div class="line number3235 index3234 alt2"><code class="js string">};</code></div><div class="line number3236 index3235 alt1">&nbsp;</div><div class="line number3237 index3236 alt2"><code class="js string">Sprite_Enemy.prototype.addVisualSelectWindow = function() {</code></div><div class="line number3238 index3237 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this._visualSelect) return;</code></div><div class="line number3239 index3238 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._addedVisualSelect) return;</code></div><div class="line number3240 index3239 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!SceneManager._scene) return;</code></div><div class="line number3241 index3240 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var scene = SceneManager._scene;</code></div><div class="line number3242 index3241 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!scene._windowLayer) return;</code></div><div class="line number3243 index3242 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._addedVisualSelect = true;</code></div><div class="line number3244 index3243 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">scene.addChild(this._visualSelectWindow);</code></div><div class="line number3245 index3244 alt2"><code class="js string">};</code></div><div class="line number3246 index3245 alt1">&nbsp;</div><div class="line number3247 index3246 alt2"><code class="js string">Sprite_Enemy.prototype.createVisualSelectWindow = function() {</code></div><div class="line number3248 index3247 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._visualSelectWindow = new Window_EnemyVisualSelect();</code></div><div class="line number3249 index3248 alt2"><code class="js string">};</code></div><div class="line number3250 index3249 alt1">&nbsp;</div><div class="line number3251 index3250 alt2"><code class="js string">Yanfly.BEC.Sprite_Enemy_setBattler = Sprite_Enemy.prototype.setBattler;</code></div><div class="line number3252 index3251 alt1"><code class="js string">Sprite_Enemy.prototype.setBattler = function(battler) {</code></div><div class="line number3253 index3252 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Sprite_Enemy_setBattler.call(this, battler);</code></div><div class="line number3254 index3253 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._visualSelectWindow) this._visualSelectWindow.setBattler(battler);</code></div><div class="line number3255 index3254 alt2"><code class="js string">};</code></div><div class="line number3256 index3255 alt1">&nbsp;</div><div class="line number3257 index3256 alt2"><code class="js string">Sprite_Enemy.prototype.checkExistInSceneChildren = function() {</code></div><div class="line number3258 index3257 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this._visualSelect) return;</code></div><div class="line number3259 index3258 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!SceneManager._scene) return;</code></div><div class="line number3260 index3259 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var scene = SceneManager._scene;</code></div><div class="line number3261 index3260 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!scene._windowLayer) return;</code></div><div class="line number3262 index3261 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!scene.children.contains(this._visualSelectWindow)) {</code></div><div class="line number3263 index3262 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._addedVisualSelect = true;</code></div><div class="line number3264 index3263 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">scene.addChild(this._visualSelectWindow);</code></div><div class="line number3265 index3264 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3266 index3265 alt1"><code class="js string">};</code></div><div class="line number3267 index3266 alt2">&nbsp;</div><div class="line number3268 index3267 alt1"><code class="js string">//=============================================================================</code></div><div class="line number3269 index3268 alt2"><code class="js string">// Sprite_Weapon</code></div><div class="line number3270 index3269 alt1"><code class="js string">//=============================================================================</code></div><div class="line number3271 index3270 alt2">&nbsp;</div><div class="line number3272 index3271 alt1"><code class="js string">Yanfly.BEC.Sprite_Weapon_setup = Sprite_Weapon.prototype.setup;</code></div><div class="line number3273 index3272 alt2"><code class="js string">Sprite_Weapon.prototype.setup = function(weaponImageId) {</code></div><div class="line number3274 index3273 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Sprite_Weapon_setup.call(this, weaponImageId);</code></div><div class="line number3275 index3274 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._animationCount -= 1; // Synch with sprite</code></div><div class="line number3276 index3275 alt1"><code class="js string">};</code></div><div class="line number3277 index3276 alt2">&nbsp;</div><div class="line number3278 index3277 alt1"><code class="js string">//=============================================================================</code></div><div class="line number3279 index3278 alt2"><code class="js string">// Sprite_Damage</code></div><div class="line number3280 index3279 alt1"><code class="js string">//=============================================================================</code></div><div class="line number3281 index3280 alt2">&nbsp;</div><div class="line number3282 index3281 alt1"><code class="js string">Yanfly.BEC.Sprite_Damage_initialize = Sprite_Damage.prototype.initialize;</code></div><div class="line number3283 index3282 alt2"><code class="js string">Sprite_Damage.prototype.initialize = function() {</code></div><div class="line number3284 index3283 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Sprite_Damage_initialize.call(this);</code></div><div class="line number3285 index3284 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._duration = Yanfly.Param.BECPopupDur;</code></div><div class="line number3286 index3285 alt1"><code class="js string">};</code></div><div class="line number3287 index3286 alt2">&nbsp;</div><div class="line number3288 index3287 alt1"><code class="js string">Sprite_Damage.prototype.setup = function(target) {</code></div><div class="line number3289 index3288 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._result = target.shiftDamagePopup();</code></div><div class="line number3290 index3289 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var result = this._result;</code></div><div class="line number3291 index3290 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (result.missed || result.evaded) {</code></div><div class="line number3292 index3291 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.createMiss();</code></div><div class="line number3293 index3292 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (result.hpAffected) {</code></div><div class="line number3294 index3293 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.createDigits(0, result.hpDamage);</code></div><div class="line number3295 index3294 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (target.isAlive() &amp;&amp; result.mpDamage !== 0) {</code></div><div class="line number3296 index3295 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.createDigits(2, result.mpDamage);</code></div><div class="line number3297 index3296 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3298 index3297 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (result.critical) {</code></div><div class="line number3299 index3298 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.setupCriticalEffect();</code></div><div class="line number3300 index3299 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3301 index3300 alt2"><code class="js string">};</code></div><div class="line number3302 index3301 alt1">&nbsp;</div><div class="line number3303 index3302 alt2"><code class="js string">Sprite_Damage.prototype.setupCriticalEffect = function() {</code></div><div class="line number3304 index3303 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._flashColor = eval('</code><code class="js plain">[</code><code class="js string">' + Yanfly.Param.BECCritPopup + '</code><code class="js plain">]</code><code class="js string">');</code></div><div class="line number3305 index3304 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._flashDuration = Yanfly.Param.BECCritDur;</code></div><div class="line number3306 index3305 alt1"><code class="js string">};</code></div><div class="line number3307 index3306 alt2">&nbsp;</div><div class="line number3308 index3307 alt1"><code class="js string">//=============================================================================</code></div><div class="line number3309 index3308 alt2"><code class="js string">// Sprite_StateIcon</code></div><div class="line number3310 index3309 alt1"><code class="js string">//=============================================================================</code></div><div class="line number3311 index3310 alt2">&nbsp;</div><div class="line number3312 index3311 alt1"><code class="js string">Yanfly.BEC.Sprite_StateIcon_update = Sprite_StateIcon.prototype.update;</code></div><div class="line number3313 index3312 alt2"><code class="js string">Sprite_StateIcon.prototype.update = function() {</code></div><div class="line number3314 index3313 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Sprite_StateIcon_update.call(this);</code></div><div class="line number3315 index3314 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateMirror();</code></div><div class="line number3316 index3315 alt1"><code class="js string">};</code></div><div class="line number3317 index3316 alt2">&nbsp;</div><div class="line number3318 index3317 alt1"><code class="js string">Sprite_StateIcon.prototype.updateMirror = function() {</code></div><div class="line number3319 index3318 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.parent.scale.x &lt; 0) this.scale.x = -1 * Math.abs(this.scale.x);</code></div><div class="line number3320 index3319 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.parent.scale.x &gt; 0) this.scale.x = Math.abs(this.scale.x);</code></div><div class="line number3321 index3320 alt2"><code class="js string">};</code></div><div class="line number3322 index3321 alt1">&nbsp;</div><div class="line number3323 index3322 alt2"><code class="js string">//=============================================================================</code></div><div class="line number3324 index3323 alt1"><code class="js string">// Sprite_StateOverlay</code></div><div class="line number3325 index3324 alt2"><code class="js string">//=============================================================================</code></div><div class="line number3326 index3325 alt1">&nbsp;</div><div class="line number3327 index3326 alt2"><code class="js string">Yanfly.BEC.Sprite_StateOverlay_update = Sprite_StateOverlay.prototype.update;</code></div><div class="line number3328 index3327 alt1"><code class="js string">Sprite_StateOverlay.prototype.update = function() {</code></div><div class="line number3329 index3328 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Sprite_StateOverlay_update.call(this);</code></div><div class="line number3330 index3329 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateMirror();</code></div><div class="line number3331 index3330 alt2"><code class="js string">};</code></div><div class="line number3332 index3331 alt1">&nbsp;</div><div class="line number3333 index3332 alt2"><code class="js string">Sprite_StateOverlay.prototype.updateMirror = function() {</code></div><div class="line number3334 index3333 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.parent.scale.x &lt; 0) this.scale.x = -1 * Math.abs(this.scale.x);</code></div><div class="line number3335 index3334 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.parent.scale.x &gt; 0) this.scale.x = Math.abs(this.scale.x);</code></div><div class="line number3336 index3335 alt1"><code class="js string">};</code></div><div class="line number3337 index3336 alt2">&nbsp;</div><div class="line number3338 index3337 alt1"><code class="js string">//=============================================================================</code></div><div class="line number3339 index3338 alt2"><code class="js string">// Spriteset_Battle</code></div><div class="line number3340 index3339 alt1"><code class="js string">//=============================================================================</code></div><div class="line number3341 index3340 alt2">&nbsp;</div><div class="line number3342 index3341 alt1"><code class="js string">Spriteset_Battle.prototype.isBusy = function() {</code></div><div class="line number3343 index3342 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return false;</code></div><div class="line number3344 index3343 alt1"><code class="js string">};</code></div><div class="line number3345 index3344 alt2">&nbsp;</div><div class="line number3346 index3345 alt1"><code class="js string">Yanfly.BEC.Spriteset_Battle_update = Spriteset_Battle.prototype.update;</code></div><div class="line number3347 index3346 alt2"><code class="js string">Spriteset_Battle.prototype.update = function() {</code></div><div class="line number3348 index3347 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Spriteset_Battle_update.call(this);</code></div><div class="line number3349 index3348 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateZCoordinates();</code></div><div class="line number3350 index3349 alt1"><code class="js string">};</code></div><div class="line number3351 index3350 alt2">&nbsp;</div><div class="line number3352 index3351 alt1"><code class="js string">Spriteset_Battle.prototype.updateZCoordinates = function() {</code></div><div class="line number3353 index3352 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (Imported.YEP_ImprovedBattlebacks) {</code></div><div class="line number3354 index3353 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateBattlebackGroupRemove();</code></div><div class="line number3355 index3354 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number3356 index3355 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._battleField.removeChild(this._back1Sprite);</code></div><div class="line number3357 index3356 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._battleField.removeChild(this._back2Sprite);</code></div><div class="line number3358 index3357 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3359 index3358 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">this._battleField.children.sort(this.battleFieldDepthCompare);</code></div><div class="line number3360 index3359 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (Imported.YEP_ImprovedBattlebacks) {</code></div><div class="line number3361 index3360 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateBattlebackGroupAdd();</code></div><div class="line number3362 index3361 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number3363 index3362 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._battleField.addChildAt(this._back2Sprite, 0);</code></div><div class="line number3364 index3363 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._battleField.addChildAt(this._back1Sprite, 0);</code></div><div class="line number3365 index3364 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3366 index3365 alt1"><code class="js string">};</code></div><div class="line number3367 index3366 alt2">&nbsp;</div><div class="line number3368 index3367 alt1"><code class="js string">Spriteset_Battle.prototype.battleFieldDepthCompare = function(a, b) {</code></div><div class="line number3369 index3368 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var priority = BattleManager.getSpritePriority();</code></div><div class="line number3370 index3369 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (a._battler &amp;&amp; b._battler &amp;&amp; priority !== 0) {</code></div><div class="line number3371 index3370 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (priority === 1) {</code></div><div class="line number3372 index3371 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (a._battler.isActor() &amp;&amp; b._battler.isEnemy()) return 1;</code></div><div class="line number3373 index3372 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (a._battler.isEnemy() &amp;&amp; b._battler.isActor()) return -1;</code></div><div class="line number3374 index3373 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (priority === 2) {</code></div><div class="line number3375 index3374 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (a._battler.isActor() &amp;&amp; b._battler.isEnemy()) return -1;</code></div><div class="line number3376 index3375 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (a._battler.isEnemy() &amp;&amp; b._battler.isActor()) return 1;</code></div><div class="line number3377 index3376 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3378 index3377 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3379 index3378 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (a.z &lt; b.z) return -1;</code></div><div class="line number3380 index3379 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (a.z &gt; b.z) return 1;</code></div><div class="line number3381 index3380 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (a.y &lt; b.y) return -1;</code></div><div class="line number3382 index3381 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (a.y &gt; b.y) return 1;</code></div><div class="line number3383 index3382 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return 0;</code></div><div class="line number3384 index3383 alt1"><code class="js string">};</code></div><div class="line number3385 index3384 alt2">&nbsp;</div><div class="line number3386 index3385 alt1"><code class="js string">Spriteset_Battle.prototype.isPopupPlaying = function() {</code></div><div class="line number3387 index3386 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.battlerSprites().some(function(sprite) {</code></div><div class="line number3388 index3387 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return sprite.isPopupPlaying();</code></div><div class="line number3389 index3388 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">});</code></div><div class="line number3390 index3389 alt1"><code class="js string">};</code></div><div class="line number3391 index3390 alt2">&nbsp;</div><div class="line number3392 index3391 alt1"><code class="js string">Yanfly.BEC.Spriteset_Battle_battlerSprites =</code></div><div class="line number3393 index3392 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">Spriteset_Battle.prototype.battlerSprites;</code></div><div class="line number3394 index3393 alt1"><code class="js string">Spriteset_Battle.prototype.battlerSprites = function() {</code></div><div class="line number3395 index3394 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var sprites = Yanfly.BEC.Spriteset_Battle_battlerSprites.call(this);</code></div><div class="line number3396 index3395 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var length = sprites.length;</code></div><div class="line number3397 index3396 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var result = [];</code></div><div class="line number3398 index3397 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; length; ++i) {</code></div><div class="line number3399 index3398 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var sprite = sprites[i];</code></div><div class="line number3400 index3399 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!sprite) continue;</code></div><div class="line number3401 index3400 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!sprite._battler) continue;</code></div><div class="line number3402 index3401 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">result.push(sprite);</code></div><div class="line number3403 index3402 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3404 index3403 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">return result;</code></div><div class="line number3405 index3404 alt2"><code class="js string">};</code></div><div class="line number3406 index3405 alt1">&nbsp;</div><div class="line number3407 index3406 alt2"><code class="js string">//=============================================================================</code></div><div class="line number3408 index3407 alt1"><code class="js string">// Game_Temp</code></div><div class="line number3409 index3408 alt2"><code class="js string">//=============================================================================</code></div><div class="line number3410 index3409 alt1">&nbsp;</div><div class="line number3411 index3410 alt2"><code class="js string">Game_Temp.prototype.clearActionSequenceSettings = function() {</code></div><div class="line number3412 index3411 alt1"><code class="js string">};</code></div><div class="line number3413 index3412 alt2">&nbsp;</div><div class="line number3414 index3413 alt1"><code class="js string">Game_Temp.prototype.forceActionQueue = function(command) {</code></div><div class="line number3415 index3414 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (!this._forceActionQueue) {</code></div><div class="line number3416 index3415 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._forceActionQueue = JsonEx.makeDeepCopy($dataCommonEvents[1]);</code></div><div class="line number3417 index3416 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._forceActionQueue.list = [];</code></div><div class="line number3418 index3417 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3419 index3418 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">this._forceActionQueue.list.push(command);</code></div><div class="line number3420 index3419 alt1"><code class="js string">};</code></div><div class="line number3421 index3420 alt2">&nbsp;</div><div class="line number3422 index3421 alt1"><code class="js string">Yanfly.BEC.Game_Temp_clearCommonEvent = Game_Temp.prototype.clearCommonEvent;</code></div><div class="line number3423 index3422 alt2"><code class="js string">Game_Temp.prototype.clearCommonEvent = function() {</code></div><div class="line number3424 index3423 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._forceActionQueue = undefined;</code></div><div class="line number3425 index3424 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Game_Temp_clearCommonEvent.call(this);</code></div><div class="line number3426 index3425 alt1"><code class="js string">};</code></div><div class="line number3427 index3426 alt2">&nbsp;</div><div class="line number3428 index3427 alt1"><code class="js string">Yanfly.BEC.Game_Temp_isCommonEventReserved =</code></div><div class="line number3429 index3428 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">Game_Temp.prototype.isCommonEventReserved;</code></div><div class="line number3430 index3429 alt1"><code class="js string">Game_Temp.prototype.isCommonEventReserved = function() {</code></div><div class="line number3431 index3430 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (this._forceActionQueue) return true;</code></div><div class="line number3432 index3431 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">return Yanfly.BEC.Game_Temp_isCommonEventReserved.call(this);</code></div><div class="line number3433 index3432 alt2"><code class="js string">};</code></div><div class="line number3434 index3433 alt1">&nbsp;</div><div class="line number3435 index3434 alt2"><code class="js string">Yanfly.BEC.Game_Temp_reservedCommonEvent =</code></div><div class="line number3436 index3435 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">Game_Temp.prototype.reservedCommonEvent;</code></div><div class="line number3437 index3436 alt2"><code class="js string">Game_Temp.prototype.reservedCommonEvent = function() {</code></div><div class="line number3438 index3437 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (this._forceActionQueue) {</code></div><div class="line number3439 index3438 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this._forceActionQueue;</code></div><div class="line number3440 index3439 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3441 index3440 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">return Yanfly.BEC.Game_Temp_reservedCommonEvent.call(this);</code></div><div class="line number3442 index3441 alt1"><code class="js string">};</code></div><div class="line number3443 index3442 alt2">&nbsp;</div><div class="line number3444 index3443 alt1"><code class="js string">//=============================================================================</code></div><div class="line number3445 index3444 alt2"><code class="js string">// Game_System</code></div><div class="line number3446 index3445 alt1"><code class="js string">//=============================================================================</code></div><div class="line number3447 index3446 alt2">&nbsp;</div><div class="line number3448 index3447 alt1"><code class="js string">Yanfly.BEC.Game_System_initialize = Game_System.prototype.initialize;</code></div><div class="line number3449 index3448 alt2"><code class="js string">Game_System.prototype.initialize = function() {</code></div><div class="line number3450 index3449 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Game_System_initialize.call(this);</code></div><div class="line number3451 index3450 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.initBattleSystem();</code></div><div class="line number3452 index3451 alt1"><code class="js string">};</code></div><div class="line number3453 index3452 alt2">&nbsp;</div><div class="line number3454 index3453 alt1"><code class="js string">Game_System.prototype.initBattleSystem = function() {</code></div><div class="line number3455 index3454 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._battleSystem = Yanfly.Param.BECSystem.toLowerCase();</code></div><div class="line number3456 index3455 alt1"><code class="js string">};</code></div><div class="line number3457 index3456 alt2">&nbsp;</div><div class="line number3458 index3457 alt1"><code class="js string">Game_System.prototype.getBattleSystem = function() {</code></div><div class="line number3459 index3458 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._battleSystem === undefined) this.initBattleSystem();</code></div><div class="line number3460 index3459 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this._battleSystem;</code></div><div class="line number3461 index3460 alt2"><code class="js string">};</code></div><div class="line number3462 index3461 alt1">&nbsp;</div><div class="line number3463 index3462 alt2"><code class="js string">Game_System.prototype.setBattleSystem = function(type) {</code></div><div class="line number3464 index3463 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._battleSystem = type.toLowerCase();</code></div><div class="line number3465 index3464 alt2"><code class="js string">};</code></div><div class="line number3466 index3465 alt1">&nbsp;</div><div class="line number3467 index3466 alt2"><code class="js string">//=============================================================================</code></div><div class="line number3468 index3467 alt1"><code class="js string">// Game_Interpreter</code></div><div class="line number3469 index3468 alt2"><code class="js string">//=============================================================================</code></div><div class="line number3470 index3469 alt1">&nbsp;</div><div class="line number3471 index3470 alt2"><code class="js string">Yanfly.BEC.Game_Interpreter_pluginCommand =</code></div><div class="line number3472 index3471 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Game_Interpreter.prototype.pluginCommand;</code></div><div class="line number3473 index3472 alt2"><code class="js string">Game_Interpreter.prototype.pluginCommand = function(command, args) {</code></div><div class="line number3474 index3473 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Game_Interpreter_pluginCommand.call(this, command, args);</code></div><div class="line number3475 index3474 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (command === '</code><code class="js plain">setBattleSys</code><code class="js string">' &amp;&amp; !$gameParty.inBattle()) {</code></div><div class="line number3476 index3475 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.setBattleSystem(args[0]);</code></div><div class="line number3477 index3476 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3478 index3477 alt1"><code class="js string">};</code></div><div class="line number3479 index3478 alt2">&nbsp;</div><div class="line number3480 index3479 alt1"><code class="js string">Game_Interpreter.prototype.setBattleSystem = function(value) {</code></div><div class="line number3481 index3480 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">$gameSystem.setBattleSystem(value);</code></div><div class="line number3482 index3481 alt1"><code class="js string">};</code></div><div class="line number3483 index3482 alt2">&nbsp;</div><div class="line number3484 index3483 alt1"><code class="js string">//=============================================================================</code></div><div class="line number3485 index3484 alt2"><code class="js string">// Game_Action</code></div><div class="line number3486 index3485 alt1"><code class="js string">//=============================================================================</code></div><div class="line number3487 index3486 alt2">&nbsp;</div><div class="line number3488 index3487 alt1"><code class="js string">Game_Action.prototype.speed = function() {</code></div><div class="line number3489 index3488 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var user = this.subject(); var a = user;</code></div><div class="line number3490 index3489 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var maxhp = user.mhp; var mhp = user.mhp; var hp = user.hp;</code></div><div class="line number3491 index3490 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var maxmp = user.mmp; var mmp = user.mmp; var mp = user.mp;</code></div><div class="line number3492 index3491 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var maxtp = user.maxTp(); var mtp = user.maxTp(); var tp = user.tp;</code></div><div class="line number3493 index3492 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var atk = user.atk; var def = user.def; var mat = user.mat;</code></div><div class="line number3494 index3493 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var int = user.mat; var mdf = user.mdf; var res = user.res;</code></div><div class="line number3495 index3494 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var agi = user.agi; var luk = user.luk;</code></div><div class="line number3496 index3495 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var code = Yanfly.Param.BECActionSpeed;</code></div><div class="line number3497 index3496 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">try {</code></div><div class="line number3498 index3497 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var speed = eval(code);</code></div><div class="line number3499 index3498 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} catch (e) {</code></div><div class="line number3500 index3499 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var speed = 0;</code></div><div class="line number3501 index3500 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.Util.displayError(e, code, '</code><code class="js plain">ACTION SPEED FORMULA ERROR</code><code class="js string">');</code></div><div class="line number3502 index3501 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3503 index3502 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.item()) speed += this.item().speed;</code></div><div class="line number3504 index3503 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isAttack()) speed += this.subject().attackSpeed();</code></div><div class="line number3505 index3504 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return speed;</code></div><div class="line number3506 index3505 alt1"><code class="js string">};</code></div><div class="line number3507 index3506 alt2">&nbsp;</div><div class="line number3508 index3507 alt1"><code class="js string">Yanfly.BEC.Game_Action_apply = Game_Action.prototype.apply;</code></div><div class="line number3509 index3508 alt2"><code class="js string">Game_Action.prototype.apply = function(target) {</code></div><div class="line number3510 index3509 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">target._result = null;</code></div><div class="line number3511 index3510 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">target._result = new Game_ActionResult();</code></div><div class="line number3512 index3511 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.subject()._result = null;</code></div><div class="line number3513 index3512 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.subject()._result = new Game_ActionResult();</code></div><div class="line number3514 index3513 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Game_Action_apply.call(this, target);</code></div><div class="line number3515 index3514 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameParty.inBattle()) {</code></div><div class="line number3516 index3515 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">target.startDamagePopup();</code></div><div class="line number3517 index3516 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">target.performResultEffects();</code></div><div class="line number3518 index3517 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target !== this.subject()) this.subject().startDamagePopup();</code></div><div class="line number3519 index3518 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3520 index3519 alt1"><code class="js string">};</code></div><div class="line number3521 index3520 alt2">&nbsp;</div><div class="line number3522 index3521 alt1"><code class="js string">Game_Action.prototype.itemEffectAddAttackState = function(target, effect) {</code></div><div class="line number3523 index3522 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.subject().attackStates().forEach(function(stateId) {</code></div><div class="line number3524 index3523 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var chance = effect.value1;</code></div><div class="line number3525 index3524 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">chance *= target.stateRate(stateId);</code></div><div class="line number3526 index3525 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">chance *= this.subject().attackStatesRate(stateId);</code></div><div class="line number3527 index3526 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">chance *= this.lukEffectRate(target);</code></div><div class="line number3528 index3527 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Math.random() &lt; chance) {</code></div><div class="line number3529 index3528 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (stateId === target.deathStateId()) {</code></div><div class="line number3530 index3529 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target.isImmortal()) target.removeImmortal();</code></div><div class="line number3531 index3530 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3532 index3531 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">target.addState(stateId);</code></div><div class="line number3533 index3532 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.makeSuccess(target);</code></div><div class="line number3534 index3533 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3535 index3534 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}.bind(this), target);</code></div><div class="line number3536 index3535 alt1"><code class="js string">};</code></div><div class="line number3537 index3536 alt2">&nbsp;</div><div class="line number3538 index3537 alt1"><code class="js string">Game_Action.prototype.itemEffectAddNormalState = function(target, effect) {</code></div><div class="line number3539 index3538 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var stateId = effect.dataId;</code></div><div class="line number3540 index3539 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var chance = effect.value1;</code></div><div class="line number3541 index3540 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this.isCertainHit()) {</code></div><div class="line number3542 index3541 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">chance *= target.stateRate(stateId);</code></div><div class="line number3543 index3542 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">chance *= this.lukEffectRate(target);</code></div><div class="line number3544 index3543 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3545 index3544 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Math.random() &lt; chance) {</code></div><div class="line number3546 index3545 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (stateId === target.deathStateId()) {</code></div><div class="line number3547 index3546 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target.isImmortal()) target.removeImmortal();</code></div><div class="line number3548 index3547 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3549 index3548 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">target.addState(stateId);</code></div><div class="line number3550 index3549 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.makeSuccess(target);</code></div><div class="line number3551 index3550 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3552 index3551 alt1"><code class="js string">};</code></div><div class="line number3553 index3552 alt2">&nbsp;</div><div class="line number3554 index3553 alt1"><code class="js string">Yanfly.BEC.Game_Action_applyGlobal = Game_Action.prototype.applyGlobal;</code></div><div class="line number3555 index3554 alt2"><code class="js string">Game_Action.prototype.applyGlobal = function() {</code></div><div class="line number3556 index3555 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameParty.inBattle()) return;</code></div><div class="line number3557 index3556 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Game_Action_applyGlobal.call(this);</code></div><div class="line number3558 index3557 alt1"><code class="js string">};</code></div><div class="line number3559 index3558 alt2">&nbsp;</div><div class="line number3560 index3559 alt1"><code class="js string">Yanfly.BEC.Game_Action_needsSelection = Game_Action.prototype.needsSelection;</code></div><div class="line number3561 index3560 alt2"><code class="js string">Game_Action.prototype.needsSelection = function() {</code></div><div class="line number3562 index3561 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameParty.inBattle() &amp;&amp; this.item().scope === 0) return false;</code></div><div class="line number3563 index3562 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameParty.inBattle() &amp;&amp; BattleManager.isForceSelection()) return true;</code></div><div class="line number3564 index3563 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return Yanfly.BEC.Game_Action_needsSelection.call(this);</code></div><div class="line number3565 index3564 alt2"><code class="js string">};</code></div><div class="line number3566 index3565 alt1">&nbsp;</div><div class="line number3567 index3566 alt2"><code class="js string">//=============================================================================</code></div><div class="line number3568 index3567 alt1"><code class="js string">// Game_BattlerBase</code></div><div class="line number3569 index3568 alt2"><code class="js string">//=============================================================================</code></div><div class="line number3570 index3569 alt1">&nbsp;</div><div class="line number3571 index3570 alt2"><code class="js string">Yanfly.BEC.Game_BattlerBase_recoverAll = Game_BattlerBase.prototype.recoverAll;</code></div><div class="line number3572 index3571 alt1"><code class="js string">Game_BattlerBase.prototype.recoverAll = function() {</code></div><div class="line number3573 index3572 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Game_BattlerBase_recoverAll.call(this);</code></div><div class="line number3574 index3573 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.refresh();</code></div><div class="line number3575 index3574 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameParty.inBattle()) this.forceMotionRefresh();</code></div><div class="line number3576 index3575 alt1"><code class="js string">};</code></div><div class="line number3577 index3576 alt2">&nbsp;</div><div class="line number3578 index3577 alt1"><code class="js string">Game_BattlerBase.prototype.requestStatusRefresh = function() {</code></div><div class="line number3579 index3578 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._statusRefreshRequested = true;</code></div><div class="line number3580 index3579 alt1"><code class="js string">};</code></div><div class="line number3581 index3580 alt2">&nbsp;</div><div class="line number3582 index3581 alt1"><code class="js string">Game_BattlerBase.prototype.isStatusRefreshRequested = function() {</code></div><div class="line number3583 index3582 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this._statusRefreshRequested;</code></div><div class="line number3584 index3583 alt1"><code class="js string">};</code></div><div class="line number3585 index3584 alt2">&nbsp;</div><div class="line number3586 index3585 alt1"><code class="js string">Game_BattlerBase.prototype.completetStatusRefreshRequest = function() {</code></div><div class="line number3587 index3586 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._statusRefreshRequested = false;</code></div><div class="line number3588 index3587 alt1"><code class="js string">};</code></div><div class="line number3589 index3588 alt2">&nbsp;</div><div class="line number3590 index3589 alt1"><code class="js string">Game_BattlerBase.prototype.updateStateTicks = function() {</code></div><div class="line number3591 index3590 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var needRefresh = false;</code></div><div class="line number3592 index3591 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; this._states.length; ++i) {</code></div><div class="line number3593 index3592 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var stateId = this._states[i];</code></div><div class="line number3594 index3593 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var state = $dataStates[stateId];</code></div><div class="line number3595 index3594 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!state) continue;</code></div><div class="line number3596 index3595 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (state.autoRemovalTiming !== 2) continue;</code></div><div class="line number3597 index3596 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this._stateTurns[stateId]) continue;</code></div><div class="line number3598 index3597 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var value = BattleManager.tickRate() / Yanfly.Param.BECTurnTime;</code></div><div class="line number3599 index3598 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var shown1 = Math.ceil(this._stateTurns[stateId]);</code></div><div class="line number3600 index3599 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._stateTurns[stateId] -= value;</code></div><div class="line number3601 index3600 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var shown2 = Math.ceil(this._stateTurns[stateId]);</code></div><div class="line number3602 index3601 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (shown1 !== shown2) needRefresh = true;</code></div><div class="line number3603 index3602 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._stateTurns[stateId] &lt;= 0) this.removeState(stateId);</code></div><div class="line number3604 index3603 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3605 index3604 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (needRefresh) this.refresh();</code></div><div class="line number3606 index3605 alt1"><code class="js string">};</code></div><div class="line number3607 index3606 alt2">&nbsp;</div><div class="line number3608 index3607 alt1"><code class="js string">Game_BattlerBase.prototype.isBypassUpdateTurns = function() {</code></div><div class="line number3609 index3608 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameTroop.isEventRunning()) return true;</code></div><div class="line number3610 index3609 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return false;</code></div><div class="line number3611 index3610 alt2"><code class="js string">};</code></div><div class="line number3612 index3611 alt1">&nbsp;</div><div class="line number3613 index3612 alt2"><code class="js string">Game_BattlerBase.prototype.updateStateTurns = function() {</code></div><div class="line number3614 index3613 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateStateTurnEnd();</code></div><div class="line number3615 index3614 alt2"><code class="js string">};</code></div><div class="line number3616 index3615 alt1">&nbsp;</div><div class="line number3617 index3616 alt2"><code class="js string">Game_BattlerBase.prototype.updateStateTurnTiming = function(timing) {</code></div><div class="line number3618 index3617 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isBypassUpdateTurns()) return;</code></div><div class="line number3619 index3618 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var statesRemoved = [];</code></div><div class="line number3620 index3619 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._freeStateTurn = this._freeStateTurn || [];</code></div><div class="line number3621 index3620 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; this._states.length; ++i) {</code></div><div class="line number3622 index3621 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var stateId = this._states[i];</code></div><div class="line number3623 index3622 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var state = $dataStates[stateId];</code></div><div class="line number3624 index3623 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!state) continue;</code></div><div class="line number3625 index3624 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (state.autoRemovalTiming !== timing) continue;</code></div><div class="line number3626 index3625 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this._stateTurns[stateId]) continue;</code></div><div class="line number3627 index3626 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._freeStateTurn.contains(stateId)) {</code></div><div class="line number3628 index3627 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var index = this._freeStateTurn.indexOf(stateId);</code></div><div class="line number3629 index3628 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._freeStateTurn.splice(index, 1);</code></div><div class="line number3630 index3629 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number3631 index3630 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._stateTurns[stateId] -= 1;</code></div><div class="line number3632 index3631 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3633 index3632 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._stateTurns[stateId] &lt;= 0) statesRemoved.push(stateId);</code></div><div class="line number3634 index3633 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3635 index3634 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; statesRemoved.length; ++i) {</code></div><div class="line number3636 index3635 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var stateId = statesRemoved[i];</code></div><div class="line number3637 index3636 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.removeState(stateId);</code></div><div class="line number3638 index3637 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3639 index3638 alt2"><code class="js string">};</code></div><div class="line number3640 index3639 alt1">&nbsp;</div><div class="line number3641 index3640 alt2"><code class="js string">Game_BattlerBase.prototype.updateStateActionStart = function() {</code></div><div class="line number3642 index3641 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateStateTurnTiming(3);</code></div><div class="line number3643 index3642 alt2"><code class="js string">};</code></div><div class="line number3644 index3643 alt1">&nbsp;</div><div class="line number3645 index3644 alt2"><code class="js string">Game_BattlerBase.prototype.updateStateActionEnd = function() {</code></div><div class="line number3646 index3645 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateStateTurnTiming(1);</code></div><div class="line number3647 index3646 alt2"><code class="js string">};</code></div><div class="line number3648 index3647 alt1">&nbsp;</div><div class="line number3649 index3648 alt2"><code class="js string">Game_BattlerBase.prototype.updateStateTurnStart = function() {</code></div><div class="line number3650 index3649 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateStateTurnTiming(4);</code></div><div class="line number3651 index3650 alt2"><code class="js string">};</code></div><div class="line number3652 index3651 alt1">&nbsp;</div><div class="line number3653 index3652 alt2"><code class="js string">Game_BattlerBase.prototype.updateStateTurnEnd = function() {</code></div><div class="line number3654 index3653 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateStateTurnTiming(2);</code></div><div class="line number3655 index3654 alt2"><code class="js string">};</code></div><div class="line number3656 index3655 alt1">&nbsp;</div><div class="line number3657 index3656 alt2"><code class="js string">Game_BattlerBase.prototype.updateBuffTicks = function() {</code></div><div class="line number3658 index3657 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var needRefresh = false;</code></div><div class="line number3659 index3658 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; this._buffTurns.length; i++) {</code></div><div class="line number3660 index3659 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._buffTurns[i] &lt;= 0) continue;</code></div><div class="line number3661 index3660 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var value = BattleManager.tickRate() / Yanfly.Param.BECTurnTime;</code></div><div class="line number3662 index3661 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var shown1 = Math.ceil(this._buffTurns[i]);</code></div><div class="line number3663 index3662 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._buffTurns[i] -= value;</code></div><div class="line number3664 index3663 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var shown2 = Math.ceil(this._buffTurns[i]);</code></div><div class="line number3665 index3664 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (shown1 !== shown2) needRefresh = true;</code></div><div class="line number3666 index3665 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._buffTurns[i] &lt;= 0) this.removeBuff(i);</code></div><div class="line number3667 index3666 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3668 index3667 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (needRefresh) this.refresh();</code></div><div class="line number3669 index3668 alt2"><code class="js string">};</code></div><div class="line number3670 index3669 alt1">&nbsp;</div><div class="line number3671 index3670 alt2"><code class="js string">Game_BattlerBase.prototype.timedTick = function() {</code></div><div class="line number3672 index3671 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return 1 * BattleManager.tickRate();</code></div><div class="line number3673 index3672 alt2"><code class="js string">};</code></div><div class="line number3674 index3673 alt1">&nbsp;</div><div class="line number3675 index3674 alt2"><code class="js string">Yanfly.BEC.Game_BattlerBase_isStateResist =</code></div><div class="line number3676 index3675 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Game_BattlerBase.prototype.isStateResist;</code></div><div class="line number3677 index3676 alt2"><code class="js string">Game_BattlerBase.prototype.isStateResist = function(stateId) {</code></div><div class="line number3678 index3677 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (stateId === this.deathStateId() &amp;&amp; this.isImmortal()) return true;</code></div><div class="line number3679 index3678 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return Yanfly.BEC.Game_BattlerBase_isStateResist.call(this, stateId);</code></div><div class="line number3680 index3679 alt1"><code class="js string">};</code></div><div class="line number3681 index3680 alt2">&nbsp;</div><div class="line number3682 index3681 alt1"><code class="js string">Game_BattlerBase.prototype.isImmortal = function() {</code></div><div class="line number3683 index3682 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this._immortalState;</code></div><div class="line number3684 index3683 alt1"><code class="js string">};</code></div><div class="line number3685 index3684 alt2">&nbsp;</div><div class="line number3686 index3685 alt1"><code class="js string">Yanfly.BEC.Game_BattlerBase_paySkillCost =</code></div><div class="line number3687 index3686 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Game_BattlerBase.prototype.paySkillCost;</code></div><div class="line number3688 index3687 alt1"><code class="js string">Game_BattlerBase.prototype.paySkillCost = function(skill) {</code></div><div class="line number3689 index3688 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.requestStatusRefresh();</code></div><div class="line number3690 index3689 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Game_BattlerBase_paySkillCost.call(this, skill);</code></div><div class="line number3691 index3690 alt2"><code class="js string">};</code></div><div class="line number3692 index3691 alt1">&nbsp;</div><div class="line number3693 index3692 alt2"><code class="js string">//=============================================================================</code></div><div class="line number3694 index3693 alt1"><code class="js string">// Game_Battler</code></div><div class="line number3695 index3694 alt2"><code class="js string">//=============================================================================</code></div><div class="line number3696 index3695 alt1">&nbsp;</div><div class="line number3697 index3696 alt2"><code class="js string">Yanfly.BEC.Game_Battler_useItem = Game_Battler.prototype.useItem;</code></div><div class="line number3698 index3697 alt1"><code class="js string">Game_Battler.prototype.useItem = function(item) {</code></div><div class="line number3699 index3698 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Game_Battler_useItem.call(this, item);</code></div><div class="line number3700 index3699 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.refresh();</code></div><div class="line number3701 index3700 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!$gameParty.inBattle()) return;</code></div><div class="line number3702 index3701 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.increaseSelfTurnCount();</code></div><div class="line number3703 index3702 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateStateActionStart();</code></div><div class="line number3704 index3703 alt1"><code class="js string">};</code></div><div class="line number3705 index3704 alt2">&nbsp;</div><div class="line number3706 index3705 alt1"><code class="js string">Yanfly.BEC.Game_Battler_onBattleStart = Game_Battler.prototype.onBattleStart;</code></div><div class="line number3707 index3706 alt2"><code class="js string">Game_Battler.prototype.onBattleStart = function() {</code></div><div class="line number3708 index3707 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Game_Battler_onBattleStart.call(this);</code></div><div class="line number3709 index3708 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._freeStateTurn = [];</code></div><div class="line number3710 index3709 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._immortalState = false;</code></div><div class="line number3711 index3710 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._selfTurnCount = 0;</code></div><div class="line number3712 index3711 alt1"><code class="js string">};</code></div><div class="line number3713 index3712 alt2">&nbsp;</div><div class="line number3714 index3713 alt1"><code class="js string">Yanfly.BEC.Game_Battler_onBattleEnd = Game_Battler.prototype.onBattleEnd;</code></div><div class="line number3715 index3714 alt2"><code class="js string">Game_Battler.prototype.onBattleEnd = function() {</code></div><div class="line number3716 index3715 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Game_Battler_onBattleEnd.call(this);</code></div><div class="line number3717 index3716 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._freeStateTurn = [];</code></div><div class="line number3718 index3717 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._immortalState = false;</code></div><div class="line number3719 index3718 alt2"><code class="js string">};</code></div><div class="line number3720 index3719 alt1">&nbsp;</div><div class="line number3721 index3720 alt2"><code class="js string">Yanfly.BEC.Game_Battler_isSelected = Game_Battler.prototype.isSelected;</code></div><div class="line number3722 index3721 alt1"><code class="js string">Game_Battler.prototype.isSelected = function() {</code></div><div class="line number3723 index3722 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameParty.inBattle() &amp;&amp; BattleManager.isAllSelection()) {</code></div><div class="line number3724 index3723 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this.isAppeared()) return false;</code></div><div class="line number3725 index3724 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var action = BattleManager.inputtingAction();</code></div><div class="line number3726 index3725 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (action &amp;&amp; action.item()) {</code></div><div class="line number3727 index3726 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isDead() &amp;&amp; this.isEnemy()) return false;</code></div><div class="line number3728 index3727 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isDead() &amp;&amp; this.isActor()) return action.isForDeadFriend();</code></div><div class="line number3729 index3728 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (action.isForFriend() &amp;&amp; this.isActor()) return true;</code></div><div class="line number3730 index3729 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (action.isForOpponent() &amp;&amp; this.isEnemy()) return true;</code></div><div class="line number3731 index3730 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3732 index3731 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3733 index3732 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return Yanfly.BEC.Game_Battler_isSelected.call(this);</code></div><div class="line number3734 index3733 alt1"><code class="js string">};</code></div><div class="line number3735 index3734 alt2">&nbsp;</div><div class="line number3736 index3735 alt1"><code class="js string">Yanfly.BEC.Game_Battler_regenerateAll = Game_Battler.prototype.regenerateAll;</code></div><div class="line number3737 index3736 alt2"><code class="js string">Game_Battler.prototype.regenerateAll = function() {</code></div><div class="line number3738 index3737 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.clearResult();</code></div><div class="line number3739 index3738 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var lifeState = this.isAlive();</code></div><div class="line number3740 index3739 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Game_Battler_regenerateAll.call(this);</code></div><div class="line number3741 index3740 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameParty.inBattle()) {</code></div><div class="line number3742 index3741 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!BattleManager.timeBasedStates()) this.updateStateTurns();</code></div><div class="line number3743 index3742 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!BattleManager.timeBasedBuffs()) {</code></div><div class="line number3744 index3743 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateBuffTurns();</code></div><div class="line number3745 index3744 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.removeBuffsAuto();</code></div><div class="line number3746 index3745 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3747 index3746 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isDead() &amp;&amp; lifeState === true) {</code></div><div class="line number3748 index3747 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.performCollapse();</code></div><div class="line number3749 index3748 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3750 index3749 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.startDamagePopup();</code></div><div class="line number3751 index3750 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3752 index3751 alt1"><code class="js string">};</code></div><div class="line number3753 index3752 alt2">&nbsp;</div><div class="line number3754 index3753 alt1"><code class="js string">Game_Battler.prototype.addImmortal = function() {</code></div><div class="line number3755 index3754 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._immortalState = true;</code></div><div class="line number3756 index3755 alt1"><code class="js string">};</code></div><div class="line number3757 index3756 alt2">&nbsp;</div><div class="line number3758 index3757 alt1"><code class="js string">Game_Battler.prototype.removeImmortal = function() {</code></div><div class="line number3759 index3758 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var alreadyDead = this.isDead();</code></div><div class="line number3760 index3759 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._immortalState = false;</code></div><div class="line number3761 index3760 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.refresh();</code></div><div class="line number3762 index3761 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isDead() &amp;&amp; !alreadyDead) this.performCollapse();</code></div><div class="line number3763 index3762 alt2"><code class="js string">};</code></div><div class="line number3764 index3763 alt1">&nbsp;</div><div class="line number3765 index3764 alt2"><code class="js string">Yanfly.BEC.Game_Battler_removeState = Game_Battler.prototype.removeState;</code></div><div class="line number3766 index3765 alt1"><code class="js string">Game_Battler.prototype.removeState = function(stateId) {</code></div><div class="line number3767 index3766 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Game_Battler_removeState.call(this, stateId);</code></div><div class="line number3768 index3767 alt1"><code class="js string">};</code></div><div class="line number3769 index3768 alt2">&nbsp;</div><div class="line number3770 index3769 alt1"><code class="js string">Game_Battler.prototype.clearDamagePopup = function() {</code></div><div class="line number3771 index3770 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._damagePopup = [];</code></div><div class="line number3772 index3771 alt1"><code class="js string">};</code></div><div class="line number3773 index3772 alt2">&nbsp;</div><div class="line number3774 index3773 alt1"><code class="js string">Game_Battler.prototype.isDamagePopupRequested = function() {</code></div><div class="line number3775 index3774 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this._damagePopup) this.clearDamagePopup();</code></div><div class="line number3776 index3775 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this._damagePopup.length &gt; 0;</code></div><div class="line number3777 index3776 alt2"><code class="js string">};</code></div><div class="line number3778 index3777 alt1">&nbsp;</div><div class="line number3779 index3778 alt2"><code class="js string">Game_Battler.prototype.startDamagePopup = function() {</code></div><div class="line number3780 index3779 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var result = this.result();</code></div><div class="line number3781 index3780 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (result.missed || result.evaded) {</code></div><div class="line number3782 index3781 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var copyResult = JsonEx.makeDeepCopy(result);</code></div><div class="line number3783 index3782 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">copyResult.hpAffected = false;</code></div><div class="line number3784 index3783 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">copyResult.mpDamage = 0;</code></div><div class="line number3785 index3784 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._damagePopup.push(copyResult);</code></div><div class="line number3786 index3785 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3787 index3786 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (result.hpAffected) {</code></div><div class="line number3788 index3787 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var copyResult = JsonEx.makeDeepCopy(result);</code></div><div class="line number3789 index3788 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">copyResult.mpDamage = 0;</code></div><div class="line number3790 index3789 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._damagePopup.push(copyResult);</code></div><div class="line number3791 index3790 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3792 index3791 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (result.mpDamage !== 0) {</code></div><div class="line number3793 index3792 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var copyResult = JsonEx.makeDeepCopy(result);</code></div><div class="line number3794 index3793 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">copyResult.hpAffected = false;</code></div><div class="line number3795 index3794 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._damagePopup.push(copyResult);</code></div><div class="line number3796 index3795 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3797 index3796 alt2"><code class="js string">};</code></div><div class="line number3798 index3797 alt1">&nbsp;</div><div class="line number3799 index3798 alt2"><code class="js string">Game_Battler.prototype.shiftDamagePopup = function() {</code></div><div class="line number3800 index3799 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this._damagePopup) this.clearDamagePopup();</code></div><div class="line number3801 index3800 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this._damagePopup.shift();</code></div><div class="line number3802 index3801 alt1"><code class="js string">};</code></div><div class="line number3803 index3802 alt2">&nbsp;</div><div class="line number3804 index3803 alt1"><code class="js string">Yanfly.BEC.Game_Battler_performCollapse =</code></div><div class="line number3805 index3804 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Game_Battler.prototype.performCollapse;</code></div><div class="line number3806 index3805 alt1"><code class="js string">Game_Battler.prototype.performCollapse = function() {</code></div><div class="line number3807 index3806 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Game_Battler_performCollapse.call(this);</code></div><div class="line number3808 index3807 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameParty.inBattle()) this.forceMotion(this.deadMotion());</code></div><div class="line number3809 index3808 alt2"><code class="js string">};</code></div><div class="line number3810 index3809 alt1">&nbsp;</div><div class="line number3811 index3810 alt2"><code class="js string">Game_Battler.prototype.performResultEffects = function() {</code></div><div class="line number3812 index3811 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var result = this.result();</code></div><div class="line number3813 index3812 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (result.missed &amp;&amp; result.physical) this.performMiss();</code></div><div class="line number3814 index3813 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (result.evaded) {</code></div><div class="line number3815 index3814 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (result.physical) {</code></div><div class="line number3816 index3815 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.performEvasion();</code></div><div class="line number3817 index3816 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number3818 index3817 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.performMagicEvasion();</code></div><div class="line number3819 index3818 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3820 index3819 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3821 index3820 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (result.hpAffected) {</code></div><div class="line number3822 index3821 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (result.hpDamage &gt; 0 &amp;&amp; !result.drain) {</code></div><div class="line number3823 index3822 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.performDamage();</code></div><div class="line number3824 index3823 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3825 index3824 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (result.hpDamage &lt; 0) {</code></div><div class="line number3826 index3825 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.performRecovery();</code></div><div class="line number3827 index3826 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3828 index3827 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3829 index3828 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isAlive() &amp;&amp; result.mpDamage !== 0 &amp;&amp; result.mpDamage &lt; 0) {</code></div><div class="line number3830 index3829 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.performRecovery();</code></div><div class="line number3831 index3830 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3832 index3831 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isAlive() &amp;&amp; result.tpDamage !== 0 &amp;&amp; result.tpDamage &lt; 0) {</code></div><div class="line number3833 index3832 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.performRecovery();</code></div><div class="line number3834 index3833 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3835 index3834 alt2"><code class="js string">};</code></div><div class="line number3836 index3835 alt1">&nbsp;</div><div class="line number3837 index3836 alt2"><code class="js string">Yanfly.BEC.Game_Battler_performDamage =</code></div><div class="line number3838 index3837 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">Game_Battler.prototype.performDamage;</code></div><div class="line number3839 index3838 alt2"><code class="js string">Game_Battler.prototype.performDamage = function() {</code></div><div class="line number3840 index3839 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Game_Battler_performDamage.call(this);</code></div><div class="line number3841 index3840 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.performFlinch();</code></div><div class="line number3842 index3841 alt1"><code class="js string">};</code></div><div class="line number3843 index3842 alt2">&nbsp;</div><div class="line number3844 index3843 alt1"><code class="js string">Yanfly.BEC.Game_Battler_performMiss = Game_Battler.prototype.performMiss;</code></div><div class="line number3845 index3844 alt2"><code class="js string">Game_Battler.prototype.performMiss = function() {</code></div><div class="line number3846 index3845 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Game_Battler_performMiss.call(this);</code></div><div class="line number3847 index3846 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.performFlinch();</code></div><div class="line number3848 index3847 alt1"><code class="js string">};</code></div><div class="line number3849 index3848 alt2">&nbsp;</div><div class="line number3850 index3849 alt1"><code class="js string">Yanfly.BEC.Game_Battler_performEvasion =</code></div><div class="line number3851 index3850 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Game_Battler.prototype.performEvasion;</code></div><div class="line number3852 index3851 alt1"><code class="js string">Game_Battler.prototype.performEvasion = function() {</code></div><div class="line number3853 index3852 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Game_Battler_performEvasion.call(this);</code></div><div class="line number3854 index3853 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.performFlinch();</code></div><div class="line number3855 index3854 alt2"><code class="js string">};</code></div><div class="line number3856 index3855 alt1">&nbsp;</div><div class="line number3857 index3856 alt2"><code class="js string">Yanfly.BEC.Game_Battler_performMagicEvasion =</code></div><div class="line number3858 index3857 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Game_Battler.prototype.performMagicEvasion;</code></div><div class="line number3859 index3858 alt2"><code class="js string">Game_Battler.prototype.performMagicEvasion = function() {</code></div><div class="line number3860 index3859 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Game_Battler_performMagicEvasion.call(this);</code></div><div class="line number3861 index3860 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.performFlinch();</code></div><div class="line number3862 index3861 alt1"><code class="js string">};</code></div><div class="line number3863 index3862 alt2">&nbsp;</div><div class="line number3864 index3863 alt1"><code class="js string">Game_Battler.prototype.performFlinch = function() {</code></div><div class="line number3865 index3864 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._flinched || !$gameSystem.isSideView()) return;</code></div><div class="line number3866 index3865 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._flinched = true;</code></div><div class="line number3867 index3866 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.spriteStepFlinch();</code></div><div class="line number3868 index3867 alt1"><code class="js string">};</code></div><div class="line number3869 index3868 alt2">&nbsp;</div><div class="line number3870 index3869 alt1"><code class="js string">Yanfly.BEC.Game_Battler_performReflection =</code></div><div class="line number3871 index3870 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Game_Battler.prototype.performReflection;</code></div><div class="line number3872 index3871 alt1"><code class="js string">Game_Battler.prototype.performReflection = function() {</code></div><div class="line number3873 index3872 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Game_Battler_performReflection.call(this);</code></div><div class="line number3874 index3873 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!$gameSystem.isSideView() &amp;&amp; this.isActor()) return;</code></div><div class="line number3875 index3874 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var animationId = this.reflectAnimationId();</code></div><div class="line number3876 index3875 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var mirror = this.isActor();</code></div><div class="line number3877 index3876 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.startAnimation(animationId, mirror, 0);</code></div><div class="line number3878 index3877 alt1"><code class="js string">};</code></div><div class="line number3879 index3878 alt2">&nbsp;</div><div class="line number3880 index3879 alt1"><code class="js string">Yanfly.BEC.Game_Battler_performSubstitute =</code></div><div class="line number3881 index3880 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Game_Battler.prototype.performSubstitute;</code></div><div class="line number3882 index3881 alt1"><code class="js string">Game_Battler.prototype.performSubstitute = function(target) {</code></div><div class="line number3883 index3882 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Game_Battler_performSubstitute.call(this, target);</code></div><div class="line number3884 index3883 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!$gameSystem.isSideView()) return;</code></div><div class="line number3885 index3884 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._flinched = true;</code></div><div class="line number3886 index3885 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (BattleManager._action.isForAll()) {</code></div><div class="line number3887 index3886 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.spriteStepForward();</code></div><div class="line number3888 index3887 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">target.spriteStepSubBack();</code></div><div class="line number3889 index3888 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number3890 index3889 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.spriteStepToSubstitute(target);</code></div><div class="line number3891 index3890 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">target.spriteStepSubBack();</code></div><div class="line number3892 index3891 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3893 index3892 alt2"><code class="js string">};</code></div><div class="line number3894 index3893 alt1">&nbsp;</div><div class="line number3895 index3894 alt2"><code class="js string">Game_Battler.prototype.setBattler = function(sprite) {</code></div><div class="line number3896 index3895 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">BattleManager.registerSprite(this, sprite);</code></div><div class="line number3897 index3896 alt2"><code class="js string">};</code></div><div class="line number3898 index3897 alt1">&nbsp;</div><div class="line number3899 index3898 alt2"><code class="js string">Game_Battler.prototype.battler = function() {</code></div><div class="line number3900 index3899 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return BattleManager.getSprite(this);</code></div><div class="line number3901 index3900 alt2"><code class="js string">};</code></div><div class="line number3902 index3901 alt1">&nbsp;</div><div class="line number3903 index3902 alt2"><code class="js string">Game_Battler.prototype.requestMotion = function(motionType) {</code></div><div class="line number3904 index3903 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._motionType = motionType;</code></div><div class="line number3905 index3904 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.battler()) {</code></div><div class="line number3906 index3905 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.battler().startMotion(motionType);</code></div><div class="line number3907 index3906 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3908 index3907 alt1"><code class="js string">};</code></div><div class="line number3909 index3908 alt2">&nbsp;</div><div class="line number3910 index3909 alt1"><code class="js string">Game_Battler.prototype.forceMotion = function(motionType) {</code></div><div class="line number3911 index3910 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._motionType = motionType;</code></div><div class="line number3912 index3911 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.battler()) {</code></div><div class="line number3913 index3912 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.battler().forceMotion(motionType);</code></div><div class="line number3914 index3913 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3915 index3914 alt2"><code class="js string">};</code></div><div class="line number3916 index3915 alt1">&nbsp;</div><div class="line number3917 index3916 alt2"><code class="js string">Game_Battler.prototype.startWeaponAnimation = function(weaponImageId) {</code></div><div class="line number3918 index3917 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._weaponImageId = weaponImageId;</code></div><div class="line number3919 index3918 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.battler()) {</code></div><div class="line number3920 index3919 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.battler().setupWeaponAnimation();</code></div><div class="line number3921 index3920 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3922 index3921 alt1"><code class="js string">};</code></div><div class="line number3923 index3922 alt2">&nbsp;</div><div class="line number3924 index3923 alt1"><code class="js string">Game_Battler.prototype.performActionStart = function(action) {</code></div><div class="line number3925 index3924 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!action.isGuard()) {</code></div><div class="line number3926 index3925 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.setActionState('</code><code class="js plain">acting</code><code class="js string">');</code></div><div class="line number3927 index3926 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.spriteStepForward();</code></div><div class="line number3928 index3927 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3929 index3928 alt2"><code class="js string">};</code></div><div class="line number3930 index3929 alt1">&nbsp;</div><div class="line number3931 index3930 alt2"><code class="js string">Yanfly.BEC.Game_Battler_performActionEnd =</code></div><div class="line number3932 index3931 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Game_Battler.prototype.performActionEnd;</code></div><div class="line number3933 index3932 alt2"><code class="js string">Game_Battler.prototype.performActionEnd = function() {</code></div><div class="line number3934 index3933 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Game_Battler_performActionEnd.call(this);</code></div><div class="line number3935 index3934 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.spriteReturnHome();</code></div><div class="line number3936 index3935 alt1"><code class="js string">};</code></div><div class="line number3937 index3936 alt2">&nbsp;</div><div class="line number3938 index3937 alt1"><code class="js string">Game_Battler.prototype.spriteStepForward = function() {</code></div><div class="line number3939 index3938 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameSystem.isSideView() &amp;&amp; this.battler()) {</code></div><div class="line number3940 index3939 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.battler().stepForward();</code></div><div class="line number3941 index3940 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3942 index3941 alt1"><code class="js string">};</code></div><div class="line number3943 index3942 alt2">&nbsp;</div><div class="line number3944 index3943 alt1"><code class="js string">Game_Battler.prototype.spriteStepBack = function() {</code></div><div class="line number3945 index3944 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameSystem.isSideView() &amp;&amp; this.battler()) {</code></div><div class="line number3946 index3945 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.battler().stepBack();</code></div><div class="line number3947 index3946 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3948 index3947 alt1"><code class="js string">};</code></div><div class="line number3949 index3948 alt2">&nbsp;</div><div class="line number3950 index3949 alt1"><code class="js string">Game_Battler.prototype.spriteStepSubBack = function() {</code></div><div class="line number3951 index3950 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameSystem.isSideView() &amp;&amp; this.battler()) {</code></div><div class="line number3952 index3951 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.battler().stepSubBack();</code></div><div class="line number3953 index3952 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3954 index3953 alt1"><code class="js string">};</code></div><div class="line number3955 index3954 alt2">&nbsp;</div><div class="line number3956 index3955 alt1"><code class="js string">Game_Battler.prototype.spriteStepToSubstitute = function(target) {</code></div><div class="line number3957 index3956 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameSystem.isSideView() &amp;&amp; this.battler()) {</code></div><div class="line number3958 index3957 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.battler().stepToSubstitute(target);</code></div><div class="line number3959 index3958 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3960 index3959 alt1"><code class="js string">};</code></div><div class="line number3961 index3960 alt2">&nbsp;</div><div class="line number3962 index3961 alt1"><code class="js string">Game_Battler.prototype.spriteStepFlinch = function() {</code></div><div class="line number3963 index3962 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameSystem.isSideView() &amp;&amp; this.battler()) {</code></div><div class="line number3964 index3963 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.battler().stepFlinch();</code></div><div class="line number3965 index3964 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3966 index3965 alt1"><code class="js string">};</code></div><div class="line number3967 index3966 alt2">&nbsp;</div><div class="line number3968 index3967 alt1"><code class="js string">Game_Battler.prototype.spriteReturnHome = function() {</code></div><div class="line number3969 index3968 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameSystem.isSideView() &amp;&amp; this.battler()) {</code></div><div class="line number3970 index3969 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._flinched = false;</code></div><div class="line number3971 index3970 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.spriteFaceForward();</code></div><div class="line number3972 index3971 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.battler().stepBack();</code></div><div class="line number3973 index3972 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.numActions() &lt;= 0) {</code></div><div class="line number3974 index3973 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.setActionState('</code><code class="js plain">undecided</code><code class="js string">');</code></div><div class="line number3975 index3974 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3976 index3975 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.battler().refreshMotion();</code></div><div class="line number3977 index3976 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3978 index3977 alt1"><code class="js string">};</code></div><div class="line number3979 index3978 alt2">&nbsp;</div><div class="line number3980 index3979 alt1"><code class="js string">Game_Battler.prototype.reflectAnimationId = function() {</code></div><div class="line number3981 index3980 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; this.states().length; ++i) {</code></div><div class="line number3982 index3981 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var state = this.states()[i];</code></div><div class="line number3983 index3982 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (state.reflectAnimationId &gt; 0) return state.reflectAnimationId;</code></div><div class="line number3984 index3983 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3985 index3984 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return Yanfly.Param.BECReflectAni;</code></div><div class="line number3986 index3985 alt1"><code class="js string">};</code></div><div class="line number3987 index3986 alt2">&nbsp;</div><div class="line number3988 index3987 alt1"><code class="js string">Game_Battler.prototype.spriteCanMove = function() {</code></div><div class="line number3989 index3988 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!$gameSystem.isSideView()) return false;</code></div><div class="line number3990 index3989 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; this.states().length; ++i) {</code></div><div class="line number3991 index3990 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var state = this.states()[i];</code></div><div class="line number3992 index3991 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (state.spriteCannotMove) return false;</code></div><div class="line number3993 index3992 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number3994 index3993 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.canMove();</code></div><div class="line number3995 index3994 alt2"><code class="js string">};</code></div><div class="line number3996 index3995 alt1">&nbsp;</div><div class="line number3997 index3996 alt2"><code class="js string">Game_Battler.prototype.spritePosX = function() {</code></div><div class="line number3998 index3997 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameSystem.isSideView() &amp;&amp; this.battler()) {</code></div><div class="line number3999 index3998 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.battler().x;</code></div><div class="line number4000 index3999 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (this.battler()) {</code></div><div class="line number4001 index4000 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.battler().x;</code></div><div class="line number4002 index4001 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number4003 index4002 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return 0;</code></div><div class="line number4004 index4003 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4005 index4004 alt2"><code class="js string">};</code></div><div class="line number4006 index4005 alt1">&nbsp;</div><div class="line number4007 index4006 alt2"><code class="js string">Game_Battler.prototype.spritePosY = function() {</code></div><div class="line number4008 index4007 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameSystem.isSideView() &amp;&amp; this.battler()) {</code></div><div class="line number4009 index4008 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.battler().y;</code></div><div class="line number4010 index4009 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (this.battler()) {</code></div><div class="line number4011 index4010 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.battler().y;</code></div><div class="line number4012 index4011 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number4013 index4012 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return 0;</code></div><div class="line number4014 index4013 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4015 index4014 alt2"><code class="js string">};</code></div><div class="line number4016 index4015 alt1">&nbsp;</div><div class="line number4017 index4016 alt2"><code class="js string">Game_Battler.prototype.spriteWidth = function() {</code></div><div class="line number4018 index4017 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameSystem.isSideView() &amp;&amp; this.battler() &amp;&amp; this.battler().bitmap) {</code></div><div class="line number4019 index4018 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.battler().bitmap.width;</code></div><div class="line number4020 index4019 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (this.battler() &amp;&amp; this.battler().bitmap) {</code></div><div class="line number4021 index4020 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.battler().bitmap.width;</code></div><div class="line number4022 index4021 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number4023 index4022 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return 1;</code></div><div class="line number4024 index4023 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4025 index4024 alt2"><code class="js string">};</code></div><div class="line number4026 index4025 alt1">&nbsp;</div><div class="line number4027 index4026 alt2"><code class="js string">Game_Battler.prototype.spriteHeight = function() {</code></div><div class="line number4028 index4027 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameSystem.isSideView() &amp;&amp; this.battler() &amp;&amp; this.battler().bitmap) {</code></div><div class="line number4029 index4028 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.battler().bitmap.height;</code></div><div class="line number4030 index4029 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (this.battler() &amp;&amp; this.battler().bitmap) {</code></div><div class="line number4031 index4030 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.battler().bitmap.height;</code></div><div class="line number4032 index4031 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number4033 index4032 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return 1;</code></div><div class="line number4034 index4033 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4035 index4034 alt2"><code class="js string">};</code></div><div class="line number4036 index4035 alt1">&nbsp;</div><div class="line number4037 index4036 alt2"><code class="js string">Game_Battler.prototype.anchorX = function() {</code></div><div class="line number4038 index4037 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return Yanfly.Param.BECAnchorX;</code></div><div class="line number4039 index4038 alt2"><code class="js string">};</code></div><div class="line number4040 index4039 alt1">&nbsp;</div><div class="line number4041 index4040 alt2"><code class="js string">Game_Battler.prototype.anchorY = function() {</code></div><div class="line number4042 index4041 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return Yanfly.Param.BECAnchorY;</code></div><div class="line number4043 index4042 alt2"><code class="js string">};</code></div><div class="line number4044 index4043 alt1">&nbsp;</div><div class="line number4045 index4044 alt2"><code class="js string">Game_Battler.prototype.spriteHomeX = function() {</code></div><div class="line number4046 index4045 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameSystem.isSideView() &amp;&amp; this.battler()) {</code></div><div class="line number4047 index4046 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.battler()._homeX;</code></div><div class="line number4048 index4047 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number4049 index4048 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return 0;</code></div><div class="line number4050 index4049 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4051 index4050 alt2"><code class="js string">};</code></div><div class="line number4052 index4051 alt1">&nbsp;</div><div class="line number4053 index4052 alt2"><code class="js string">Game_Battler.prototype.spriteHomeY = function() {</code></div><div class="line number4054 index4053 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameSystem.isSideView() &amp;&amp; this.battler()) {</code></div><div class="line number4055 index4054 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.battler()._homeY;</code></div><div class="line number4056 index4055 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number4057 index4056 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return 0;</code></div><div class="line number4058 index4057 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4059 index4058 alt2"><code class="js string">};</code></div><div class="line number4060 index4059 alt1">&nbsp;</div><div class="line number4061 index4060 alt2"><code class="js string">Game_Battler.prototype.setMirror = function(value) {</code></div><div class="line number4062 index4061 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameSystem.isSideView() &amp;&amp; this.battler() &amp;&amp; this.spriteCanMove()) {</code></div><div class="line number4063 index4062 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.battler().setMirror(value);</code></div><div class="line number4064 index4063 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4065 index4064 alt2"><code class="js string">};</code></div><div class="line number4066 index4065 alt1">&nbsp;</div><div class="line number4067 index4066 alt2"><code class="js string">Game_Battler.prototype.spriteFaceForward = function() {</code></div><div class="line number4068 index4067 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.setMirror(false);</code></div><div class="line number4069 index4068 alt2"><code class="js string">};</code></div><div class="line number4070 index4069 alt1">&nbsp;</div><div class="line number4071 index4070 alt2"><code class="js string">Game_Battler.prototype.spriteFaceBackward = function() {</code></div><div class="line number4072 index4071 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.setMirror(true);</code></div><div class="line number4073 index4072 alt2"><code class="js string">};</code></div><div class="line number4074 index4073 alt1">&nbsp;</div><div class="line number4075 index4074 alt2"><code class="js string">Game_Battler.prototype.spriteFacePoint = function(pointX, pointY) {</code></div><div class="line number4076 index4075 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.spritePosX() &gt; pointX) {</code></div><div class="line number4077 index4076 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.spriteFaceBackward();</code></div><div class="line number4078 index4077 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number4079 index4078 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.spriteFaceForward();</code></div><div class="line number4080 index4079 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4081 index4080 alt2"><code class="js string">};</code></div><div class="line number4082 index4081 alt1">&nbsp;</div><div class="line number4083 index4082 alt2"><code class="js string">Game_Battler.prototype.spriteFaceAwayPoint = function(pointX, pointY) {</code></div><div class="line number4084 index4083 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.spritePosX() &gt; pointX) {</code></div><div class="line number4085 index4084 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.spriteFaceForward();</code></div><div class="line number4086 index4085 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number4087 index4086 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.spriteFaceBackward();</code></div><div class="line number4088 index4087 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4089 index4088 alt2"><code class="js string">};</code></div><div class="line number4090 index4089 alt1">&nbsp;</div><div class="line number4091 index4090 alt2"><code class="js string">Game_Battler.prototype.spriteFaceTarget = function(target) {</code></div><div class="line number4092 index4091 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!target) return;</code></div><div class="line number4093 index4092 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var pointX = target.spritePosX();</code></div><div class="line number4094 index4093 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var pointY = target.spritePosY();</code></div><div class="line number4095 index4094 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.spriteFacePoint(pointX, pointY);</code></div><div class="line number4096 index4095 alt1"><code class="js string">};</code></div><div class="line number4097 index4096 alt2">&nbsp;</div><div class="line number4098 index4097 alt1"><code class="js string">Game_Battler.prototype.spriteFaceAwayTarget = function(target) {</code></div><div class="line number4099 index4098 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!target) return;</code></div><div class="line number4100 index4099 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var pointX = target.spritePosX();</code></div><div class="line number4101 index4100 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var pointY = target.spritePosY();</code></div><div class="line number4102 index4101 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.spriteFaceAwayPoint(pointX, pointY);</code></div><div class="line number4103 index4102 alt2"><code class="js string">};</code></div><div class="line number4104 index4103 alt1">&nbsp;</div><div class="line number4105 index4104 alt2"><code class="js string">Game_Battler.prototype.spriteFaceHome = function() {</code></div><div class="line number4106 index4105 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var pointX = this.spriteHomeX();</code></div><div class="line number4107 index4106 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var pointY = this.spriteHomeY();</code></div><div class="line number4108 index4107 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.spriteFacePoint(pointX, pointY);</code></div><div class="line number4109 index4108 alt2"><code class="js string">};</code></div><div class="line number4110 index4109 alt1">&nbsp;</div><div class="line number4111 index4110 alt2"><code class="js string">Game_Battler.prototype.spriteFaceAwayHome = function() {</code></div><div class="line number4112 index4111 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var pointX = target.spriteHomeX();</code></div><div class="line number4113 index4112 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var pointY = target.spriteHomeY();</code></div><div class="line number4114 index4113 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.spriteFaceAwayPoint(pointX, pointY);</code></div><div class="line number4115 index4114 alt2"><code class="js string">};</code></div><div class="line number4116 index4115 alt1">&nbsp;</div><div class="line number4117 index4116 alt2"><code class="js string">Game_Battler.prototype.attackMotion = function() {</code></div><div class="line number4118 index4117 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return '</code><code class="js plain">thrust</code><code class="js string">';</code></div><div class="line number4119 index4118 alt2"><code class="js string">};</code></div><div class="line number4120 index4119 alt1">&nbsp;</div><div class="line number4121 index4120 alt2"><code class="js string">Game_Battler.prototype.performAttack = function() {</code></div><div class="line number4122 index4121 alt1"><code class="js string">};</code></div><div class="line number4123 index4122 alt2">&nbsp;</div><div class="line number4124 index4123 alt1"><code class="js string">Game_Battler.prototype.forceMotionRefresh = function() {</code></div><div class="line number4125 index4124 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!$gameParty.inBattle()) return;</code></div><div class="line number4126 index4125 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.battler()) this.battler().refreshMotion();</code></div><div class="line number4127 index4126 alt2"><code class="js string">};</code></div><div class="line number4128 index4127 alt1">&nbsp;</div><div class="line number4129 index4128 alt2"><code class="js string">Game_Battler.prototype.requestMotionRefresh = function() {</code></div><div class="line number4130 index4129 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var deadMotion = this.deadMotion();</code></div><div class="line number4131 index4130 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isDead() &amp;&amp; this._motionType !== deadMotion) {</code></div><div class="line number4132 index4131 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.requestMotion(deadMotion);</code></div><div class="line number4133 index4132 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4134 index4133 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isDead() &amp;&amp; this._motionType === deadMotion) return;</code></div><div class="line number4135 index4134 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._motionType === '</code><code class="js plain">victory</code><code class="js string">') return;</code></div><div class="line number4136 index4135 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._motionType === '</code><code class="js plain">escape</code><code class="js string">' &amp;&amp; !BattleManager.isInputting()) return;</code></div><div class="line number4137 index4136 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._motionType === '</code><code class="js plain">guard</code><code class="js string">' &amp;&amp; !BattleManager.isInputting()) return;</code></div><div class="line number4138 index4137 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.clearMotion();</code></div><div class="line number4139 index4138 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.battler() &amp;&amp; BattleManager.isInputting()) {</code></div><div class="line number4140 index4139 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.battler().refreshMotion();</code></div><div class="line number4141 index4140 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4142 index4141 alt1"><code class="js string">};</code></div><div class="line number4143 index4142 alt2">&nbsp;</div><div class="line number4144 index4143 alt1"><code class="js string">Game_Battler.prototype.onTurnStart = function() {</code></div><div class="line number4145 index4144 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateStateTurnStart();</code></div><div class="line number4146 index4145 alt1"><code class="js string">};</code></div><div class="line number4147 index4146 alt2">&nbsp;</div><div class="line number4148 index4147 alt1"><code class="js string">Game_Battler.prototype.onTurnEnd = function() {</code></div><div class="line number4149 index4148 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.clearResult();</code></div><div class="line number4150 index4149 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (BattleManager.isTurnBased()) {</code></div><div class="line number4151 index4150 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.regenerateAll();</code></div><div class="line number4152 index4151 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (BattleManager.isTickBased() &amp;&amp; !BattleManager.isTurnEnd()) {</code></div><div class="line number4153 index4152 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.regenerateAll();</code></div><div class="line number4154 index4153 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4155 index4154 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.removeStatesAuto(2);</code></div><div class="line number4156 index4155 alt1"><code class="js string">};</code></div><div class="line number4157 index4156 alt2">&nbsp;</div><div class="line number4158 index4157 alt1"><code class="js string">Yanfly.BEC.Game_Battler_onAllActionsEnd =</code></div><div class="line number4159 index4158 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Game_Battler.prototype.onAllActionsEnd;</code></div><div class="line number4160 index4159 alt1"><code class="js string">Game_Battler.prototype.onAllActionsEnd = function() {</code></div><div class="line number4161 index4160 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Game_Battler_onAllActionsEnd.call(this);</code></div><div class="line number4162 index4161 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!BattleManager._processTurn) this.updateStateActionEnd();</code></div><div class="line number4163 index4162 alt2"><code class="js string">};</code></div><div class="line number4164 index4163 alt1">&nbsp;</div><div class="line number4165 index4164 alt2"><code class="js string">Game_Battler.prototype.updateTick = function() {</code></div><div class="line number4166 index4165 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (BattleManager.timeBasedStates()) this.updateStateTicks();</code></div><div class="line number4167 index4166 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (BattleManager.timeBasedBuffs()) this.updateBuffTicks();</code></div><div class="line number4168 index4167 alt1"><code class="js string">};</code></div><div class="line number4169 index4168 alt2">&nbsp;</div><div class="line number4170 index4169 alt1"><code class="js string">Game_Battler.prototype.increaseSelfTurnCount = function() {</code></div><div class="line number4171 index4170 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._selfTurnCount === undefined) this._selfTurnCount = 0;</code></div><div class="line number4172 index4171 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._selfTurnCount += 1;</code></div><div class="line number4173 index4172 alt2"><code class="js string">};</code></div><div class="line number4174 index4173 alt1">&nbsp;</div><div class="line number4175 index4174 alt2"><code class="js string">Game_Battler.prototype.turnCount = function() {</code></div><div class="line number4176 index4175 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (BattleManager.isTurnBased()) return $gameTroop.turnCount();</code></div><div class="line number4177 index4176 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (BattleManager.isTickBased() &amp;&amp; Yanfly.Param.BECAISelfTurn) {</code></div><div class="line number4178 index4177 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this._selfTurnCount;</code></div><div class="line number4179 index4178 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4180 index4179 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return $gameTroop.turnCount();</code></div><div class="line number4181 index4180 alt2"><code class="js string">};</code></div><div class="line number4182 index4181 alt1">&nbsp;</div><div class="line number4183 index4182 alt2"><code class="js string">Game_Battler.prototype.createActions = function() {</code></div><div class="line number4184 index4183 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.currentAction()) return;</code></div><div class="line number4185 index4184 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.makeActions();</code></div><div class="line number4186 index4185 alt1"><code class="js string">};</code></div><div class="line number4187 index4186 alt2">&nbsp;</div><div class="line number4188 index4187 alt1"><code class="js string">Yanfly.BEC.Game_Battler_addState = Game_Battler.prototype.addState;</code></div><div class="line number4189 index4188 alt2"><code class="js string">Game_Battler.prototype.addState = function(stateId) {</code></div><div class="line number4190 index4189 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Game_Battler_addState.call(this, stateId);</code></div><div class="line number4191 index4190 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.canAddStateFreeTurn(stateId)) this.setStateFreeTurn(stateId);</code></div><div class="line number4192 index4191 alt1"><code class="js string">};</code></div><div class="line number4193 index4192 alt2">&nbsp;</div><div class="line number4194 index4193 alt1"><code class="js string">Game_Battler.prototype.canAddStateFreeTurn = function(stateId) {</code></div><div class="line number4195 index4194 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!$gameParty.inBattle()) return false;</code></div><div class="line number4196 index4195 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (BattleManager._subject !== this) return false;</code></div><div class="line number4197 index4196 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($dataStates[stateId].autoRemovalTiming !== 1) return false;</code></div><div class="line number4198 index4197 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Imported.YEP_BuffsStatesCore) {</code></div><div class="line number4199 index4198 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($dataStates[stateId].reapplyRules === 0) return false;</code></div><div class="line number4200 index4199 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4201 index4200 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return true;</code></div><div class="line number4202 index4201 alt1"><code class="js string">};</code></div><div class="line number4203 index4202 alt2">&nbsp;</div><div class="line number4204 index4203 alt1"><code class="js string">Game_Battler.prototype.setStateFreeTurn = function(stateId) {</code></div><div class="line number4205 index4204 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._freeStateTurn = this._freeStateTurn || [];</code></div><div class="line number4206 index4205 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._freeStateTurn.push(stateId);</code></div><div class="line number4207 index4206 alt2"><code class="js string">};</code></div><div class="line number4208 index4207 alt1">&nbsp;</div><div class="line number4209 index4208 alt2"><code class="js string">Game_Battler.prototype.idleMotion = function() {</code></div><div class="line number4210 index4209 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return '</code><code class="js plain">walk</code><code class="js string">';</code></div><div class="line number4211 index4210 alt2"><code class="js string">};</code></div><div class="line number4212 index4211 alt1">&nbsp;</div><div class="line number4213 index4212 alt2"><code class="js string">Game_Battler.prototype.deadMotion = function() {</code></div><div class="line number4214 index4213 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return '</code><code class="js plain">dead</code><code class="js string">';</code></div><div class="line number4215 index4214 alt2"><code class="js string">};</code></div><div class="line number4216 index4215 alt1">&nbsp;</div><div class="line number4217 index4216 alt2"><code class="js string">Game_Battler.prototype.sleepMotion = function() {</code></div><div class="line number4218 index4217 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return '</code><code class="js plain">sleep</code><code class="js string">';</code></div><div class="line number4219 index4218 alt2"><code class="js string">};</code></div><div class="line number4220 index4219 alt1">&nbsp;</div><div class="line number4221 index4220 alt2"><code class="js string">Game_Battler.prototype.chantMotion = function() {</code></div><div class="line number4222 index4221 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return '</code><code class="js plain">chant</code><code class="js string">';</code></div><div class="line number4223 index4222 alt2"><code class="js string">};</code></div><div class="line number4224 index4223 alt1">&nbsp;</div><div class="line number4225 index4224 alt2"><code class="js string">Game_Battler.prototype.guardMotion = function() {</code></div><div class="line number4226 index4225 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return '</code><code class="js plain">guard</code><code class="js string">';</code></div><div class="line number4227 index4226 alt2"><code class="js string">};</code></div><div class="line number4228 index4227 alt1">&nbsp;</div><div class="line number4229 index4228 alt2"><code class="js string">Game_Battler.prototype.abnormalMotion = function() {</code></div><div class="line number4230 index4229 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return '</code><code class="js plain">abnormal</code><code class="js string">';</code></div><div class="line number4231 index4230 alt2"><code class="js string">};</code></div><div class="line number4232 index4231 alt1">&nbsp;</div><div class="line number4233 index4232 alt2"><code class="js string">Game_Battler.prototype.dyingMotion = function() {</code></div><div class="line number4234 index4233 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return '</code><code class="js plain">dying</code><code class="js string">';</code></div><div class="line number4235 index4234 alt2"><code class="js string">};</code></div><div class="line number4236 index4235 alt1">&nbsp;</div><div class="line number4237 index4236 alt2"><code class="js string">Game_Battler.prototype.waitMotion = function() {</code></div><div class="line number4238 index4237 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return '</code><code class="js plain">wait</code><code class="js string">';</code></div><div class="line number4239 index4238 alt2"><code class="js string">};</code></div><div class="line number4240 index4239 alt1">&nbsp;</div><div class="line number4241 index4240 alt2"><code class="js string">Yanfly.BEC.Game_Battler_startAnimation = Game_Battler.prototype.startAnimation;</code></div><div class="line number4242 index4241 alt1"><code class="js string">Game_Battler.prototype.startAnimation = function(animationId, mirror, delay) {</code></div><div class="line number4243 index4242 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (!$dataAnimations[animationId]) return;</code></div><div class="line number4244 index4243 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Game_Battler_startAnimation.call(this, animationId, mirror, delay);</code></div><div class="line number4245 index4244 alt2"><code class="js string">};</code></div><div class="line number4246 index4245 alt1">&nbsp;</div><div class="line number4247 index4246 alt2"><code class="js string">//=============================================================================</code></div><div class="line number4248 index4247 alt1"><code class="js string">// Game_Actor</code></div><div class="line number4249 index4248 alt2"><code class="js string">//=============================================================================</code></div><div class="line number4250 index4249 alt1">&nbsp;</div><div class="line number4251 index4250 alt2"><code class="js string">Yanfly.BEC.Game_Actor_refresh = Game_Actor.prototype.refresh;</code></div><div class="line number4252 index4251 alt1"><code class="js string">Game_Actor.prototype.refresh = function() {</code></div><div class="line number4253 index4252 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._anchorX = undefined;</code></div><div class="line number4254 index4253 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._anchorY = undefined;</code></div><div class="line number4255 index4254 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Game_Actor_refresh.call(this);</code></div><div class="line number4256 index4255 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameParty.inBattle()) this.requestStatusRefresh();</code></div><div class="line number4257 index4256 alt2"><code class="js string">};</code></div><div class="line number4258 index4257 alt1">&nbsp;</div><div class="line number4259 index4258 alt2"><code class="js string">Game_Actor.prototype.isSpriteVisible = function() {</code></div><div class="line number4260 index4259 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameSystem.isSideView()) return true;</code></div><div class="line number4261 index4260 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return Yanfly.Param.BECFrontSprite;</code></div><div class="line number4262 index4261 alt1"><code class="js string">};</code></div><div class="line number4263 index4262 alt2">&nbsp;</div><div class="line number4264 index4263 alt1"><code class="js string">Game_Actor.prototype.reflectAnimationId = function() {</code></div><div class="line number4265 index4264 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.actor().reflectAnimationId &gt; 0) {</code></div><div class="line number4266 index4265 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.actor().reflectAnimationId;</code></div><div class="line number4267 index4266 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4268 index4267 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.currentClass().reflectAnimationId &gt; 0) {</code></div><div class="line number4269 index4268 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.currentClass().reflectAnimationId;</code></div><div class="line number4270 index4269 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4271 index4270 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; this.equips().length; ++i) {</code></div><div class="line number4272 index4271 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var equip = this.equips()[i];</code></div><div class="line number4273 index4272 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (equip &amp;&amp; equip.reflectAnimationId &gt; 0) {</code></div><div class="line number4274 index4273 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return equip.reflectAnimationId;</code></div><div class="line number4275 index4274 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4276 index4275 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4277 index4276 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return Game_Battler.prototype.reflectAnimationId.call(this);</code></div><div class="line number4278 index4277 alt1"><code class="js string">};</code></div><div class="line number4279 index4278 alt2">&nbsp;</div><div class="line number4280 index4279 alt1"><code class="js string">Game_Actor.prototype.spriteCanMove = function() {</code></div><div class="line number4281 index4280 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.actor().spriteCannotMove) return false;</code></div><div class="line number4282 index4281 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.currentClass().spriteCannotMove) return false;</code></div><div class="line number4283 index4282 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; this.equips().length; ++i) {</code></div><div class="line number4284 index4283 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var equip = this.equips()[i];</code></div><div class="line number4285 index4284 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (equip &amp;&amp; equip.spriteCannotMove) return false;</code></div><div class="line number4286 index4285 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4287 index4286 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return Game_Battler.prototype.spriteCanMove.call(this);</code></div><div class="line number4288 index4287 alt1"><code class="js string">};</code></div><div class="line number4289 index4288 alt2">&nbsp;</div><div class="line number4290 index4289 alt1"><code class="js string">Game_Actor.prototype.spriteWidth = function() {</code></div><div class="line number4291 index4290 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameSystem.isSideView() &amp;&amp; this.battler()) {</code></div><div class="line number4292 index4291 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.battler()._mainSprite.width;</code></div><div class="line number4293 index4292 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number4294 index4293 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return 1;</code></div><div class="line number4295 index4294 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4296 index4295 alt1"><code class="js string">};</code></div><div class="line number4297 index4296 alt2">&nbsp;</div><div class="line number4298 index4297 alt1"><code class="js string">Game_Actor.prototype.spriteHeight = function() {</code></div><div class="line number4299 index4298 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameSystem.isSideView() &amp;&amp; this.battler()) {</code></div><div class="line number4300 index4299 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.battler()._mainSprite.height;</code></div><div class="line number4301 index4300 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number4302 index4301 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return 1;</code></div><div class="line number4303 index4302 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4304 index4303 alt1"><code class="js string">};</code></div><div class="line number4305 index4304 alt2">&nbsp;</div><div class="line number4306 index4305 alt1"><code class="js string">Game_Actor.prototype.anchorX = function() {</code></div><div class="line number4307 index4306 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._anchorX !== undefined) return this._anchorX;</code></div><div class="line number4308 index4307 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var length = this.states().length;</code></div><div class="line number4309 index4308 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; length; ++i) {</code></div><div class="line number4310 index4309 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var obj = this.states()[i];</code></div><div class="line number4311 index4310 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (obj &amp;&amp; obj.anchorX !== undefined) {</code></div><div class="line number4312 index4311 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._anchorX = obj.anchorX;</code></div><div class="line number4313 index4312 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this._anchorX;</code></div><div class="line number4314 index4313 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4315 index4314 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4316 index4315 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">length = this.equips().length;</code></div><div class="line number4317 index4316 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; length; ++i) {</code></div><div class="line number4318 index4317 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var obj = this.equips()[i];</code></div><div class="line number4319 index4318 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (obj &amp;&amp; obj.anchorX !== undefined) {</code></div><div class="line number4320 index4319 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._anchorX = obj.anchorX;</code></div><div class="line number4321 index4320 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this._anchorX;</code></div><div class="line number4322 index4321 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4323 index4322 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4324 index4323 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.currentClass().anchorX !== undefined) {</code></div><div class="line number4325 index4324 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._anchorX = this.currentClass().anchorX;</code></div><div class="line number4326 index4325 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this._anchorX;</code></div><div class="line number4327 index4326 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4328 index4327 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._anchorX = this.actor().anchorX;</code></div><div class="line number4329 index4328 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this._anchorX;</code></div><div class="line number4330 index4329 alt1"><code class="js string">};</code></div><div class="line number4331 index4330 alt2">&nbsp;</div><div class="line number4332 index4331 alt1"><code class="js string">Game_Actor.prototype.anchorY = function() {</code></div><div class="line number4333 index4332 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._anchorY !== undefined) return this._anchorY;</code></div><div class="line number4334 index4333 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var length = this.states().length;</code></div><div class="line number4335 index4334 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; length; ++i) {</code></div><div class="line number4336 index4335 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var obj = this.states()[i];</code></div><div class="line number4337 index4336 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (obj &amp;&amp; obj.anchorY !== undefined) {</code></div><div class="line number4338 index4337 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._anchorY = obj.anchorY;</code></div><div class="line number4339 index4338 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this._anchorY;</code></div><div class="line number4340 index4339 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4341 index4340 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4342 index4341 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">length = this.equips().length;</code></div><div class="line number4343 index4342 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; length; ++i) {</code></div><div class="line number4344 index4343 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var obj = this.equips()[i];</code></div><div class="line number4345 index4344 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (obj &amp;&amp; obj.anchorY !== undefined) {</code></div><div class="line number4346 index4345 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._anchorY = obj.anchorY;</code></div><div class="line number4347 index4346 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this._anchorY;</code></div><div class="line number4348 index4347 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4349 index4348 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4350 index4349 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.currentClass().anchorY !== undefined) {</code></div><div class="line number4351 index4350 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._anchorY = this.currentClass().anchorY;</code></div><div class="line number4352 index4351 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this._anchorY;</code></div><div class="line number4353 index4352 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4354 index4353 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._anchorY = this.actor().anchorY;</code></div><div class="line number4355 index4354 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this._anchorY;</code></div><div class="line number4356 index4355 alt1"><code class="js string">};</code></div><div class="line number4357 index4356 alt2">&nbsp;</div><div class="line number4358 index4357 alt1"><code class="js string">Game_Actor.prototype.spriteFacePoint = function(pointX, pointY) {</code></div><div class="line number4359 index4358 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.spritePosX() &gt; pointX) {</code></div><div class="line number4360 index4359 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.spriteFaceForward();</code></div><div class="line number4361 index4360 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number4362 index4361 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.spriteFaceBackward();</code></div><div class="line number4363 index4362 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4364 index4363 alt1"><code class="js string">};</code></div><div class="line number4365 index4364 alt2">&nbsp;</div><div class="line number4366 index4365 alt1"><code class="js string">Game_Actor.prototype.spriteFaceAwayPoint = function(pointX, pointY) {</code></div><div class="line number4367 index4366 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.spritePosX() &gt; pointX) {</code></div><div class="line number4368 index4367 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.spriteFaceBackward();</code></div><div class="line number4369 index4368 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number4370 index4369 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.spriteFaceForward();</code></div><div class="line number4371 index4370 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4372 index4371 alt1"><code class="js string">};</code></div><div class="line number4373 index4372 alt2">&nbsp;</div><div class="line number4374 index4373 alt1"><code class="js string">Game_Actor.prototype.performAttack = function() {</code></div><div class="line number4375 index4374 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var weapons = this.weapons();</code></div><div class="line number4376 index4375 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var wtypeId = weapons[0] ? weapons[0].wtypeId : 0;</code></div><div class="line number4377 index4376 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var attackMotion = $dataSystem.attackMotions[wtypeId];</code></div><div class="line number4378 index4377 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (attackMotion) {</code></div><div class="line number4379 index4378 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (attackMotion.type === 0) {</code></div><div class="line number4380 index4379 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.forceMotion('</code><code class="js plain">thrust</code><code class="js string">');</code></div><div class="line number4381 index4380 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (attackMotion.type === 1) {</code></div><div class="line number4382 index4381 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.forceMotion('</code><code class="js plain">swing</code><code class="js string">');</code></div><div class="line number4383 index4382 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (attackMotion.type === 2) {</code></div><div class="line number4384 index4383 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.forceMotion('</code><code class="js plain">missile</code><code class="js string">');</code></div><div class="line number4385 index4384 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4386 index4385 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.startWeaponAnimation(attackMotion.weaponImageId);</code></div><div class="line number4387 index4386 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4388 index4387 alt1"><code class="js string">};</code></div><div class="line number4389 index4388 alt2">&nbsp;</div><div class="line number4390 index4389 alt1"><code class="js string">Game_Actor.prototype.attackMotion = function() {</code></div><div class="line number4391 index4390 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var weapons = this.weapons();</code></div><div class="line number4392 index4391 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var wtypeId = weapons[0] ? weapons[0].wtypeId : 0;</code></div><div class="line number4393 index4392 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var attackMotion = $dataSystem.attackMotions[wtypeId];</code></div><div class="line number4394 index4393 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (attackMotion) {</code></div><div class="line number4395 index4394 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (attackMotion.type === 0) {</code></div><div class="line number4396 index4395 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return '</code><code class="js plain">thrust</code><code class="js string">';</code></div><div class="line number4397 index4396 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (attackMotion.type === 1) {</code></div><div class="line number4398 index4397 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return '</code><code class="js plain">swing</code><code class="js string">';</code></div><div class="line number4399 index4398 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (attackMotion.type === 2) {</code></div><div class="line number4400 index4399 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return '</code><code class="js plain">missile</code><code class="js string">';</code></div><div class="line number4401 index4400 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4402 index4401 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">};</code></div><div class="line number4403 index4402 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return '</code><code class="js plain">thrust</code><code class="js string">';</code></div><div class="line number4404 index4403 alt1"><code class="js string">};</code></div><div class="line number4405 index4404 alt2">&nbsp;</div><div class="line number4406 index4405 alt1"><code class="js string">Game_Actor.prototype.performEscapeSuccess = function() {</code></div><div class="line number4407 index4406 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.battler()) {</code></div><div class="line number4408 index4407 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.performEscape();</code></div><div class="line number4409 index4408 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.battler().startMove(300, 0, 60);</code></div><div class="line number4410 index4409 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4411 index4410 alt2"><code class="js string">};</code></div><div class="line number4412 index4411 alt1">&nbsp;</div><div class="line number4413 index4412 alt2"><code class="js string">//=============================================================================</code></div><div class="line number4414 index4413 alt1"><code class="js string">// Game_Enemy</code></div><div class="line number4415 index4414 alt2"><code class="js string">//=============================================================================</code></div><div class="line number4416 index4415 alt1">&nbsp;</div><div class="line number4417 index4416 alt2"><code class="js string">if (!Game_Enemy.prototype.skills) {</code></div><div class="line number4418 index4417 alt1"><code class="js string">Game_Enemy.prototype.skills = function() {</code></div><div class="line number4419 index4418 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">var skills = []</code></div><div class="line number4420 index4419 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; this.enemy().actions.length; ++i) {</code></div><div class="line number4421 index4420 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var skill = $dataSkills[this.enemy().actions[i].skillId]</code></div><div class="line number4422 index4421 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (skill) skills.push(skill);</code></div><div class="line number4423 index4422 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4424 index4423 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">return skills;</code></div><div class="line number4425 index4424 alt2"><code class="js string">}</code></div><div class="line number4426 index4425 alt1"><code class="js string">}; // (!Game_Enemy.prototype.skills)</code></div><div class="line number4427 index4426 alt2">&nbsp;</div><div class="line number4428 index4427 alt1"><code class="js string">Game_Enemy.prototype.performActionStart = function(action) {</code></div><div class="line number4429 index4428 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Game_Battler.prototype.performActionStart.call(this, action);</code></div><div class="line number4430 index4429 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!$gameSystem.isSideView() || !this.spriteCanMove()) {</code></div><div class="line number4431 index4430 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.requestEffect('</code><code class="js plain">whiten</code><code class="js string">');</code></div><div class="line number4432 index4431 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4433 index4432 alt2"><code class="js string">};</code></div><div class="line number4434 index4433 alt1">&nbsp;</div><div class="line number4435 index4434 alt2"><code class="js string">Yanfly.BEC.Game_Enemy_performDamage = Game_Enemy.prototype.performDamage;</code></div><div class="line number4436 index4435 alt1"><code class="js string">Game_Enemy.prototype.performDamage = function() {</code></div><div class="line number4437 index4436 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameSystem.isSideView()) {</code></div><div class="line number4438 index4437 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Game_Battler.prototype.performDamage.call(this);</code></div><div class="line number4439 index4438 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">SoundManager.playEnemyDamage();</code></div><div class="line number4440 index4439 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number4441 index4440 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Game_Enemy_performDamage.call(this);</code></div><div class="line number4442 index4441 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4443 index4442 alt2"><code class="js string">};</code></div><div class="line number4444 index4443 alt1">&nbsp;</div><div class="line number4445 index4444 alt2"><code class="js string">Game_Enemy.prototype.attackAnimationId = function() {</code></div><div class="line number4446 index4445 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.enemy().attackAnimationId;</code></div><div class="line number4447 index4446 alt2"><code class="js string">};</code></div><div class="line number4448 index4447 alt1">&nbsp;</div><div class="line number4449 index4448 alt2"><code class="js string">Game_Enemy.prototype.attackAnimationId1 = function() {</code></div><div class="line number4450 index4449 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.attackAnimationId();</code></div><div class="line number4451 index4450 alt2"><code class="js string">};</code></div><div class="line number4452 index4451 alt1">&nbsp;</div><div class="line number4453 index4452 alt2"><code class="js string">Game_Enemy.prototype.attackAnimationId2 = function() {</code></div><div class="line number4454 index4453 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.attackAnimationId();</code></div><div class="line number4455 index4454 alt2"><code class="js string">};</code></div><div class="line number4456 index4455 alt1">&nbsp;</div><div class="line number4457 index4456 alt2"><code class="js string">Game_Enemy.prototype.reflectAnimationId = function() {</code></div><div class="line number4458 index4457 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.enemy().reflectAnimationId &gt; 0) {</code></div><div class="line number4459 index4458 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.enemy().reflectAnimationId;</code></div><div class="line number4460 index4459 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4461 index4460 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return Game_Battler.prototype.reflectAnimationId.call(this);</code></div><div class="line number4462 index4461 alt1"><code class="js string">};</code></div><div class="line number4463 index4462 alt2">&nbsp;</div><div class="line number4464 index4463 alt1"><code class="js string">Game_Enemy.prototype.spriteCanMove = function() {</code></div><div class="line number4465 index4464 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.enemy().spriteCannotMove) return false;</code></div><div class="line number4466 index4465 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return Game_Battler.prototype.spriteCanMove.call(this);</code></div><div class="line number4467 index4466 alt2"><code class="js string">};</code></div><div class="line number4468 index4467 alt1">&nbsp;</div><div class="line number4469 index4468 alt2"><code class="js string">Game_Enemy.prototype.meetsTurnCondition = function(param1, param2) {</code></div><div class="line number4470 index4469 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var n = this.turnCount();</code></div><div class="line number4471 index4470 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (param2 === 0) {</code></div><div class="line number4472 index4471 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return n === param1;</code></div><div class="line number4473 index4472 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number4474 index4473 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return n &gt; 0 &amp;&amp; n &gt;= param1 &amp;&amp; n % param2 === param1 % param2;</code></div><div class="line number4475 index4474 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4476 index4475 alt1"><code class="js string">};</code></div><div class="line number4477 index4476 alt2">&nbsp;</div><div class="line number4478 index4477 alt1"><code class="js string">//=============================================================================</code></div><div class="line number4479 index4478 alt2"><code class="js string">// Game_Unit</code></div><div class="line number4480 index4479 alt1"><code class="js string">//=============================================================================</code></div><div class="line number4481 index4480 alt2">&nbsp;</div><div class="line number4482 index4481 alt1"><code class="js string">Game_Unit.prototype.createActions = function() {</code></div><div class="line number4483 index4482 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var max = this.members().length;</code></div><div class="line number4484 index4483 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; max; ++i) {</code></div><div class="line number4485 index4484 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var member = this.members()[i];</code></div><div class="line number4486 index4485 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (member) member.createActions();</code></div><div class="line number4487 index4486 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4488 index4487 alt1"><code class="js string">};</code></div><div class="line number4489 index4488 alt2">&nbsp;</div><div class="line number4490 index4489 alt1"><code class="js string">Game_Unit.prototype.requestMotionRefresh = function() {</code></div><div class="line number4491 index4490 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var max = this.members().length;</code></div><div class="line number4492 index4491 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; max; ++i) {</code></div><div class="line number4493 index4492 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var member = this.members()[i];</code></div><div class="line number4494 index4493 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (member) member.requestMotionRefresh();</code></div><div class="line number4495 index4494 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4496 index4495 alt1"><code class="js string">};</code></div><div class="line number4497 index4496 alt2">&nbsp;</div><div class="line number4498 index4497 alt1"><code class="js string">Game_Unit.prototype.onTurnStart = function() {</code></div><div class="line number4499 index4498 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var max = this.members().length;</code></div><div class="line number4500 index4499 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; max; ++i) {</code></div><div class="line number4501 index4500 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var member = this.members()[i];</code></div><div class="line number4502 index4501 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (member) {</code></div><div class="line number4503 index4502 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">member.onTurnStart();</code></div><div class="line number4504 index4503 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">member.refresh();</code></div><div class="line number4505 index4504 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4506 index4505 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4507 index4506 alt2"><code class="js string">};</code></div><div class="line number4508 index4507 alt1">&nbsp;</div><div class="line number4509 index4508 alt2"><code class="js string">Game_Unit.prototype.updateTick = function() {</code></div><div class="line number4510 index4509 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var max = this.members().length;</code></div><div class="line number4511 index4510 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; max; ++i) {</code></div><div class="line number4512 index4511 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var member = this.members()[i];</code></div><div class="line number4513 index4512 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (member) member.updateTick();</code></div><div class="line number4514 index4513 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4515 index4514 alt2"><code class="js string">};</code></div><div class="line number4516 index4515 alt1">&nbsp;</div><div class="line number4517 index4516 alt2"><code class="js string">Game_Unit.prototype.refreshMembers = function() {</code></div><div class="line number4518 index4517 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var group = this.allMembers();</code></div><div class="line number4519 index4518 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var length = group.length;</code></div><div class="line number4520 index4519 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; length; ++i) {</code></div><div class="line number4521 index4520 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var member = group[i];</code></div><div class="line number4522 index4521 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (member) member.refresh();</code></div><div class="line number4523 index4522 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4524 index4523 alt1"><code class="js string">};</code></div><div class="line number4525 index4524 alt2">&nbsp;</div><div class="line number4526 index4525 alt1"><code class="js string">//=============================================================================</code></div><div class="line number4527 index4526 alt2"><code class="js string">// Game_Party</code></div><div class="line number4528 index4527 alt1"><code class="js string">//=============================================================================</code></div><div class="line number4529 index4528 alt2">&nbsp;</div><div class="line number4530 index4529 alt1"><code class="js string">Game_Party.prototype.performEscapeSuccess = function() {</code></div><div class="line number4531 index4530 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; this.members().length; ++i) {</code></div><div class="line number4532 index4531 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var member = this.members()[i];</code></div><div class="line number4533 index4532 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (member) member.performEscapeSuccess();</code></div><div class="line number4534 index4533 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4535 index4534 alt2"><code class="js string">};</code></div><div class="line number4536 index4535 alt1">&nbsp;</div><div class="line number4537 index4536 alt2"><code class="js string">//=============================================================================</code></div><div class="line number4538 index4537 alt1"><code class="js string">// Game_Troop</code></div><div class="line number4539 index4538 alt2"><code class="js string">//=============================================================================</code></div><div class="line number4540 index4539 alt1">&nbsp;</div><div class="line number4541 index4540 alt2"><code class="js string">Game_Troop.prototype.allMembers = function() {</code></div><div class="line number4542 index4541 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">return this.members();</code></div><div class="line number4543 index4542 alt2"><code class="js string">};</code></div><div class="line number4544 index4543 alt1">&nbsp;</div><div class="line number4545 index4544 alt2"><code class="js string">//=============================================================================</code></div><div class="line number4546 index4545 alt1"><code class="js string">// Scene_Battle</code></div><div class="line number4547 index4546 alt2"><code class="js string">//=============================================================================</code></div><div class="line number4548 index4547 alt1">&nbsp;</div><div class="line number4549 index4548 alt2"><code class="js string">Yanfly.BEC.Scene_Battle_update = Scene_Battle.prototype.update;</code></div><div class="line number4550 index4549 alt1"><code class="js string">Scene_Battle.prototype.update = function() {</code></div><div class="line number4551 index4550 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Scene_Battle_update.call(this);</code></div><div class="line number4552 index4551 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateStatusWindowRequests();</code></div><div class="line number4553 index4552 alt2"><code class="js string">};</code></div><div class="line number4554 index4553 alt1">&nbsp;</div><div class="line number4555 index4554 alt2"><code class="js string">Scene_Battle.prototype.updateStatusWindowRequests = function() {</code></div><div class="line number4556 index4555 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this._statusWindow) return;</code></div><div class="line number4557 index4556 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._statusWindow.isClosed()) return;</code></div><div class="line number4558 index4557 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._statusWindow.updateStatusRequests();</code></div><div class="line number4559 index4558 alt2"><code class="js string">};</code></div><div class="line number4560 index4559 alt1">&nbsp;</div><div class="line number4561 index4560 alt2"><code class="js string">Yanfly.BEC.Scene_Battle_createSkillWindow =</code></div><div class="line number4562 index4561 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Scene_Battle.prototype.createSkillWindow;</code></div><div class="line number4563 index4562 alt2"><code class="js string">Scene_Battle.prototype.createSkillWindow = function() {</code></div><div class="line number4564 index4563 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Scene_Battle_createSkillWindow.call(this);</code></div><div class="line number4565 index4564 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Yanfly.Param.BECLowerWindows) {</code></div><div class="line number4566 index4565 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.adjustLowerWindow(this._skillWindow);</code></div><div class="line number4567 index4566 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4568 index4567 alt1"><code class="js string">};</code></div><div class="line number4569 index4568 alt2">&nbsp;</div><div class="line number4570 index4569 alt1"><code class="js string">Yanfly.BEC.Scene_Battle_createItemWindow =</code></div><div class="line number4571 index4570 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Scene_Battle.prototype.createItemWindow;</code></div><div class="line number4572 index4571 alt1"><code class="js string">Scene_Battle.prototype.createItemWindow = function() {</code></div><div class="line number4573 index4572 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Scene_Battle_createItemWindow.call(this);</code></div><div class="line number4574 index4573 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Yanfly.Param.BECLowerWindows) {</code></div><div class="line number4575 index4574 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.adjustLowerWindow(this._itemWindow);</code></div><div class="line number4576 index4575 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4577 index4576 alt2"><code class="js string">};</code></div><div class="line number4578 index4577 alt1">&nbsp;</div><div class="line number4579 index4578 alt2"><code class="js string">Yanfly.BEC.Scene_Battle_createActorWindow =</code></div><div class="line number4580 index4579 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Scene_Battle.prototype.createActorWindow;</code></div><div class="line number4581 index4580 alt2"><code class="js string">Scene_Battle.prototype.createActorWindow = function() {</code></div><div class="line number4582 index4581 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Scene_Battle_createActorWindow.call(this);</code></div><div class="line number4583 index4582 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._actorWindow.x = Graphics.boxWidth - this._actorWindow.width;</code></div><div class="line number4584 index4583 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Yanfly.Param.BECSelectHelp) {</code></div><div class="line number4585 index4584 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._actorWindow.setHelpWindow(this._helpWindow);</code></div><div class="line number4586 index4585 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4587 index4586 alt2"><code class="js string">};</code></div><div class="line number4588 index4587 alt1">&nbsp;</div><div class="line number4589 index4588 alt2"><code class="js string">Yanfly.BEC.Scene_Battle_createEnemyWindow =</code></div><div class="line number4590 index4589 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Scene_Battle.prototype.createEnemyWindow;</code></div><div class="line number4591 index4590 alt2"><code class="js string">Scene_Battle.prototype.createEnemyWindow = function() {</code></div><div class="line number4592 index4591 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Scene_Battle_createEnemyWindow.call(this);</code></div><div class="line number4593 index4592 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Yanfly.Param.BECSelectHelp) {</code></div><div class="line number4594 index4593 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._enemyWindow.setHelpWindow(this._helpWindow);</code></div><div class="line number4595 index4594 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4596 index4595 alt1"><code class="js string">};</code></div><div class="line number4597 index4596 alt2">&nbsp;</div><div class="line number4598 index4597 alt1"><code class="js string">Scene_Battle.prototype.adjustLowerWindow = function(win) {</code></div><div class="line number4599 index4598 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">win.height = win.fittingHeight(Yanfly.Param.BECWindowRows);</code></div><div class="line number4600 index4599 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">win.y = Graphics.boxHeight - win.height;</code></div><div class="line number4601 index4600 alt2"><code class="js string">};</code></div><div class="line number4602 index4601 alt1">&nbsp;</div><div class="line number4603 index4602 alt2"><code class="js string">Yanfly.BEC.Scene_Battle_startPartyCommandSelection =</code></div><div class="line number4604 index4603 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Scene_Battle.prototype.startPartyCommandSelection;</code></div><div class="line number4605 index4604 alt2"><code class="js string">Scene_Battle.prototype.startPartyCommandSelection = function() {</code></div><div class="line number4606 index4605 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isStartActorCommand()) {</code></div><div class="line number4607 index4606 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.selectNextCommand();</code></div><div class="line number4608 index4607 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number4609 index4608 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Scene_Battle_startPartyCommandSelection.call(this);</code></div><div class="line number4610 index4609 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4611 index4610 alt2"><code class="js string">};</code></div><div class="line number4612 index4611 alt1">&nbsp;</div><div class="line number4613 index4612 alt2"><code class="js string">Scene_Battle.prototype.isStartActorCommand = function() {</code></div><div class="line number4614 index4613 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._isStartActorCommand === undefined) {</code></div><div class="line number4615 index4614 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._isStartActorCommand = Yanfly.Param.BECStartActCmd;</code></div><div class="line number4616 index4615 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4617 index4616 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this._isStartActorCommand;</code></div><div class="line number4618 index4617 alt1"><code class="js string">};</code></div><div class="line number4619 index4618 alt2">&nbsp;</div><div class="line number4620 index4619 alt1"><code class="js string">Yanfly.BEC.Scene_Battle_selectPreviousCommand =</code></div><div class="line number4621 index4620 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Scene_Battle.prototype.selectPreviousCommand;</code></div><div class="line number4622 index4621 alt1"><code class="js string">Scene_Battle.prototype.selectPreviousCommand = function() {</code></div><div class="line number4623 index4622 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isStartActorCommand()) {</code></div><div class="line number4624 index4623 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">BattleManager.selectPreviousCommand();</code></div><div class="line number4625 index4624 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (BattleManager.isInputting() &amp;&amp; BattleManager.actor()) {</code></div><div class="line number4626 index4625 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.startActorCommandSelection();</code></div><div class="line number4627 index4626 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number4628 index4627 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Scene_Battle_startPartyCommandSelection.call(this);</code></div><div class="line number4629 index4628 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4630 index4629 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number4631 index4630 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Scene_Battle_selectPreviousCommand.call(this);</code></div><div class="line number4632 index4631 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4633 index4632 alt2"><code class="js string">};</code></div><div class="line number4634 index4633 alt1">&nbsp;</div><div class="line number4635 index4634 alt2"><code class="js string">Yanfly.BEC.Scene_Battle_selectNextCommand =</code></div><div class="line number4636 index4635 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Scene_Battle.prototype.selectNextCommand;</code></div><div class="line number4637 index4636 alt2"><code class="js string">Scene_Battle.prototype.selectNextCommand = function() {</code></div><div class="line number4638 index4637 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Scene_Battle_selectNextCommand.call(this);</code></div><div class="line number4639 index4638 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._helpWindow.clear();</code></div><div class="line number4640 index4639 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">BattleManager.stopAllSelection();</code></div><div class="line number4641 index4640 alt2"><code class="js string">};</code></div><div class="line number4642 index4641 alt1">&nbsp;</div><div class="line number4643 index4642 alt2"><code class="js string">Yanfly.BEC.Scene_Battle_commandSkill = Scene_Battle.prototype.commandSkill;</code></div><div class="line number4644 index4643 alt1"><code class="js string">Scene_Battle.prototype.commandSkill = function() {</code></div><div class="line number4645 index4644 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._helpWindow.clear();</code></div><div class="line number4646 index4645 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Scene_Battle_commandSkill.call(this);</code></div><div class="line number4647 index4646 alt2"><code class="js string">};</code></div><div class="line number4648 index4647 alt1">&nbsp;</div><div class="line number4649 index4648 alt2"><code class="js string">Yanfly.BEC.Scene_Battle_commandItem = Scene_Battle.prototype.commandItem;</code></div><div class="line number4650 index4649 alt1"><code class="js string">Scene_Battle.prototype.commandItem = function() {</code></div><div class="line number4651 index4650 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._helpWindow.clear();</code></div><div class="line number4652 index4651 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Scene_Battle_commandItem.call(this);</code></div><div class="line number4653 index4652 alt2"><code class="js string">};</code></div><div class="line number4654 index4653 alt1">&nbsp;</div><div class="line number4655 index4654 alt2"><code class="js string">Yanfly.BEC.Scene_Battle_startActorCommandSelection =</code></div><div class="line number4656 index4655 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Scene_Battle.prototype.startActorCommandSelection;</code></div><div class="line number4657 index4656 alt2"><code class="js string">Scene_Battle.prototype.startActorCommandSelection = function() {</code></div><div class="line number4658 index4657 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">BattleManager.createActions();</code></div><div class="line number4659 index4658 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Scene_Battle_startActorCommandSelection.call(this);</code></div><div class="line number4660 index4659 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._statusWindow.refresh();</code></div><div class="line number4661 index4660 alt2"><code class="js string">};</code></div><div class="line number4662 index4661 alt1">&nbsp;</div><div class="line number4663 index4662 alt2"><code class="js string">Yanfly.BEC.Scene_Battle_selectActorSelection =</code></div><div class="line number4664 index4663 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Scene_Battle.prototype.selectActorSelection;</code></div><div class="line number4665 index4664 alt2"><code class="js string">Scene_Battle.prototype.selectActorSelection = function() {</code></div><div class="line number4666 index4665 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Yanfly.Param.BECSelectHelp) this._helpWindow.show();</code></div><div class="line number4667 index4666 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._helpWindow.clear();</code></div><div class="line number4668 index4667 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Scene_Battle_selectActorSelection.call(this);</code></div><div class="line number4669 index4668 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._actorWindow.autoSelect();</code></div><div class="line number4670 index4669 alt1"><code class="js string">};</code></div><div class="line number4671 index4670 alt2">&nbsp;</div><div class="line number4672 index4671 alt1"><code class="js string">Yanfly.BEC.Scene_Battle_onActorCancel = Scene_Battle.prototype.onActorCancel;</code></div><div class="line number4673 index4672 alt2"><code class="js string">Scene_Battle.prototype.onActorCancel = function() {</code></div><div class="line number4674 index4673 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Yanfly.Param.BECSelectHelp) this._helpWindow.hide();</code></div><div class="line number4675 index4674 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._helpWindow.clear();</code></div><div class="line number4676 index4675 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Scene_Battle_onActorCancel.call(this);</code></div><div class="line number4677 index4676 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">BattleManager.stopAllSelection();</code></div><div class="line number4678 index4677 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">BattleManager.clearInputtingAction();</code></div><div class="line number4679 index4678 alt2"><code class="js string">};</code></div><div class="line number4680 index4679 alt1">&nbsp;</div><div class="line number4681 index4680 alt2"><code class="js string">Yanfly.BEC.Scene_Battle_selectEnemySelection =</code></div><div class="line number4682 index4681 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Scene_Battle.prototype.selectEnemySelection;</code></div><div class="line number4683 index4682 alt2"><code class="js string">Scene_Battle.prototype.selectEnemySelection = function() {</code></div><div class="line number4684 index4683 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Yanfly.Param.BECSelectHelp) this._helpWindow.show();</code></div><div class="line number4685 index4684 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._helpWindow.clear();</code></div><div class="line number4686 index4685 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Scene_Battle_selectEnemySelection.call(this);</code></div><div class="line number4687 index4686 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._enemyWindow.autoSelect();</code></div><div class="line number4688 index4687 alt1"><code class="js string">};</code></div><div class="line number4689 index4688 alt2">&nbsp;</div><div class="line number4690 index4689 alt1"><code class="js string">Yanfly.BEC.Scene_Battle_onEnemyCancel = Scene_Battle.prototype.onEnemyCancel;</code></div><div class="line number4691 index4690 alt2"><code class="js string">Scene_Battle.prototype.onEnemyCancel = function() {</code></div><div class="line number4692 index4691 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Yanfly.Param.BECSelectHelp) this._helpWindow.hide();</code></div><div class="line number4693 index4692 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._helpWindow.clear();</code></div><div class="line number4694 index4693 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Scene_Battle_onEnemyCancel.call(this);</code></div><div class="line number4695 index4694 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">BattleManager.stopAllSelection();</code></div><div class="line number4696 index4695 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">BattleManager.clearInputtingAction();</code></div><div class="line number4697 index4696 alt2"><code class="js string">};</code></div><div class="line number4698 index4697 alt1">&nbsp;</div><div class="line number4699 index4698 alt2"><code class="js string">Yanfly.BEC.Scene_Battle_onSelectAction = Scene_Battle.prototype.onSelectAction;</code></div><div class="line number4700 index4699 alt1"><code class="js string">Scene_Battle.prototype.onSelectAction = function() {</code></div><div class="line number4701 index4700 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Yanfly.Param.BECSelectHelp) BattleManager.forceSelection();</code></div><div class="line number4702 index4701 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._helpWindow.clear();</code></div><div class="line number4703 index4702 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Scene_Battle_onSelectAction.call(this);</code></div><div class="line number4704 index4703 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Yanfly.Param.BECSelectHelp) BattleManager.resetSelection();</code></div><div class="line number4705 index4704 alt2"><code class="js string">};</code></div><div class="line number4706 index4705 alt1">&nbsp;</div><div class="line number4707 index4706 alt2"><code class="js string">Yanfly.BEC.Scene_Battle_onSkillOk =</code></div><div class="line number4708 index4707 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Scene_Battle.prototype.onSkillOk;</code></div><div class="line number4709 index4708 alt2"><code class="js string">Scene_Battle.prototype.onSkillOk = function() {</code></div><div class="line number4710 index4709 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._helpWindow.clear();</code></div><div class="line number4711 index4710 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Scene_Battle_onSkillOk.call(this);</code></div><div class="line number4712 index4711 alt1"><code class="js string">};</code></div><div class="line number4713 index4712 alt2">&nbsp;</div><div class="line number4714 index4713 alt1"><code class="js string">Yanfly.BEC.Scene_Battle_onSkillCancel =</code></div><div class="line number4715 index4714 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Scene_Battle.prototype.onSkillCancel;</code></div><div class="line number4716 index4715 alt1"><code class="js string">Scene_Battle.prototype.onSkillCancel = function() {</code></div><div class="line number4717 index4716 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._helpWindow.clear();</code></div><div class="line number4718 index4717 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Scene_Battle_onSkillCancel.call(this);</code></div><div class="line number4719 index4718 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">BattleManager.clearInputtingAction();</code></div><div class="line number4720 index4719 alt1"><code class="js string">};</code></div><div class="line number4721 index4720 alt2">&nbsp;</div><div class="line number4722 index4721 alt1"><code class="js string">Yanfly.BEC.Scene_Battle_onItemOk =</code></div><div class="line number4723 index4722 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Scene_Battle.prototype.onItemOk;</code></div><div class="line number4724 index4723 alt1"><code class="js string">Scene_Battle.prototype.onItemOk = function() {</code></div><div class="line number4725 index4724 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._helpWindow.clear();</code></div><div class="line number4726 index4725 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Scene_Battle_onItemOk.call(this);</code></div><div class="line number4727 index4726 alt2"><code class="js string">};</code></div><div class="line number4728 index4727 alt1">&nbsp;</div><div class="line number4729 index4728 alt2"><code class="js string">Yanfly.BEC.Scene_Battle_onItemCancel =</code></div><div class="line number4730 index4729 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Scene_Battle.prototype.onItemCancel;</code></div><div class="line number4731 index4730 alt2"><code class="js string">Scene_Battle.prototype.onItemCancel = function() {</code></div><div class="line number4732 index4731 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._helpWindow.clear();</code></div><div class="line number4733 index4732 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Scene_Battle_onItemCancel.call(this);</code></div><div class="line number4734 index4733 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">BattleManager.clearInputtingAction();</code></div><div class="line number4735 index4734 alt2"><code class="js string">};</code></div><div class="line number4736 index4735 alt1">&nbsp;</div><div class="line number4737 index4736 alt2"><code class="js string">//=============================================================================</code></div><div class="line number4738 index4737 alt1"><code class="js string">// Window_Selectable</code></div><div class="line number4739 index4738 alt2"><code class="js string">//=============================================================================</code></div><div class="line number4740 index4739 alt1">&nbsp;</div><div class="line number4741 index4740 alt2"><code class="js string">Yanfly.BEC.Window_Selectable_isCursorMovable =</code></div><div class="line number4742 index4741 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Window_Selectable.prototype.isCursorMovable;</code></div><div class="line number4743 index4742 alt2"><code class="js string">Window_Selectable.prototype.isCursorMovable = function() {</code></div><div class="line number4744 index4743 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._inputLock) return false;</code></div><div class="line number4745 index4744 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return Yanfly.BEC.Window_Selectable_isCursorMovable.call(this);</code></div><div class="line number4746 index4745 alt1"><code class="js string">};</code></div><div class="line number4747 index4746 alt2">&nbsp;</div><div class="line number4748 index4747 alt1"><code class="js string">//=============================================================================</code></div><div class="line number4749 index4748 alt2"><code class="js string">// Window_Help</code></div><div class="line number4750 index4749 alt1"><code class="js string">//=============================================================================</code></div><div class="line number4751 index4750 alt2">&nbsp;</div><div class="line number4752 index4751 alt1"><code class="js string">Yanfly.BEC.Window_Help_clear = Window_Help.prototype.clear;</code></div><div class="line number4753 index4752 alt2"><code class="js string">Window_Help.prototype.clear = function() {</code></div><div class="line number4754 index4753 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Window_Help_clear.call(this);</code></div><div class="line number4755 index4754 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.contents.clear();</code></div><div class="line number4756 index4755 alt1"><code class="js string">};</code></div><div class="line number4757 index4756 alt2">&nbsp;</div><div class="line number4758 index4757 alt1"><code class="js string">Window_Help.prototype.setBattler = function(battler) {</code></div><div class="line number4759 index4758 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.contents.clear();</code></div><div class="line number4760 index4759 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.clear();</code></div><div class="line number4761 index4760 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.resetFontSettings();</code></div><div class="line number4762 index4761 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!$gameParty.inBattle()) return;</code></div><div class="line number4763 index4762 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!battler) return;</code></div><div class="line number4764 index4763 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var action = BattleManager.inputtingAction();</code></div><div class="line number4765 index4764 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.specialSelectionText(action)) {</code></div><div class="line number4766 index4765 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.drawSpecialSelectionText(action);</code></div><div class="line number4767 index4766 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number4768 index4767 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.drawBattler(battler);</code></div><div class="line number4769 index4768 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4770 index4769 alt1"><code class="js string">};</code></div><div class="line number4771 index4770 alt2">&nbsp;</div><div class="line number4772 index4771 alt1"><code class="js string">Window_Help.prototype.specialSelectionText = function(action) {</code></div><div class="line number4773 index4772 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">BattleManager.resetSelection();</code></div><div class="line number4774 index4773 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!action) return false;</code></div><div class="line number4775 index4774 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return !action.needsSelection();</code></div><div class="line number4776 index4775 alt1"><code class="js string">};</code></div><div class="line number4777 index4776 alt2">&nbsp;</div><div class="line number4778 index4777 alt1"><code class="js string">Window_Help.prototype.drawBattler = function(battler) {</code></div><div class="line number4779 index4778 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var text = battler.name();</code></div><div class="line number4780 index4779 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var wx = 0;</code></div><div class="line number4781 index4780 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var wy = (this.contents.height - this.lineHeight()) / 2;</code></div><div class="line number4782 index4781 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.drawText(text, wx, wy, this.contents.width, '</code><code class="js plain">center</code><code class="js string">');</code></div><div class="line number4783 index4782 alt2"><code class="js string">};</code></div><div class="line number4784 index4783 alt1">&nbsp;</div><div class="line number4785 index4784 alt2"><code class="js string">Window_Help.prototype.drawSpecialSelectionText = function(action) {</code></div><div class="line number4786 index4785 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var wx = 0;</code></div><div class="line number4787 index4786 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var wy = (this.contents.height - this.lineHeight()) / 2;</code></div><div class="line number4788 index4787 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var text = '</code><code class="js string">';</code></div><div class="line number4789 index4788 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (action.isForUser()) {</code></div><div class="line number4790 index4789 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">text = Yanfly.Param.BECHelpUserTx;</code></div><div class="line number4791 index4790 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (action.isForRandom()) {</code></div><div class="line number4792 index4791 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">BattleManager.startAllSelection();</code></div><div class="line number4793 index4792 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var fmt = Yanfly.Param.BECHelpRandTx;</code></div><div class="line number4794 index4793 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (action.isForOpponent() &amp;&amp; action.numTargets() !== 1) {</code></div><div class="line number4795 index4794 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = Yanfly.Param.BECHelpEnemiesTx;</code></div><div class="line number4796 index4795 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (action.isForOpponent() &amp;&amp; action.numTargets() === 1) {</code></div><div class="line number4797 index4796 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = Yanfly.Param.BECHelpEnemyTx;</code></div><div class="line number4798 index4797 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (action.isForFriend() &amp;&amp; action.numTargets() !== 1) {</code></div><div class="line number4799 index4798 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = Yanfly.Param.BECHelpAlliesTx;</code></div><div class="line number4800 index4799 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number4801 index4800 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = Yanfly.Param.BECHelpAllyTx;</code></div><div class="line number4802 index4801 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4803 index4802 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">text = fmt.format(target, Yanfly.Util.toGroup(action.numTargets()));</code></div><div class="line number4804 index4803 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (action.isForAll()) {</code></div><div class="line number4805 index4804 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">BattleManager.startAllSelection();</code></div><div class="line number4806 index4805 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var fmt = Yanfly.Param.BECHelpAllTx;</code></div><div class="line number4807 index4806 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (action.isForOpponent()) {</code></div><div class="line number4808 index4807 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = Yanfly.Param.BECHelpEnemiesTx;</code></div><div class="line number4809 index4808 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number4810 index4809 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var target = Yanfly.Param.BECHelpAlliesTx;</code></div><div class="line number4811 index4810 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4812 index4811 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">text = fmt.format(target);</code></div><div class="line number4813 index4812 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4814 index4813 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.drawText(text, wx, wy, this.contents.width, '</code><code class="js plain">center</code><code class="js string">');</code></div><div class="line number4815 index4814 alt2"><code class="js string">};</code></div><div class="line number4816 index4815 alt1">&nbsp;</div><div class="line number4817 index4816 alt2"><code class="js string">//=============================================================================</code></div><div class="line number4818 index4817 alt1"><code class="js string">// Window_BattleActor</code></div><div class="line number4819 index4818 alt2"><code class="js string">//=============================================================================</code></div><div class="line number4820 index4819 alt1">&nbsp;</div><div class="line number4821 index4820 alt2"><code class="js string">Window_BattleActor.prototype.autoSelect = function() {</code></div><div class="line number4822 index4821 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var action = BattleManager.inputtingAction();</code></div><div class="line number4823 index4822 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!action) return;</code></div><div class="line number4824 index4823 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._inputLock = false;</code></div><div class="line number4825 index4824 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._selectDead = false;</code></div><div class="line number4826 index4825 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (action.isForUser()) {</code></div><div class="line number4827 index4826 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.select(BattleManager.actor().index());</code></div><div class="line number4828 index4827 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._inputLock = true;</code></div><div class="line number4829 index4828 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (action.isForDeadFriend()) {</code></div><div class="line number4830 index4829 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._selectDead = true;</code></div><div class="line number4831 index4830 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.autoSelectFirstDeadActor();</code></div><div class="line number4832 index4831 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (action.isForAll()) this._inputLock = true;</code></div><div class="line number4833 index4832 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4834 index4833 alt1"><code class="js string">};</code></div><div class="line number4835 index4834 alt2">&nbsp;</div><div class="line number4836 index4835 alt1"><code class="js string">Window_BattleActor.prototype.autoSelectFirstDeadActor = function() {</code></div><div class="line number4837 index4836 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var length = $gameParty.members().length;</code></div><div class="line number4838 index4837 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; length; ++i) {</code></div><div class="line number4839 index4838 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var member = $gameParty.members()[i];</code></div><div class="line number4840 index4839 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (member &amp;&amp; member.isDead()) return this.select(i);</code></div><div class="line number4841 index4840 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4842 index4841 alt1"><code class="js string">};</code></div><div class="line number4843 index4842 alt2">&nbsp;</div><div class="line number4844 index4843 alt1"><code class="js string">Window_BattleActor.prototype.isOkEnabled = function() {</code></div><div class="line number4845 index4844 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._selectDead) return this.actor().isDead();</code></div><div class="line number4846 index4845 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return Window_Selectable.prototype.isOkEnabled.call(this);</code></div><div class="line number4847 index4846 alt2"><code class="js string">};</code></div><div class="line number4848 index4847 alt1">&nbsp;</div><div class="line number4849 index4848 alt2"><code class="js string">Window_BattleActor.prototype.updateHelp = function() {</code></div><div class="line number4850 index4849 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this._helpWindow) return;</code></div><div class="line number4851 index4850 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._helpWindow.setBattler(this.actor());</code></div><div class="line number4852 index4851 alt1"><code class="js string">};</code></div><div class="line number4853 index4852 alt2">&nbsp;</div><div class="line number4854 index4853 alt1"><code class="js string">Yanfly.BEC.Window_BattleActor_processTouch =</code></div><div class="line number4855 index4854 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Window_BattleActor.prototype.processTouch;</code></div><div class="line number4856 index4855 alt1"><code class="js string">Window_BattleActor.prototype.processTouch = function() {</code></div><div class="line number4857 index4856 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Yanfly.Param.BECActorSelect &amp;&amp; this.isOpenAndActive()) {</code></div><div class="line number4858 index4857 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (TouchInput.isTriggered() &amp;&amp; !this.isTouchedInsideFrame()) {</code></div><div class="line number4859 index4858 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.getClickedActor() &gt;= 0) {</code></div><div class="line number4860 index4859 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var index = this.getClickedActor();</code></div><div class="line number4861 index4860 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.index() === index) {</code></div><div class="line number4862 index4861 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.processOk();</code></div><div class="line number4863 index4862 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number4864 index4863 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">SoundManager.playCursor();</code></div><div class="line number4865 index4864 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.select(index);</code></div><div class="line number4866 index4865 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4867 index4866 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4868 index4867 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4869 index4868 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (TouchInput.isPressed() &amp;&amp; !this.isTouchedInsideFrame()) {</code></div><div class="line number4870 index4869 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.getClickedActor() &gt;= 0) {</code></div><div class="line number4871 index4870 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var index = this.getClickedActor();</code></div><div class="line number4872 index4871 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.index() !== index) {</code></div><div class="line number4873 index4872 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">SoundManager.playCursor();</code></div><div class="line number4874 index4873 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.select(index);</code></div><div class="line number4875 index4874 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4876 index4875 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4877 index4876 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4878 index4877 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Yanfly.Param.BECSelectMouseOver) {</code></div><div class="line number4879 index4878 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var index = this.getMouseOverActor();</code></div><div class="line number4880 index4879 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (index &gt;= 0 &amp;&amp; this.index() !== index) {</code></div><div class="line number4881 index4880 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">SoundManager.playCursor();</code></div><div class="line number4882 index4881 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.select(index);</code></div><div class="line number4883 index4882 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4884 index4883 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4885 index4884 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4886 index4885 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Window_BattleActor_processTouch.call(this);</code></div><div class="line number4887 index4886 alt2"><code class="js string">};</code></div><div class="line number4888 index4887 alt1">&nbsp;</div><div class="line number4889 index4888 alt2"><code class="js string">Window_BattleActor.prototype.getClickedActor = function() {</code></div><div class="line number4890 index4889 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; $gameParty.battleMembers().length; ++i) {</code></div><div class="line number4891 index4890 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var actor = $gameParty.battleMembers().reverse()[i];</code></div><div class="line number4892 index4891 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!actor) continue;</code></div><div class="line number4893 index4892 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isClickedActor(actor)) {</code></div><div class="line number4894 index4893 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._selectDead &amp;&amp; !actor.isDead()) continue;</code></div><div class="line number4895 index4894 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._inputLock &amp;&amp; actor.index() !== this.index()) continue;</code></div><div class="line number4896 index4895 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return actor.index();</code></div><div class="line number4897 index4896 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4898 index4897 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4899 index4898 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return -1;</code></div><div class="line number4900 index4899 alt1"><code class="js string">};</code></div><div class="line number4901 index4900 alt2">&nbsp;</div><div class="line number4902 index4901 alt1"><code class="js string">Window_BattleActor.prototype.isClickedActor = function(actor) {</code></div><div class="line number4903 index4902 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!actor) return false;</code></div><div class="line number4904 index4903 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!actor.isSpriteVisible()) return false;</code></div><div class="line number4905 index4904 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!actor.isAppeared()) return false;</code></div><div class="line number4906 index4905 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameTemp._disableMouseOverSelect) return false;</code></div><div class="line number4907 index4906 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var x = TouchInput.x;</code></div><div class="line number4908 index4907 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var y = TouchInput.y;</code></div><div class="line number4909 index4908 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var rect = new Rectangle();</code></div><div class="line number4910 index4909 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">rect.width = actor.spriteWidth();</code></div><div class="line number4911 index4910 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">rect.height = actor.spriteHeight();</code></div><div class="line number4912 index4911 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">rect.x = actor.spritePosX() - rect.width / 2;</code></div><div class="line number4913 index4912 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">rect.y = actor.spritePosY() - rect.height;</code></div><div class="line number4914 index4913 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return (x &gt;= rect.x &amp;&amp; y &gt;= rect.y &amp;&amp; x &lt; rect.x + rect.width &amp;&amp;</code></div><div class="line number4915 index4914 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">y &lt; rect.y + rect.height);</code></div><div class="line number4916 index4915 alt1"><code class="js string">};</code></div><div class="line number4917 index4916 alt2">&nbsp;</div><div class="line number4918 index4917 alt1"><code class="js string">Window_BattleActor.prototype.getMouseOverActor = function() {</code></div><div class="line number4919 index4918 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; $gameParty.battleMembers().length; ++i) {</code></div><div class="line number4920 index4919 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var actor = $gameParty.battleMembers().reverse()[i];</code></div><div class="line number4921 index4920 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!actor) continue;</code></div><div class="line number4922 index4921 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isMouseOverActor(actor)) {</code></div><div class="line number4923 index4922 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._selectDead &amp;&amp; !actor.isDead()) continue;</code></div><div class="line number4924 index4923 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._inputLock &amp;&amp; actor.index() !== this.index()) continue;</code></div><div class="line number4925 index4924 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return actor.index();</code></div><div class="line number4926 index4925 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4927 index4926 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4928 index4927 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return -1;</code></div><div class="line number4929 index4928 alt2"><code class="js string">};</code></div><div class="line number4930 index4929 alt1">&nbsp;</div><div class="line number4931 index4930 alt2"><code class="js string">Window_BattleActor.prototype.isMouseOverActor = function(actor) {</code></div><div class="line number4932 index4931 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!actor) return false;</code></div><div class="line number4933 index4932 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!actor.isSpriteVisible()) return false;</code></div><div class="line number4934 index4933 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!actor.isAppeared()) return false;</code></div><div class="line number4935 index4934 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameTemp._disableMouseOverSelect) return false;</code></div><div class="line number4936 index4935 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var x = TouchInput._mouseOverX;</code></div><div class="line number4937 index4936 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var y = TouchInput._mouseOverY;</code></div><div class="line number4938 index4937 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var rect = new Rectangle();</code></div><div class="line number4939 index4938 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">rect.width = actor.spriteWidth();</code></div><div class="line number4940 index4939 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">rect.height = actor.spriteHeight();</code></div><div class="line number4941 index4940 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">rect.x = actor.spritePosX() - rect.width / 2;</code></div><div class="line number4942 index4941 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">rect.y = actor.spritePosY() - rect.height;</code></div><div class="line number4943 index4942 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return (x &gt;= rect.x &amp;&amp; y &gt;= rect.y &amp;&amp; x &lt; rect.x + rect.width &amp;&amp;</code></div><div class="line number4944 index4943 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">y &lt; rect.y + rect.height);</code></div><div class="line number4945 index4944 alt2"><code class="js string">};</code></div><div class="line number4946 index4945 alt1">&nbsp;</div><div class="line number4947 index4946 alt2"><code class="js string">//=============================================================================</code></div><div class="line number4948 index4947 alt1"><code class="js string">// Window_BattleEnemy</code></div><div class="line number4949 index4948 alt2"><code class="js string">//=============================================================================</code></div><div class="line number4950 index4949 alt1">&nbsp;</div><div class="line number4951 index4950 alt2"><code class="js string">Yanfly.DisableWebGLMask = false;</code></div><div class="line number4952 index4951 alt1">&nbsp;</div><div class="line number4953 index4952 alt2"><code class="js string">Yanfly.BEC.Window_BattleEnemy_initialize =</code></div><div class="line number4954 index4953 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Window_BattleEnemy.prototype.initialize;</code></div><div class="line number4955 index4954 alt2"><code class="js string">Window_BattleEnemy.prototype.initialize = function(x, y) {</code></div><div class="line number4956 index4955 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Yanfly.Param.BECEnemySelect) {</code></div><div class="line number4957 index4956 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">x -= Graphics.boxWidth * 200;</code></div><div class="line number4958 index4957 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">y -= Graphics.boxHeight * 200;</code></div><div class="line number4959 index4958 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">};</code></div><div class="line number4960 index4959 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Window_BattleEnemy_initialize.call(this, x, y);</code></div><div class="line number4961 index4960 alt2"><code class="js string">};</code></div><div class="line number4962 index4961 alt1">&nbsp;</div><div class="line number4963 index4962 alt2"><code class="js string">Yanfly.BEC.WindowLayer_webglMaskWindow =</code></div><div class="line number4964 index4963 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">WindowLayer.prototype._webglMaskWindow;</code></div><div class="line number4965 index4964 alt2"><code class="js string">WindowLayer.prototype._webglMaskWindow = function(renderSession, win) {</code></div><div class="line number4966 index4965 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (win._ignoreMask) return;</code></div><div class="line number4967 index4966 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.WindowLayer_webglMaskWindow.call(this, renderSession, win);</code></div><div class="line number4968 index4967 alt1"><code class="js string">};</code></div><div class="line number4969 index4968 alt2">&nbsp;</div><div class="line number4970 index4969 alt1"><code class="js string">Yanfly.BEC.Window_BattleEnemy_maxCols =</code></div><div class="line number4971 index4970 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Window_BattleEnemy.prototype.maxCols;</code></div><div class="line number4972 index4971 alt1"><code class="js string">Window_BattleEnemy.prototype.maxCols = function() {</code></div><div class="line number4973 index4972 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Yanfly.Param.BECEnemySelect) return this._enemies.length;</code></div><div class="line number4974 index4973 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return Yanfly.BEC.Window_BattleEnemy_maxCols.call(this);</code></div><div class="line number4975 index4974 alt2"><code class="js string">};</code></div><div class="line number4976 index4975 alt1">&nbsp;</div><div class="line number4977 index4976 alt2"><code class="js string">Window_BattleEnemy.prototype.allowedTargets = function() {</code></div><div class="line number4978 index4977 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var targets = [];</code></div><div class="line number4979 index4978 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">targets = targets.concat($gameTroop.aliveMembers());</code></div><div class="line number4980 index4979 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return targets;</code></div><div class="line number4981 index4980 alt2"><code class="js string">};</code></div><div class="line number4982 index4981 alt1">&nbsp;</div><div class="line number4983 index4982 alt2"><code class="js string">Window_BattleEnemy.prototype.refresh = function() {</code></div><div class="line number4984 index4983 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._enemies = this.allowedTargets();</code></div><div class="line number4985 index4984 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.sortTargets();</code></div><div class="line number4986 index4985 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Window_Selectable.prototype.refresh.call(this);</code></div><div class="line number4987 index4986 alt2"><code class="js string">};</code></div><div class="line number4988 index4987 alt1">&nbsp;</div><div class="line number4989 index4988 alt2"><code class="js string">Window_BattleEnemy.prototype.sortTargets = function() {</code></div><div class="line number4990 index4989 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._enemies.sort(function(a, b) {</code></div><div class="line number4991 index4990 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (a.spritePosX() == b.spritePosX()) {</code></div><div class="line number4992 index4991 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return a.spritePosY() - b.spritePosY();</code></div><div class="line number4993 index4992 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number4994 index4993 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return a.spritePosX() - b.spritePosX();</code></div><div class="line number4995 index4994 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">});</code></div><div class="line number4996 index4995 alt1"><code class="js string">};</code></div><div class="line number4997 index4996 alt2">&nbsp;</div><div class="line number4998 index4997 alt1"><code class="js string">Window_BattleEnemy.prototype.autoSelect = function() {</code></div><div class="line number4999 index4998 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var selectIndex = eval(Yanfly.Param.BECEnemyAutoSel);</code></div><div class="line number5000 index4999 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.select(selectIndex);</code></div><div class="line number5001 index5000 alt2"><code class="js string">};</code></div><div class="line number5002 index5001 alt1">&nbsp;</div><div class="line number5003 index5002 alt2"><code class="js string">Window_BattleEnemy.prototype.furthestRight = function() {</code></div><div class="line number5004 index5003 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.maxItems() - 1;</code></div><div class="line number5005 index5004 alt2"><code class="js string">};</code></div><div class="line number5006 index5005 alt1">&nbsp;</div><div class="line number5007 index5006 alt2"><code class="js string">Window_BattleEnemy.prototype.updateHelp = function() {</code></div><div class="line number5008 index5007 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this._helpWindow) return;</code></div><div class="line number5009 index5008 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._helpWindow.setBattler(this.enemy());</code></div><div class="line number5010 index5009 alt1"><code class="js string">};</code></div><div class="line number5011 index5010 alt2">&nbsp;</div><div class="line number5012 index5011 alt1"><code class="js string">Yanfly.BEC.Window_BattleEnemy_processTouch =</code></div><div class="line number5013 index5012 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Window_BattleEnemy.prototype.processTouch;</code></div><div class="line number5014 index5013 alt1"><code class="js string">Window_BattleEnemy.prototype.processTouch = function() {</code></div><div class="line number5015 index5014 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Yanfly.Param.BECEnemySelect &amp;&amp; this.isOpenAndActive()) {</code></div><div class="line number5016 index5015 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (TouchInput.isTriggered() &amp;&amp; !this.isTouchedInsideFrame()) {</code></div><div class="line number5017 index5016 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.getClickedEnemy() &gt;= 0) {</code></div><div class="line number5018 index5017 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var index = this.getClickedEnemy();</code></div><div class="line number5019 index5018 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.index() === index) {</code></div><div class="line number5020 index5019 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.processOk();</code></div><div class="line number5021 index5020 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number5022 index5021 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">SoundManager.playCursor();</code></div><div class="line number5023 index5022 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.select(index);</code></div><div class="line number5024 index5023 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5025 index5024 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5026 index5025 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5027 index5026 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (TouchInput.isPressed() &amp;&amp; !this.isTouchedInsideFrame()) {</code></div><div class="line number5028 index5027 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.getClickedEnemy() &gt;= 0) {</code></div><div class="line number5029 index5028 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var index = this.getClickedEnemy();</code></div><div class="line number5030 index5029 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.index() !== index) {</code></div><div class="line number5031 index5030 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">SoundManager.playCursor();</code></div><div class="line number5032 index5031 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.select(index);</code></div><div class="line number5033 index5032 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5034 index5033 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5035 index5034 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5036 index5035 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Yanfly.Param.BECSelectMouseOver) {</code></div><div class="line number5037 index5036 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var index = this.getMouseOverEnemy();</code></div><div class="line number5038 index5037 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (index &gt;= 0 &amp;&amp; this.index() !== index) {</code></div><div class="line number5039 index5038 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">SoundManager.playCursor();</code></div><div class="line number5040 index5039 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.select(index);</code></div><div class="line number5041 index5040 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5042 index5041 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5043 index5042 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">};</code></div><div class="line number5044 index5043 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Window_BattleEnemy_processTouch.call(this);</code></div><div class="line number5045 index5044 alt2"><code class="js string">};</code></div><div class="line number5046 index5045 alt1">&nbsp;</div><div class="line number5047 index5046 alt2"><code class="js string">Window_BattleEnemy.prototype.getClickedEnemy = function() {</code></div><div class="line number5048 index5047 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; this._enemies.length; ++i) {</code></div><div class="line number5049 index5048 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var enemy = this._enemies[i];</code></div><div class="line number5050 index5049 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!enemy) continue;</code></div><div class="line number5051 index5050 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isClickedEnemy(enemy)) {</code></div><div class="line number5052 index5051 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._selectDead &amp;&amp; !enemy.isDead()) continue;</code></div><div class="line number5053 index5052 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var index = this._enemies.indexOf(enemy)</code></div><div class="line number5054 index5053 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._inputLock &amp;&amp; index !== this.index()) continue;</code></div><div class="line number5055 index5054 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return index;</code></div><div class="line number5056 index5055 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5057 index5056 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5058 index5057 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return -1;</code></div><div class="line number5059 index5058 alt2"><code class="js string">};</code></div><div class="line number5060 index5059 alt1">&nbsp;</div><div class="line number5061 index5060 alt2"><code class="js string">Window_BattleEnemy.prototype.isClickedEnemy = function(enemy) {</code></div><div class="line number5062 index5061 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!enemy) return false;</code></div><div class="line number5063 index5062 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!enemy.isSpriteVisible()) return false;</code></div><div class="line number5064 index5063 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameTemp._disableMouseOverSelect) return false;</code></div><div class="line number5065 index5064 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var x = TouchInput.x;</code></div><div class="line number5066 index5065 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var y = TouchInput.y;</code></div><div class="line number5067 index5066 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var rect = new Rectangle();</code></div><div class="line number5068 index5067 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">rect.width = enemy.spriteWidth();</code></div><div class="line number5069 index5068 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">rect.height = enemy.spriteHeight();</code></div><div class="line number5070 index5069 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">rect.x = enemy.spritePosX() - rect.width / 2;</code></div><div class="line number5071 index5070 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">rect.y = enemy.spritePosY() - rect.height;</code></div><div class="line number5072 index5071 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return (x &gt;= rect.x &amp;&amp; y &gt;= rect.y &amp;&amp; x &lt; rect.x + rect.width &amp;&amp;</code></div><div class="line number5073 index5072 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">y &lt; rect.y + rect.height);</code></div><div class="line number5074 index5073 alt1"><code class="js string">};</code></div><div class="line number5075 index5074 alt2">&nbsp;</div><div class="line number5076 index5075 alt1"><code class="js string">Window_BattleEnemy.prototype.getMouseOverEnemy = function() {</code></div><div class="line number5077 index5076 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; this._enemies.length; ++i) {</code></div><div class="line number5078 index5077 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var enemy = this._enemies[i];</code></div><div class="line number5079 index5078 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!enemy) continue;</code></div><div class="line number5080 index5079 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isMouseOverEnemy(enemy)) {</code></div><div class="line number5081 index5080 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._selectDead &amp;&amp; !enemy.isDead()) continue;</code></div><div class="line number5082 index5081 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var index = this._enemies.indexOf(enemy)</code></div><div class="line number5083 index5082 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._inputLock &amp;&amp; index !== this.index()) continue;</code></div><div class="line number5084 index5083 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return index;</code></div><div class="line number5085 index5084 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5086 index5085 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5087 index5086 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return -1;</code></div><div class="line number5088 index5087 alt1"><code class="js string">};</code></div><div class="line number5089 index5088 alt2">&nbsp;</div><div class="line number5090 index5089 alt1"><code class="js string">Window_BattleEnemy.prototype.isMouseOverEnemy = function(enemy) {</code></div><div class="line number5091 index5090 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!enemy) return false;</code></div><div class="line number5092 index5091 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!enemy.isSpriteVisible()) return false;</code></div><div class="line number5093 index5092 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameTemp._disableMouseOverSelect) return false;</code></div><div class="line number5094 index5093 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var x = TouchInput._mouseOverX;</code></div><div class="line number5095 index5094 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var y = TouchInput._mouseOverY;</code></div><div class="line number5096 index5095 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var rect = new Rectangle();</code></div><div class="line number5097 index5096 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">rect.width = enemy.spriteWidth();</code></div><div class="line number5098 index5097 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">rect.height = enemy.spriteHeight();</code></div><div class="line number5099 index5098 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">rect.x = enemy.spritePosX() - rect.width / 2;</code></div><div class="line number5100 index5099 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">rect.y = enemy.spritePosY() - rect.height;</code></div><div class="line number5101 index5100 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return (x &gt;= rect.x &amp;&amp; y &gt;= rect.y &amp;&amp; x &lt; rect.x + rect.width &amp;&amp;</code></div><div class="line number5102 index5101 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">y &lt; rect.y + rect.height);</code></div><div class="line number5103 index5102 alt2"><code class="js string">};</code></div><div class="line number5104 index5103 alt1">&nbsp;</div><div class="line number5105 index5104 alt2"><code class="js string">//=============================================================================</code></div><div class="line number5106 index5105 alt1"><code class="js string">// Window_EnemyVisualSelect</code></div><div class="line number5107 index5106 alt2"><code class="js string">//=============================================================================</code></div><div class="line number5108 index5107 alt1">&nbsp;</div><div class="line number5109 index5108 alt2"><code class="js string">function Window_EnemyVisualSelect() {</code></div><div class="line number5110 index5109 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.initialize.apply(this, arguments);</code></div><div class="line number5111 index5110 alt2"><code class="js string">}</code></div><div class="line number5112 index5111 alt1">&nbsp;</div><div class="line number5113 index5112 alt2"><code class="js string">Window_EnemyVisualSelect.prototype = Object.create(Window_Base.prototype);</code></div><div class="line number5114 index5113 alt1"><code class="js string">Window_EnemyVisualSelect.prototype.constructor = Window_EnemyVisualSelect;</code></div><div class="line number5115 index5114 alt2">&nbsp;</div><div class="line number5116 index5115 alt1"><code class="js string">Window_EnemyVisualSelect.prototype.initialize = function() {</code></div><div class="line number5117 index5116 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Window_Base.prototype.initialize.call(this, 0, 0, 1, 1);</code></div><div class="line number5118 index5117 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._battler = null;</code></div><div class="line number5119 index5118 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._battlerName = '</code><code class="js string">';</code></div><div class="line number5120 index5119 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._requestRefresh = false;</code></div><div class="line number5121 index5120 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._showSelectCursor = Yanfly.Param.BECShowSelectBox;</code></div><div class="line number5122 index5121 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._showEnemyName = Yanfly.Param.BECShowEnemyName;</code></div><div class="line number5123 index5122 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.contentsOpacity = 0;</code></div><div class="line number5124 index5123 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.opacity = 0;</code></div><div class="line number5125 index5124 alt2"><code class="js string">};</code></div><div class="line number5126 index5125 alt1">&nbsp;</div><div class="line number5127 index5126 alt2"><code class="js string">Window_EnemyVisualSelect.prototype.setBattler = function(battler) {</code></div><div class="line number5128 index5127 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._battler === battler) return;</code></div><div class="line number5129 index5128 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._battler = battler;</code></div><div class="line number5130 index5129 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._battlerName = battler.name();</code></div><div class="line number5131 index5130 alt2"><code class="js string">};</code></div><div class="line number5132 index5131 alt1">&nbsp;</div><div class="line number5133 index5132 alt2"><code class="js string">Window_EnemyVisualSelect.prototype.update = function() {</code></div><div class="line number5134 index5133 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Window_Base.prototype.update.call(this);</code></div><div class="line number5135 index5134 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this._battler) return;</code></div><div class="line number5136 index5135 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateWindowAspects();</code></div><div class="line number5137 index5136 alt2"><code class="js string">};</code></div><div class="line number5138 index5137 alt1">&nbsp;</div><div class="line number5139 index5138 alt2"><code class="js string">Window_EnemyVisualSelect.prototype.updateWindowAspects = function() {</code></div><div class="line number5140 index5139 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateBattlerName();</code></div><div class="line number5141 index5140 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateWindowSize();</code></div><div class="line number5142 index5141 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateWindowPosition();</code></div><div class="line number5143 index5142 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateOpacity();</code></div><div class="line number5144 index5143 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateRefresh();</code></div><div class="line number5145 index5144 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.updateCursor();</code></div><div class="line number5146 index5145 alt1"><code class="js string">};</code></div><div class="line number5147 index5146 alt2">&nbsp;</div><div class="line number5148 index5147 alt1"><code class="js string">Window_EnemyVisualSelect.prototype.updateBattlerName = function() {</code></div><div class="line number5149 index5148 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._battlerName !== this._battler.name())</code></div><div class="line number5150 index5149 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._battlerName = this._battler.name();</code></div><div class="line number5151 index5150 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._requestRefresh = true;</code></div><div class="line number5152 index5151 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._nameTextWidth = undefined;</code></div><div class="line number5153 index5152 alt2"><code class="js string">};</code></div><div class="line number5154 index5153 alt1">&nbsp;</div><div class="line number5155 index5154 alt2"><code class="js string">Window_EnemyVisualSelect.prototype.updateWindowSize = function() {</code></div><div class="line number5156 index5155 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var spriteWidth = this._battler.spriteWidth();</code></div><div class="line number5157 index5156 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.contents.fontSize = Yanfly.Param.BECEnemyFontSize;</code></div><div class="line number5158 index5157 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._nameTextWidth === undefined) {</code></div><div class="line number5159 index5158 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._nameTextWidth = this.textWidth(this._battler.name());</code></div><div class="line number5160 index5159 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5161 index5160 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var textWidth = this._nameTextWidth;</code></div><div class="line number5162 index5161 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">textWidth += this.textPadding() * 2;</code></div><div class="line number5163 index5162 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var width = Math.max(spriteWidth, textWidth) + this.standardPadding() * 2;</code></div><div class="line number5164 index5163 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">width = Math.ceil(width);</code></div><div class="line number5165 index5164 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var height = this._battler.spriteHeight() + this.standardPadding() * 2;</code></div><div class="line number5166 index5165 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">height = Math.ceil(height);</code></div><div class="line number5167 index5166 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">height = Math.max(height, this.lineHeight() + this.standardPadding() * 2);</code></div><div class="line number5168 index5167 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (width === this.width &amp;&amp; height === this.height) return;</code></div><div class="line number5169 index5168 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.width = width;</code></div><div class="line number5170 index5169 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.height = height;</code></div><div class="line number5171 index5170 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.createContents();</code></div><div class="line number5172 index5171 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._requestRefresh = true;</code></div><div class="line number5173 index5172 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.makeWindowBoundaries();</code></div><div class="line number5174 index5173 alt1"><code class="js string">};</code></div><div class="line number5175 index5174 alt2">&nbsp;</div><div class="line number5176 index5175 alt1"><code class="js string">Window_EnemyVisualSelect.prototype.makeWindowBoundaries = function() {</code></div><div class="line number5177 index5176 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this._requestRefresh) return;</code></div><div class="line number5178 index5177 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._minX = -1 * this.standardPadding();</code></div><div class="line number5179 index5178 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._maxX = Graphics.boxWidth - this.width + this.standardPadding();</code></div><div class="line number5180 index5179 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._minY = -1 * this.standardPadding();</code></div><div class="line number5181 index5180 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._maxY = Graphics.boxHeight - this.height + this.standardPadding();</code></div><div class="line number5182 index5181 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._maxY -= SceneManager._scene._statusWindow.height;</code></div><div class="line number5183 index5182 alt2"><code class="js string">};</code></div><div class="line number5184 index5183 alt1">&nbsp;</div><div class="line number5185 index5184 alt2"><code class="js string">Window_EnemyVisualSelect.prototype.updateWindowPosition = function() {</code></div><div class="line number5186 index5185 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this._battler) return;</code></div><div class="line number5187 index5186 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.x = -1 * this.width / 2;</code></div><div class="line number5188 index5187 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.y = -1 * this.height + this.standardPadding();</code></div><div class="line number5189 index5188 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.x += this._battler.spritePosX();</code></div><div class="line number5190 index5189 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.y += this._battler.spritePosY();</code></div><div class="line number5191 index5190 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.x = this.x.clamp(this._minX, this._maxX);</code></div><div class="line number5192 index5191 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.y = this.y.clamp(this._minY, this._maxY);</code></div><div class="line number5193 index5192 alt2"><code class="js string">};</code></div><div class="line number5194 index5193 alt1">&nbsp;</div><div class="line number5195 index5194 alt2"><code class="js string">Window_EnemyVisualSelect.prototype.updateOpacity = function() {</code></div><div class="line number5196 index5195 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isShowWindow()) {</code></div><div class="line number5197 index5196 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.contentsOpacity += 32;</code></div><div class="line number5198 index5197 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number5199 index5198 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.contentsOpacity -= 32;</code></div><div class="line number5200 index5199 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5201 index5200 alt2"><code class="js string">};</code></div><div class="line number5202 index5201 alt1">&nbsp;</div><div class="line number5203 index5202 alt2"><code class="js string">Window_EnemyVisualSelect.prototype.isShowWindow = function() {</code></div><div class="line number5204 index5203 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var scene = SceneManager._scene;</code></div><div class="line number5205 index5204 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!scene._enemyWindow) return false;</code></div><div class="line number5206 index5205 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var enemyWindow = scene._enemyWindow;</code></div><div class="line number5207 index5206 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!enemyWindow.active) return false;</code></div><div class="line number5208 index5207 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this._battler.isAppeared()) return false;</code></div><div class="line number5209 index5208 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._battler.isDead()) {</code></div><div class="line number5210 index5209 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return enemyWindow._selectDead;</code></div><div class="line number5211 index5210 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5212 index5211 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return enemyWindow._enemies.contains(this._battler);</code></div><div class="line number5213 index5212 alt2"><code class="js string">};</code></div><div class="line number5214 index5213 alt1">&nbsp;</div><div class="line number5215 index5214 alt2"><code class="js string">Window_EnemyVisualSelect.prototype.updateCursor = function() {</code></div><div class="line number5216 index5215 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this.isShowCursor()) {</code></div><div class="line number5217 index5216 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var wy = this.contents.height - this.lineHeight();</code></div><div class="line number5218 index5217 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.setCursorRect(0, wy, this.contents.width, this.lineHeight());</code></div><div class="line number5219 index5218 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number5220 index5219 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.setCursorRect(0, 0, 0, 0);</code></div><div class="line number5221 index5220 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5222 index5221 alt1"><code class="js string">};</code></div><div class="line number5223 index5222 alt2">&nbsp;</div><div class="line number5224 index5223 alt1"><code class="js string">Window_EnemyVisualSelect.prototype.isShowCursor = function() {</code></div><div class="line number5225 index5224 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this._showSelectCursor) return false;</code></div><div class="line number5226 index5225 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var scene = SceneManager._scene;</code></div><div class="line number5227 index5226 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!scene._enemyWindow) return false;</code></div><div class="line number5228 index5227 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var enemyWindow = scene._enemyWindow;</code></div><div class="line number5229 index5228 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!enemyWindow.active) return false;</code></div><div class="line number5230 index5229 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this._battler.isAppeared()) return false;</code></div><div class="line number5231 index5230 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this._battler.isSelected();</code></div><div class="line number5232 index5231 alt1"><code class="js string">};</code></div><div class="line number5233 index5232 alt2">&nbsp;</div><div class="line number5234 index5233 alt1"><code class="js string">Window_EnemyVisualSelect.prototype.updateRefresh = function() {</code></div><div class="line number5235 index5234 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._requestRefresh) this.refresh();</code></div><div class="line number5236 index5235 alt1"><code class="js string">};</code></div><div class="line number5237 index5236 alt2">&nbsp;</div><div class="line number5238 index5237 alt1"><code class="js string">Window_EnemyVisualSelect.prototype.refresh = function() {</code></div><div class="line number5239 index5238 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.contents.clear();</code></div><div class="line number5240 index5239 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this._battler) return;</code></div><div class="line number5241 index5240 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!this._showEnemyName) return;</code></div><div class="line number5242 index5241 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._battler.isHidden()) return;</code></div><div class="line number5243 index5242 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._requestRefresh = false;</code></div><div class="line number5244 index5243 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.contents.fontSize = Yanfly.Param.BECEnemyFontSize;</code></div><div class="line number5245 index5244 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var text = this._battler.name();</code></div><div class="line number5246 index5245 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var wy = this.contents.height - this.lineHeight();</code></div><div class="line number5247 index5246 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.drawText(text, 0, wy, this.contents.width, '</code><code class="js plain">center</code><code class="js string">');</code></div><div class="line number5248 index5247 alt1"><code class="js string">};</code></div><div class="line number5249 index5248 alt2">&nbsp;</div><div class="line number5250 index5249 alt1"><code class="js string">//=============================================================================</code></div><div class="line number5251 index5250 alt2"><code class="js string">// Window_PartyCommand</code></div><div class="line number5252 index5251 alt1"><code class="js string">//=============================================================================</code></div><div class="line number5253 index5252 alt2">&nbsp;</div><div class="line number5254 index5253 alt1"><code class="js string">Window_PartyCommand.prototype.itemTextAlign = function() {</code></div><div class="line number5255 index5254 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return Yanfly.Param.BECCommandAlign;</code></div><div class="line number5256 index5255 alt1"><code class="js string">};</code></div><div class="line number5257 index5256 alt2">&nbsp;</div><div class="line number5258 index5257 alt1"><code class="js string">Window_PartyCommand.prototype.numVisibleRows = function() {</code></div><div class="line number5259 index5258 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return Yanfly.Param.BECCommandRows;</code></div><div class="line number5260 index5259 alt1"><code class="js string">};</code></div><div class="line number5261 index5260 alt2">&nbsp;</div><div class="line number5262 index5261 alt1"><code class="js string">//=============================================================================</code></div><div class="line number5263 index5262 alt2"><code class="js string">// Window_ActorCommand</code></div><div class="line number5264 index5263 alt1"><code class="js string">//=============================================================================</code></div><div class="line number5265 index5264 alt2">&nbsp;</div><div class="line number5266 index5265 alt1"><code class="js string">Window_ActorCommand.prototype.itemTextAlign = function() {</code></div><div class="line number5267 index5266 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return Yanfly.Param.BECCommandAlign;</code></div><div class="line number5268 index5267 alt1"><code class="js string">};</code></div><div class="line number5269 index5268 alt2">&nbsp;</div><div class="line number5270 index5269 alt1"><code class="js string">Window_ActorCommand.prototype.numVisibleRows = function() {</code></div><div class="line number5271 index5270 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return Yanfly.Param.BECCommandRows;</code></div><div class="line number5272 index5271 alt1"><code class="js string">};</code></div><div class="line number5273 index5272 alt2">&nbsp;</div><div class="line number5274 index5273 alt1"><code class="js string">//=============================================================================</code></div><div class="line number5275 index5274 alt2"><code class="js string">// Window_BattleStatus</code></div><div class="line number5276 index5275 alt1"><code class="js string">//=============================================================================</code></div><div class="line number5277 index5276 alt2">&nbsp;</div><div class="line number5278 index5277 alt1"><code class="js string">Window_BattleStatus.prototype.numVisibleRows = function() {</code></div><div class="line number5279 index5278 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return Yanfly.Param.BECCommandRows;</code></div><div class="line number5280 index5279 alt1"><code class="js string">};</code></div><div class="line number5281 index5280 alt2">&nbsp;</div><div class="line number5282 index5281 alt1"><code class="js string">Window_BattleStatus.prototype.updateStatusRequests = function() {</code></div><div class="line number5283 index5282 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (BattleManager._victoryPhase) return;</code></div><div class="line number5284 index5283 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">for (var i = 0; i &lt; $gameParty.battleMembers().length; ++i) {</code></div><div class="line number5285 index5284 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var actor = $gameParty.battleMembers()[i];</code></div><div class="line number5286 index5285 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!actor) continue;</code></div><div class="line number5287 index5286 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (actor.isStatusRefreshRequested()) this.processStatusRefresh(i);</code></div><div class="line number5288 index5287 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5289 index5288 alt2"><code class="js string">};</code></div><div class="line number5290 index5289 alt1">&nbsp;</div><div class="line number5291 index5290 alt2"><code class="js string">Window_BattleStatus.prototype.processStatusRefresh = function(index) {</code></div><div class="line number5292 index5291 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var actor = $gameParty.battleMembers()[index];</code></div><div class="line number5293 index5292 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!actor) return;</code></div><div class="line number5294 index5293 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var rect = this.itemRect(index);</code></div><div class="line number5295 index5294 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.contents.clearRect(rect.x, rect.y, rect.width, rect.height);</code></div><div class="line number5296 index5295 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.drawItem(index);</code></div><div class="line number5297 index5296 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">actor.completetStatusRefreshRequest();</code></div><div class="line number5298 index5297 alt1"><code class="js string">};</code></div><div class="line number5299 index5298 alt2">&nbsp;</div><div class="line number5300 index5299 alt1"><code class="js string">Window_BattleStatus.prototype.update = function() {</code></div><div class="line number5301 index5300 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Window_Selectable.prototype.update.call(this);</code></div><div class="line number5302 index5301 alt1"><code class="js string">};</code></div><div class="line number5303 index5302 alt2">&nbsp;</div><div class="line number5304 index5303 alt1"><code class="js string">if (!Yanfly.Param.BECCurMax) {</code></div><div class="line number5305 index5304 alt2">&nbsp;</div><div class="line number5306 index5305 alt1"><code class="js string">Window_BattleStatus.prototype.drawCurrentAndMax = function(current, max, x, y,</code></div><div class="line number5307 index5306 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">width, color1, color2) {</code></div><div class="line number5308 index5307 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var labelWidth = this.textWidth('</code><code class="js plain">HP</code><code class="js string">');</code></div><div class="line number5309 index5308 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var valueWidth = this.textWidth(Yanfly.Util.toGroup(max));</code></div><div class="line number5310 index5309 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var slashWidth = this.textWidth('</code><code class="js plain">/</code><code class="js string">');</code></div><div class="line number5311 index5310 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var x1 = x + width - valueWidth;</code></div><div class="line number5312 index5311 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.changeTextColor(color1);</code></div><div class="line number5313 index5312 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.drawText(Yanfly.Util.toGroup(current), x1, y, valueWidth, '</code><code class="js plain">right</code><code class="js string">');</code></div><div class="line number5314 index5313 alt1"><code class="js string">};</code></div><div class="line number5315 index5314 alt2">&nbsp;</div><div class="line number5316 index5315 alt1"><code class="js string">}; // Yanfly.Param.BECCurMax</code></div><div class="line number5317 index5316 alt2">&nbsp;</div><div class="line number5318 index5317 alt1"><code class="js string">//=============================================================================</code></div><div class="line number5319 index5318 alt2"><code class="js string">// Window_BattleLog</code></div><div class="line number5320 index5319 alt1"><code class="js string">//=============================================================================</code></div><div class="line number5321 index5320 alt2">&nbsp;</div><div class="line number5322 index5321 alt1"><code class="js string">Yanfly.BEC.Window_BattleLog_isFastForward =</code></div><div class="line number5323 index5322 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Window_BattleLog.prototype.isFastForward;</code></div><div class="line number5324 index5323 alt1"><code class="js string">Window_BattleLog.prototype.isFastForward = function() {</code></div><div class="line number5325 index5324 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Yanfly.Param.BECOptSpeed) return true;</code></div><div class="line number5326 index5325 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return Yanfly.BEC.Window_BattleLog_isFastForward.call(this);</code></div><div class="line number5327 index5326 alt2"><code class="js string">};</code></div><div class="line number5328 index5327 alt1">&nbsp;</div><div class="line number5329 index5328 alt2"><code class="js string">Window_BattleLog.prototype.updateWaitCount = function() {</code></div><div class="line number5330 index5329 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._waitCount &gt; 0) {</code></div><div class="line number5331 index5330 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._waitCount -= 1;</code></div><div class="line number5332 index5331 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._waitCount &lt; 0) {</code></div><div class="line number5333 index5332 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._waitCount = 0;</code></div><div class="line number5334 index5333 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5335 index5334 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return true;</code></div><div class="line number5336 index5335 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5337 index5336 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return false;</code></div><div class="line number5338 index5337 alt1"><code class="js string">};</code></div><div class="line number5339 index5338 alt2">&nbsp;</div><div class="line number5340 index5339 alt1"><code class="js string">Window_BattleLog.prototype.animationBaseDelay = function() {</code></div><div class="line number5341 index5340 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return Yanfly.Param.BECAniBaseDel;</code></div><div class="line number5342 index5341 alt1"><code class="js string">};</code></div><div class="line number5343 index5342 alt2">&nbsp;</div><div class="line number5344 index5343 alt1"><code class="js string">Window_BattleLog.prototype.animationNextDelay = function() {</code></div><div class="line number5345 index5344 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return Yanfly.Param.BECAniNextDel;</code></div><div class="line number5346 index5345 alt1"><code class="js string">};</code></div><div class="line number5347 index5346 alt2">&nbsp;</div><div class="line number5348 index5347 alt1"><code class="js string">Window_BattleLog.prototype.updateWaitMode = function() {</code></div><div class="line number5349 index5348 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var waiting = false;</code></div><div class="line number5350 index5349 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">switch (this._waitMode) {</code></div><div class="line number5351 index5350 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">case '</code><code class="js plain">effect</code><code class="js string">':</code></div><div class="line number5352 index5351 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">waiting = this._spriteset.isEffecting();</code></div><div class="line number5353 index5352 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">break;</code></div><div class="line number5354 index5353 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">case '</code><code class="js plain">movement</code><code class="js string">':</code></div><div class="line number5355 index5354 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">waiting = this._spriteset.isAnyoneMoving();</code></div><div class="line number5356 index5355 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">break;</code></div><div class="line number5357 index5356 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">case '</code><code class="js plain">animation</code><code class="js string">':</code></div><div class="line number5358 index5357 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">waiting = this._spriteset.isAnimationPlaying();</code></div><div class="line number5359 index5358 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">break;</code></div><div class="line number5360 index5359 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">case '</code><code class="js plain">popups</code><code class="js string">':</code></div><div class="line number5361 index5360 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">waiting = this._spriteset.isPopupPlaying();</code></div><div class="line number5362 index5361 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">break;</code></div><div class="line number5363 index5362 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5364 index5363 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!waiting) {</code></div><div class="line number5365 index5364 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._waitMode = '</code><code class="js string">';</code></div><div class="line number5366 index5365 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5367 index5366 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return waiting;</code></div><div class="line number5368 index5367 alt1"><code class="js string">};</code></div><div class="line number5369 index5368 alt2">&nbsp;</div><div class="line number5370 index5369 alt1"><code class="js string">Window_BattleLog.prototype.startAction = function(subject, action, targets) {</code></div><div class="line number5371 index5370 alt2"><code class="js string">};</code></div><div class="line number5372 index5371 alt1">&nbsp;</div><div class="line number5373 index5372 alt2"><code class="js string">Window_BattleLog.prototype.endAction = function(subject) {</code></div><div class="line number5374 index5373 alt1"><code class="js string">};</code></div><div class="line number5375 index5374 alt2">&nbsp;</div><div class="line number5376 index5375 alt1"><code class="js string">Window_BattleLog.prototype.waitForAnimation = function() {</code></div><div class="line number5377 index5376 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.setWaitMode('</code><code class="js plain">animation</code><code class="js string">');</code></div><div class="line number5378 index5377 alt1"><code class="js string">};</code></div><div class="line number5379 index5378 alt2">&nbsp;</div><div class="line number5380 index5379 alt1"><code class="js string">Window_BattleLog.prototype.waitForEffect = function() {</code></div><div class="line number5381 index5380 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.setWaitMode('</code><code class="js plain">effect</code><code class="js string">');</code></div><div class="line number5382 index5381 alt1"><code class="js string">};</code></div><div class="line number5383 index5382 alt2">&nbsp;</div><div class="line number5384 index5383 alt1"><code class="js string">Window_BattleLog.prototype.waitForPopups = function() {</code></div><div class="line number5385 index5384 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.setWaitMode('</code><code class="js plain">popups</code><code class="js string">');</code></div><div class="line number5386 index5385 alt1"><code class="js string">};</code></div><div class="line number5387 index5386 alt2">&nbsp;</div><div class="line number5388 index5387 alt1"><code class="js string">Yanfly.BEC.Window_BattleLog_displayAction =</code></div><div class="line number5389 index5388 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Window_BattleLog.prototype.displayAction;</code></div><div class="line number5390 index5389 alt1"><code class="js string">Window_BattleLog.prototype.displayAction = function(subject, item) {</code></div><div class="line number5391 index5390 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Yanfly.Param.BECFullActText) {</code></div><div class="line number5392 index5391 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Window_BattleLog_displayAction.call(this, subject, item);</code></div><div class="line number5393 index5392 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number5394 index5393 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this._actionIcon = this.displayIcon(item);</code></div><div class="line number5395 index5394 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var text = this.displayText(item);</code></div><div class="line number5396 index5395 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.push('</code><code class="js plain">addText</code><code class="js string">', '</code><code class="js plain">&lt;SIMPLE&gt;</code><code class="js string">' + text);</code></div><div class="line number5397 index5396 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (item.message2) {</code></div><div class="line number5398 index5397 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.push('</code><code class="js plain">addText</code><code class="js string">', '</code><code class="js plain">&lt;CENTER&gt;</code><code class="js string">' + item.message2.format(text));</code></div><div class="line number5399 index5398 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5400 index5399 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5401 index5400 alt2"><code class="js string">};</code></div><div class="line number5402 index5401 alt1">&nbsp;</div><div class="line number5403 index5402 alt2"><code class="js string">Window_BattleLog.prototype.displayIcon = function(item) {</code></div><div class="line number5404 index5403 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!item) return 0;</code></div><div class="line number5405 index5404 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return item.battleDisplayIcon;</code></div><div class="line number5406 index5405 alt1"><code class="js string">};</code></div><div class="line number5407 index5406 alt2">&nbsp;</div><div class="line number5408 index5407 alt1"><code class="js string">Window_BattleLog.prototype.displayText = function(item) {</code></div><div class="line number5409 index5408 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!item) return '</code><code class="js string">';</code></div><div class="line number5410 index5409 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return item.battleDisplayText;</code></div><div class="line number5411 index5410 alt2"><code class="js string">};</code></div><div class="line number5412 index5411 alt1">&nbsp;</div><div class="line number5413 index5412 alt2"><code class="js string">Yanfly.BEC.Window_BattleLog_displayActionResults =</code></div><div class="line number5414 index5413 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Window_BattleLog.prototype.displayActionResults;</code></div><div class="line number5415 index5414 alt2"><code class="js string">Window_BattleLog.prototype.displayActionResults = function(subject, target) {</code></div><div class="line number5416 index5415 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Yanfly.Param.BECOptSpeed) {</code></div><div class="line number5417 index5416 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target.result().used) {</code></div><div class="line number5418 index5417 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.displayCritical(target);</code></div><div class="line number5419 index5418 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.displayDamage(target);</code></div><div class="line number5420 index5419 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.displayAffectedStatus(target);</code></div><div class="line number5421 index5420 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.displayFailure(target);</code></div><div class="line number5422 index5421 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5423 index5422 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number5424 index5423 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Window_BattleLog_displayActionResults.call(this, subject,</code></div><div class="line number5425 index5424 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">target);</code></div><div class="line number5426 index5425 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5427 index5426 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (target.isDead()) target.performCollapse();</code></div><div class="line number5428 index5427 alt1"><code class="js string">};</code></div><div class="line number5429 index5428 alt2">&nbsp;</div><div class="line number5430 index5429 alt1"><code class="js string">Yanfly.BEC.Window_BattleLog_drawLineText =</code></div><div class="line number5431 index5430 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Window_BattleLog.prototype.drawLineText;</code></div><div class="line number5432 index5431 alt1"><code class="js string">Window_BattleLog.prototype.drawLineText = function(index) {</code></div><div class="line number5433 index5432 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._lines[index].match('</code><code class="js plain">&lt;CENTER&gt;</code><code class="js string">')) {</code></div><div class="line number5434 index5433 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.drawCenterLine(index);</code></div><div class="line number5435 index5434 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else if (this._lines[index].match('</code><code class="js plain">&lt;SIMPLE&gt;</code><code class="js string">')) {</code></div><div class="line number5436 index5435 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.drawSimpleActionLine(index);</code></div><div class="line number5437 index5436 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number5438 index5437 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Window_BattleLog_drawLineText.call(this, index);</code></div><div class="line number5439 index5438 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5440 index5439 alt1"><code class="js string">};</code></div><div class="line number5441 index5440 alt2">&nbsp;</div><div class="line number5442 index5441 alt1"><code class="js string">Window_BattleLog.prototype.textWidthEx = function(text) {</code></div><div class="line number5443 index5442 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">return this.drawTextEx(text, 0, this.contents.height + this.lineHeight());</code></div><div class="line number5444 index5443 alt1"><code class="js string">};</code></div><div class="line number5445 index5444 alt2">&nbsp;</div><div class="line number5446 index5445 alt1"><code class="js string">Window_BattleLog.prototype.drawCenterLine = function(index) {</code></div><div class="line number5447 index5446 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var text = this._lines[index].replace('</code><code class="js plain">&lt;CENTER&gt;</code><code class="js string">', '</code><code class="js string">');</code></div><div class="line number5448 index5447 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var rect = this.itemRectForText(index);</code></div><div class="line number5449 index5448 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.contents.clearRect(rect.x, rect.y, rect.width, rect.height);</code></div><div class="line number5450 index5449 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var tw = this.textWidthEx(text);</code></div><div class="line number5451 index5450 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var wx = rect.x + (rect.width - tw) / 2;</code></div><div class="line number5452 index5451 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.resetFontSettings();</code></div><div class="line number5453 index5452 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.drawTextEx(text, wx, rect.y);</code></div><div class="line number5454 index5453 alt1"><code class="js string">};</code></div><div class="line number5455 index5454 alt2">&nbsp;</div><div class="line number5456 index5455 alt1"><code class="js string">Window_BattleLog.prototype.drawSimpleActionLine = function(index) {</code></div><div class="line number5457 index5456 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var text = this._lines[index].replace('</code><code class="js plain">&lt;SIMPLE&gt;</code><code class="js string">', '</code><code class="js string">');</code></div><div class="line number5458 index5457 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var rect = this.itemRectForText(index);</code></div><div class="line number5459 index5458 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.contents.clearRect(rect.x, rect.y, rect.width, rect.height);</code></div><div class="line number5460 index5459 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (this._actionIcon) {</code></div><div class="line number5461 index5460 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var tw = this.textWidth(text);</code></div><div class="line number5462 index5461 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var ix = (rect.width - tw) / 2 - 4;</code></div><div class="line number5463 index5462 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.drawIcon(this._actionIcon, ix, rect.y + 2);</code></div><div class="line number5464 index5463 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5465 index5464 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.drawText(text, rect.x, rect.y, Graphics.boxWidth, '</code><code class="js plain">center</code><code class="js string">');</code></div><div class="line number5466 index5465 alt1"><code class="js string">};</code></div><div class="line number5467 index5466 alt2">&nbsp;</div><div class="line number5468 index5467 alt1"><code class="js string">Window_BattleLog.prototype.displayCounter = function(target) {</code></div><div class="line number5469 index5468 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Yanfly.Param.BECShowCntText) {</code></div><div class="line number5470 index5469 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.addText(TextManager.counterAttack.format(target.name()));</code></div><div class="line number5471 index5470 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5472 index5471 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">target.performCounter();</code></div><div class="line number5473 index5472 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.showAttackAnimation(target, [BattleManager._subject]);</code></div><div class="line number5474 index5473 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.waitForAnimation();</code></div><div class="line number5475 index5474 alt2"><code class="js string">};</code></div><div class="line number5476 index5475 alt1">&nbsp;</div><div class="line number5477 index5476 alt2"><code class="js string">Window_BattleLog.prototype.displayReflection = function(target) {</code></div><div class="line number5478 index5477 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Yanfly.Param.BECShowRflText) {</code></div><div class="line number5479 index5478 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.addText(TextManager.magicReflection.format(target.name()));</code></div><div class="line number5480 index5479 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5481 index5480 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">target.performReflection();</code></div><div class="line number5482 index5481 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var animationId = BattleManager._action.item().animationId;</code></div><div class="line number5483 index5482 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.showNormalAnimation([BattleManager._subject], animationId);</code></div><div class="line number5484 index5483 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.waitForAnimation();</code></div><div class="line number5485 index5484 alt2"><code class="js string">};</code></div><div class="line number5486 index5485 alt1">&nbsp;</div><div class="line number5487 index5486 alt2"><code class="js string">Window_BattleLog.prototype.displaySubstitute = function(substitute, target) {</code></div><div class="line number5488 index5487 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (Yanfly.Param.BECShowSubText) {</code></div><div class="line number5489 index5488 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">var substName = substitute.name();</code></div><div class="line number5490 index5489 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.addText(TextManager.substitute.format(substName, target.name()));</code></div><div class="line number5491 index5490 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5492 index5491 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">substitute.performSubstitute(target);</code></div><div class="line number5493 index5492 alt2"><code class="js string">};</code></div><div class="line number5494 index5493 alt1">&nbsp;</div><div class="line number5495 index5494 alt2"><code class="js string">Yanfly.BEC.Window_BattleLog_displayFailure =</code></div><div class="line number5496 index5495 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Window_BattleLog.prototype.displayFailure;</code></div><div class="line number5497 index5496 alt2"><code class="js string">Window_BattleLog.prototype.displayFailure = function(target) {</code></div><div class="line number5498 index5497 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!Yanfly.Param.BECShowFailText) return;</code></div><div class="line number5499 index5498 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Window_BattleLog_displayFailure.call(this, target);</code></div><div class="line number5500 index5499 alt1"><code class="js string">};</code></div><div class="line number5501 index5500 alt2">&nbsp;</div><div class="line number5502 index5501 alt1"><code class="js string">Yanfly.BEC.Window_BattleLog_displayCritical =</code></div><div class="line number5503 index5502 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Window_BattleLog.prototype.displayCritical;</code></div><div class="line number5504 index5503 alt1"><code class="js string">Window_BattleLog.prototype.displayCritical = function(target) {</code></div><div class="line number5505 index5504 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!Yanfly.Param.BECShowCritText) return;</code></div><div class="line number5506 index5505 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Window_BattleLog_displayCritical.call(this, target);</code></div><div class="line number5507 index5506 alt2"><code class="js string">};</code></div><div class="line number5508 index5507 alt1">&nbsp;</div><div class="line number5509 index5508 alt2"><code class="js string">Yanfly.BEC.Window_BattleLog_displayMiss =</code></div><div class="line number5510 index5509 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Window_BattleLog.prototype.displayMiss;</code></div><div class="line number5511 index5510 alt2"><code class="js string">Window_BattleLog.prototype.displayMiss = function(target) {</code></div><div class="line number5512 index5511 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!Yanfly.Param.BECShowMissText) return;</code></div><div class="line number5513 index5512 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Window_BattleLog_displayMiss.call(this, target);</code></div><div class="line number5514 index5513 alt1"><code class="js string">};</code></div><div class="line number5515 index5514 alt2">&nbsp;</div><div class="line number5516 index5515 alt1"><code class="js string">Yanfly.BEC.Window_BattleLog_displayEvasion =</code></div><div class="line number5517 index5516 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Window_BattleLog.prototype.displayEvasion;</code></div><div class="line number5518 index5517 alt1"><code class="js string">Window_BattleLog.prototype.displayEvasion = function(target) {</code></div><div class="line number5519 index5518 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!Yanfly.Param.BECShowEvaText) return;</code></div><div class="line number5520 index5519 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Window_BattleLog_displayEvasion.call(this, target);</code></div><div class="line number5521 index5520 alt2"><code class="js string">};</code></div><div class="line number5522 index5521 alt1">&nbsp;</div><div class="line number5523 index5522 alt2"><code class="js string">Yanfly.BEC.Window_BattleLog_displayHpDamage =</code></div><div class="line number5524 index5523 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Window_BattleLog.prototype.displayHpDamage;</code></div><div class="line number5525 index5524 alt2"><code class="js string">Window_BattleLog.prototype.displayHpDamage = function(target) {</code></div><div class="line number5526 index5525 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!Yanfly.Param.BECShowHpText) return;</code></div><div class="line number5527 index5526 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Window_BattleLog_displayHpDamage.call(this, target);</code></div><div class="line number5528 index5527 alt1"><code class="js string">};</code></div><div class="line number5529 index5528 alt2">&nbsp;</div><div class="line number5530 index5529 alt1"><code class="js string">Yanfly.BEC.Window_BattleLog_displayMpDamage =</code></div><div class="line number5531 index5530 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Window_BattleLog.prototype.displayMpDamage;</code></div><div class="line number5532 index5531 alt1"><code class="js string">Window_BattleLog.prototype.displayMpDamage = function(target) {</code></div><div class="line number5533 index5532 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!Yanfly.Param.BECShowMpText) return;</code></div><div class="line number5534 index5533 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Window_BattleLog_displayMpDamage.call(this, target);</code></div><div class="line number5535 index5534 alt2"><code class="js string">};</code></div><div class="line number5536 index5535 alt1">&nbsp;</div><div class="line number5537 index5536 alt2"><code class="js string">Yanfly.BEC.Window_BattleLog_displayTpDamage =</code></div><div class="line number5538 index5537 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Window_BattleLog.prototype.displayTpDamage;</code></div><div class="line number5539 index5538 alt2"><code class="js string">Window_BattleLog.prototype.displayTpDamage = function(target) {</code></div><div class="line number5540 index5539 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!Yanfly.Param.BECShowTpText) return;</code></div><div class="line number5541 index5540 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Window_BattleLog_displayTpDamage.call(this, target);</code></div><div class="line number5542 index5541 alt1"><code class="js string">};</code></div><div class="line number5543 index5542 alt2">&nbsp;</div><div class="line number5544 index5543 alt1"><code class="js string">Yanfly.BEC.Window_BattleLog_displayCurrentState =</code></div><div class="line number5545 index5544 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Window_BattleLog.prototype.displayCurrentState;</code></div><div class="line number5546 index5545 alt1"><code class="js string">Window_BattleLog.prototype.displayCurrentState = function(subject) {</code></div><div class="line number5547 index5546 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!Yanfly.Param.BECShowStateText) return;</code></div><div class="line number5548 index5547 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Window_BattleLog_displayCurrentState.call(this, subject);</code></div><div class="line number5549 index5548 alt2"><code class="js string">};</code></div><div class="line number5550 index5549 alt1">&nbsp;</div><div class="line number5551 index5550 alt2"><code class="js string">Yanfly.BEC.Window_BattleLog_displayAddedStates =</code></div><div class="line number5552 index5551 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Window_BattleLog.prototype.displayAddedStates;</code></div><div class="line number5553 index5552 alt2"><code class="js string">Window_BattleLog.prototype.displayAddedStates = function(target) {</code></div><div class="line number5554 index5553 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!Yanfly.Param.BECShowStateText) return;</code></div><div class="line number5555 index5554 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Window_BattleLog_displayAddedStates.call(this, target);</code></div><div class="line number5556 index5555 alt1"><code class="js string">};</code></div><div class="line number5557 index5556 alt2">&nbsp;</div><div class="line number5558 index5557 alt1"><code class="js string">Yanfly.BEC.Window_BattleLog_displayRemovedStates =</code></div><div class="line number5559 index5558 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Window_BattleLog.prototype.displayRemovedStates;</code></div><div class="line number5560 index5559 alt1"><code class="js string">Window_BattleLog.prototype.displayRemovedStates = function(target) {</code></div><div class="line number5561 index5560 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!Yanfly.Param.BECShowStateText) return;</code></div><div class="line number5562 index5561 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Window_BattleLog_displayRemovedStates.call(this, target);</code></div><div class="line number5563 index5562 alt2"><code class="js string">};</code></div><div class="line number5564 index5563 alt1">&nbsp;</div><div class="line number5565 index5564 alt2"><code class="js string">Yanfly.BEC.Window_BattleLog_displayChangedBuffs =</code></div><div class="line number5566 index5565 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Window_BattleLog.prototype.displayChangedBuffs;</code></div><div class="line number5567 index5566 alt2"><code class="js string">Window_BattleLog.prototype.displayChangedBuffs = function(target) {</code></div><div class="line number5568 index5567 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!Yanfly.Param.BECShowBuffText) return;</code></div><div class="line number5569 index5568 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Window_BattleLog_displayChangedBuffs.call(this, target);</code></div><div class="line number5570 index5569 alt1"><code class="js string">};</code></div><div class="line number5571 index5570 alt2">&nbsp;</div><div class="line number5572 index5571 alt1"><code class="js string">Window_BattleLog.prototype.popupDamage = function(target) {</code></div><div class="line number5573 index5572 alt2"><code class="js string">};</code></div><div class="line number5574 index5573 alt1">&nbsp;</div><div class="line number5575 index5574 alt2"><code class="js string">Yanfly.BEC.Window_BattleLog_showEnemyAttackAnimation =</code></div><div class="line number5576 index5575 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Window_BattleLog.prototype.showEnemyAttackAnimation;</code></div><div class="line number5577 index5576 alt2"><code class="js string">Window_BattleLog.prototype.showEnemyAttackAnimation =</code></div><div class="line number5578 index5577 alt1"><code class="js string">function(subject, targets) {</code></div><div class="line number5579 index5578 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if ($gameSystem.isSideView()) {</code></div><div class="line number5580 index5579 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.showNormalAnimation(targets, subject.attackAnimationId(), false);</code></div><div class="line number5581 index5580 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number5582 index5581 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.showNormalAnimation(targets, subject.attackAnimationId(), false);</code></div><div class="line number5583 index5582 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">Yanfly.BEC.Window_BattleLog_showEnemyAttackAnimation.call(this, subject,</code></div><div class="line number5584 index5583 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">targets);</code></div><div class="line number5585 index5584 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5586 index5585 alt1"><code class="js string">};</code></div><div class="line number5587 index5586 alt2">&nbsp;</div><div class="line number5588 index5587 alt1"><code class="js string">Window_BattleLog.prototype.showActorAtkAniMirror = function(subject, targets) {</code></div><div class="line number5589 index5588 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (subject.isActor()) {</code></div><div class="line number5590 index5589 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.showNormalAnimation(targets, subject.attackAnimationId1(), true);</code></div><div class="line number5591 index5590 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.showNormalAnimation(targets, subject.attackAnimationId2(), false);</code></div><div class="line number5592 index5591 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">} else {</code></div><div class="line number5593 index5592 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">this.showNormalAnimation(targets, subject.attackAnimationId1(), true)</code></div><div class="line number5594 index5593 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">}</code></div><div class="line number5595 index5594 alt2"><code class="js string">};</code></div><div class="line number5596 index5595 alt1">&nbsp;</div><div class="line number5597 index5596 alt2"><code class="js string">//=============================================================================</code></div><div class="line number5598 index5597 alt1"><code class="js string">// New Function</code></div><div class="line number5599 index5598 alt2"><code class="js string">//=============================================================================</code></div><div class="line number5600 index5599 alt1">&nbsp;</div><div class="line number5601 index5600 alt2"><code class="js string">Yanfly.Util = Yanfly.Util || {};</code></div><div class="line number5602 index5601 alt1">&nbsp;</div><div class="line number5603 index5602 alt2"><code class="js string">Yanfly.Util.displayError = function(e, code, message) {</code></div><div class="line number5604 index5603 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">console.log(message);</code></div><div class="line number5605 index5604 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">console.log(code || '</code><code class="js plain">NON-EXISTENT</code><code class="js string">');</code></div><div class="line number5606 index5605 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">console.error(e);</code></div><div class="line number5607 index5606 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js string">if (Utils.isNwjs() &amp;&amp; Utils.isOptionValid('</code><code class="js plain">test</code><code class="js string">')) {</code></div><div class="line number5608 index5607 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">if (!require('</code><code class="js plain">nw.gui</code><code class="js string">').Window.get().isDevToolsOpen()) {</code></div><div class="line number5609 index5608 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js string">require('</code><code class="js plain">nw.gui').Window.get().showDevTools();</code></div><div class="line number5610 index5609 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">}</code></div><div class="line number5611 index5610 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js plain">}</code></div><div class="line number5612 index5611 alt1"><code class="js plain">};</code></div><div class="line number5613 index5612 alt2">&nbsp;</div><div class="line number5614 index5613 alt1"><code class="js keyword">if</code> <code class="js plain">(!Yanfly.Util.toGroup) {</code></div><div class="line number5615 index5614 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">Yanfly.Util.toGroup = </code><code class="js keyword">function</code><code class="js plain">(inVal) {</code></div><div class="line number5616 index5615 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword">return</code> <code class="js plain">inVal;</code></div><div class="line number5617 index5616 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">}</code></div><div class="line number5618 index5617 alt1"><code class="js plain">};</code></div><div class="line number5619 index5618 alt2">&nbsp;</div><div class="line number5620 index5619 alt1"><code class="js plain">Yanfly.Util.getRange = </code><code class="js keyword">function</code><code class="js plain">(n, m) {</code></div><div class="line number5621 index5620 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword">var</code> <code class="js plain">result = [];</code></div><div class="line number5622 index5621 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword">for</code> <code class="js plain">(</code><code class="js keyword">var</code> <code class="js plain">i = n; i &lt;= m; ++i) result.push(i);</code></div><div class="line number5623 index5622 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword">return</code> <code class="js plain">result;</code></div><div class="line number5624 index5623 alt1"><code class="js plain">};</code></div><div class="line number5625 index5624 alt2">&nbsp;</div><div class="line number5626 index5625 alt1"><code class="js plain">Yanfly.Util.onlyUnique = </code><code class="js keyword">function</code><code class="js plain">(value, index, self) {</code></div><div class="line number5627 index5626 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword">return</code> <code class="js plain">self.indexOf(value) === index;</code></div><div class="line number5628 index5627 alt1"><code class="js plain">};</code></div><div class="line number5629 index5628 alt2">&nbsp;</div><div class="line number5630 index5629 alt1"><code class="js comments">//=============================================================================</code></div><div class="line number5631 index5630 alt2"><code class="js comments">// End of File</code></div><div class="line number5632 index5631 alt1"><code class="js comments">//=============================================================================</code></div></div></td></tr></tbody></table></div></div>
 

</body></html>