define(["require","exports","tslib","react","classnames","spectrum_comments/thread","spectrum_comments/comment","spectrum_comments/comment_editor/comment_utils","spectrum_comments/comment_editor/comment_editor","spectrum_comments/comment_editor/components/post_bar"],function(e,t,n,o,a,r,i,d,s,c){"use strict";function m(e){return o.createElement(c.PostBar,n.__assign({},e,{buttonLabel:"Post"}))}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeThreadID:"",content:d.createEmptyContent(),editedComment:void 0},t.onThreadActivated=function(e){return function(){t.setState({activeThreadID:e.id}),t.props.actionsAdapter.onThreadActivated(e)}},t.onStartEdit=function(e){t.setState({editedComment:e})},t.onEndEdit=function(){t.setState({editedComment:void 0})},t.handleClick=function(e){e.currentTarget===e.target&&t.setState({activeThreadID:""})},t.onContentChange=function(e){e.isFocused&&t.props.actionsAdapter.onEditorFocused()},t.onPost=function(e,n){t.setState({content:d.createEmptyContent()}),t.props.actionsAdapter.onThreadCreated(e,n)},t}return n.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,d=t.className,c=void 0===d?"":d,u=t.commentComponent,p=void 0===u?function(e){return o.createElement(i.Comment,n.__assign({},e))}:u,l=t.editorComponent,h=void 0===l?function(e){return o.createElement(s.CommentEditor,n.__assign({},e))}:l,C=t.user,v=t.mentionsMatches,f=t.initialActiveThreadID,A=n.__rest(t,["className","commentComponent","editorComponent","user","mentionsMatches","initialActiveThreadID"]),E=this.state.activeThreadID;f&&0==E.length&&(E=f);var T=a(c,{"sc-comment-stream":!0,"sc-comment-stream-enabled":A.enabled}),_=h({author:C,className:"sc-comment-stream-editor",content:this.state.content,onContentChange:this.onContentChange,placeholder:"Write a comment",postSignalComponent:m,onPost:A.actionsAdapter.onThreadCreated,mentionsMatches:v,onMentionsQueryUpdated:A.actionsAdapter.onMentionsQueryUpdated}),M=A.threads.map(function(t){return o.createElement(r.Thread,{key:t.id,actions:{onClickTimeCode:A.actionsAdapter.onClickTimeCode,onReply:function(e){return A.actionsAdapter.onThreadRepliedTo(t.id,e)},onMarkAsRead:function(){return A.actionsAdapter.onThreadMarkedAsRead(t.id)},onMarkAsUnread:function(){return A.actionsAdapter.onThreadMarkedAsUnread(t.id)},onResolve:function(){return A.actionsAdapter.onThreadResolved(t.id)},onUnresolve:function(){return A.actionsAdapter.onThreadUnresolved(t.id)},onEditorFocused:function(){return A.actionsAdapter.onEditorFocused(t.id)},onCommentDeleted:function(e){return A.actionsAdapter.onCommentDeleted(e)},onCommentEdited:function(e,t){return A.actionsAdapter.onCommentEdited(e,t)},onMentionsQueryUpdated:A.actionsAdapter.onMentionsQueryUpdated},active:t.id===E,commentComponent:p,editedComment:e.state.editedComment,onActivated:e.onThreadActivated(t),onStartEdit:e.onStartEdit,onEndEdit:e.onEndEdit,thread:t,user:C,mentionsMatches:v})});return o.createElement("div",{className:T},_,o.createElement("ul",{className:"sc-comment-stream-threads",onClick:this.handleClick},M))},t})(o.PureComponent);t.CommentStream=u,r.Thread.displayName="Thread"});
//# sourceMappingURL=comment_stream.min.js-vflHFPWDK.map